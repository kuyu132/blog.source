{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"source/lib/fancybox/LICENSE","path":"lib/fancybox/LICENSE","modified":0,"renderable":0},{"_id":"source/images/electron_background.png","path":"images/electron_background.png","modified":0,"renderable":0}],"Cache":[{"_id":"themes/yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1585014529789},{"_id":"themes/yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1585014529789},{"_id":"source/.DS_Store","hash":"cabb878e6b70702b1f5dcaffada1e163f192f862","modified":1585036591389},{"_id":"themes/yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1585014529788},{"_id":"themes/yilia/_config.yml","hash":"db6555168c14a936b32495cdf77b715b9a962d1d","modified":1585014765690},{"_id":"themes/yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1585014529789},{"_id":"themes/yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1585014529789},{"_id":"themes/yilia/README.md","hash":"1bf755806af9d8874bd22e1abbdaaa24328ef4dc","modified":1585014529789},{"_id":"themes/yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1585014529789},{"_id":"themes/yilia/package.json","hash":"367cb9579d35968a942c243ab248a5f5ebfaf462","modified":1585014529798},{"_id":"themes/yilia/webpack.config.js","hash":"05ba46a4ae744272f5312e684928910dccad3755","modified":1585014529822},{"_id":"source/_posts/hello-world.md","hash":"63fb193834daec893ebe7200182dce25a9e40bc1","modified":1584927342658},{"_id":"source/_posts/electron开发入门.md","hash":"22f666bdfb61aa60ca1a1a75a17e1541ec684228","modified":1585143353385},{"_id":"themes/yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1585014529790},{"_id":"themes/yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1585014529791},{"_id":"themes/yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1585014529790},{"_id":"themes/yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1585014529790},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1585014529791},{"_id":"themes/yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1585014529791},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1585014529791},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1585014529797},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1585014529797},{"_id":"themes/yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1585014529798},{"_id":"themes/yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1585014529797},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1585014529798},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1585014529798},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1585014529798},{"_id":"themes/yilia/source/main.0cf68a.css","hash":"ddf6e2c6b953c2c59a3c271e6070010a4cc81cf9","modified":1585014529820},{"_id":"themes/yilia/source/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1585014529822},{"_id":"themes/yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1585014529799},{"_id":"themes/yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1585014529812},{"_id":"themes/yilia/layout/_partial/toc.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1585014529796},{"_id":"themes/yilia/source/main.0cf68a.js","hash":"993fadeb5f6d296e9d997a49ee20dc97333ceab7","modified":1585014529820},{"_id":"themes/yilia/source/mobile.992cbe.js","hash":"01b35e71e37aa2849664eb5daf26daede2278398","modified":1585014529821},{"_id":"source/lib/fancybox/.bower.json","hash":"d8bf9cb15d9d91c7ad022ba2954b5b4d326f17f7","modified":1585014636140},{"_id":"source/lib/fancybox/README.md","hash":"8286582ed7c338fce8bb03566b769fba378bce83","modified":1585014636140},{"_id":"source/lib/fancybox/LICENSE","hash":"8624bcdae55baeef00cd11d5dfcfa60f68710a02","modified":1585014636140},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"b86b248720ad415ec1b5fee53fb583776c776f83","modified":1585014529791},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"630c6ec866d056657d3d91e34b4c64eb993c0654","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"236f8a377b2e4e35754319c3029bcd4a4115431d","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/aside.ejs","hash":"8edbd7993b9b061611a193533a664e2e85eae748","modified":1585014529792},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1585014529793},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1585014529793},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"64f092186b5a744aa1603ce22bb1d44a34446add","modified":1585014529793},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"183d7ca4ba8e7c80694ffdc8cf39957092238346","modified":1585014529793},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1585014529793},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1585014529794},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1585014529797},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"c41341b9618e591538e1136a2d1637587c1bbd90","modified":1585014529797},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1585014529813},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1585014529813},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1585014529816},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1585014529814},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1585014529816},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1585014529816},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1585014529818},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1585014529818},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1585014529818},{"_id":"themes/yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1585014529809},{"_id":"themes/yilia/source-src/js/aside.js","hash":"754f771264548a6c5a8ad842908e59ae4e7ed099","modified":1585014529809},{"_id":"themes/yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1585014529809},{"_id":"themes/yilia/source-src/js/fix.js","hash":"d6782d53c992e712af39c84e804eccaf38830b94","modified":1585014529810},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1585014529810},{"_id":"themes/yilia/source-src/js/main.js","hash":"3894e60827c817319e43c9ff3ed045fc3d7336ce","modified":1585014529810},{"_id":"themes/yilia/source-src/js/report.js","hash":"4f1d9a18a936ce40b037f636a39127dd19175b6e","modified":1585014529811},{"_id":"themes/yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1585014529811},{"_id":"themes/yilia/source-src/js/slider.js","hash":"e846bcc5aac9c68b93f7b8de353df54d8d29f666","modified":1585014529811},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"2577deb6a9fe4f5436360b2ce9afcc7f9a7f0116","modified":1585014529812},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1585014529799},{"_id":"themes/yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1585014529811},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1585014529799},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"7d27e22ac898e8fafec14549e940c73cbea1fba8","modified":1585014529799},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"43e507f2a48504079afd9471353337e23ca47470","modified":1585014529800},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"d79f2d35a06de83a2a226ca790b7a0a34789c115","modified":1585014529799},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1585014529800},{"_id":"themes/yilia/source-src/css/aside.scss","hash":"578a67464dd0f542197f7fcee158c991db058563","modified":1585014529800},{"_id":"themes/yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1585014529800},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"97b8fba41c914145710b90091f400b845879577f","modified":1585014529801},{"_id":"themes/yilia/source-src/css/comment.scss","hash":"cafe3834017a3bf47420f37543725025225a2c89","modified":1585014529800},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1585014529803},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1585014529803},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1585014529804},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1585014529804},{"_id":"themes/yilia/source-src/css/left.scss","hash":"0d30c0e7cdb831c3881a017006c782f2214ac195","modified":1585014529805},{"_id":"themes/yilia/source-src/css/main.scss","hash":"2f86a014af93583caba78a563d9549826bf28294","modified":1585014529805},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1585014529805},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"ace041d72f95b419f6a5e443191703c2b62007f4","modified":1585014529805},{"_id":"themes/yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1585014529806},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1585014529806},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1585014529806},{"_id":"themes/yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1585014529806},{"_id":"themes/yilia/source-src/css/social.scss","hash":"724162ccf3977e70a45d189abfaa20b6e2fba87b","modified":1585014529806},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"1b1aa0908e58cf942b28e3881d07c5573c4129e1","modified":1585014529807},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1585014529807},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1585014529807},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1585014529808},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"4cb685f07e89dd5175c2a576e73a1a957aec5637","modified":1585014529796},{"_id":"themes/yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1585014529809},{"_id":"source/lib/fancybox/source/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1585014636141},{"_id":"source/lib/fancybox/source/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1585014636141},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"0809a4829aabeb4e911a3ed04ec28db4df7dfe3f","modified":1585014529794},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1585014529794},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"e8399025ed3b980aedb821c92855889f5f12fd5b","modified":1585014529794},{"_id":"themes/yilia/layout/_partial/post/changyan.ejs","hash":"5f99b55980da64a723a8e14d5a7daba0d6504647","modified":1585014529794},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1585014529795},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1585014529795},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"5dccfbe165b23a101f1333cc65ed8efbd197453c","modified":1585014529795},{"_id":"themes/yilia/layout/_partial/post/gitment.ejs","hash":"e68bbac9ffb1ad27b56837c9abad6ed6bb7daa0c","modified":1585014529795},{"_id":"themes/yilia/layout/_partial/post/wangyiyun.ejs","hash":"ea41c462168d9697caef9485862e9cac718a12c1","modified":1585014529795},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1585014529795},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1585014529801},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1585014529801},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1585014529801},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1585014529801},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1585014529801},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1585014529802},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1585014529802},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1585014529803},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1585014529803},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1585014529804},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1585014529805},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1585014529804},{"_id":"source/lib/fancybox/source/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1585014636146},{"_id":"source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"27f034e5db8c32e268e2959b9a7c1258d36e4510","modified":1585014636148},{"_id":"themes/yilia/source/img/header.jpg","hash":"9bc28b0ad07de8d209657b1af4983f6fbad913d8","modified":1585014824850},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1585036551533},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1585036551533},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.js","hash":"c1e32a148d70d344fb9f1b5de0fe805768343ac0","modified":1585036551533},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"5cd95ba91127dd7a96e3fd578dcac13164acdbe1","modified":1585036551533},{"_id":"public/lib/fancybox/README.html","hash":"3c627cdbcc0905dd5cb34b9e8419a339c85a8bb4","modified":1585036551533},{"_id":"public/2020/03/16/electron开发入门/index.html","hash":"1b63f2843d5c7ce9f797b50b8e369d9eebb266e4","modified":1585036551533},{"_id":"public/2020/03/16/hello-world/index.html","hash":"abbe9b68be54a4a3307e6bb3fd4fcfe2d85a7e62","modified":1585036551533},{"_id":"public/archives/2020/index.html","hash":"93b433285676380efd81857f055a49dfd6d2c000","modified":1585036551533},{"_id":"public/archives/index.html","hash":"22b5b73c9d18c0c78e222b04b7c17f50c22454fa","modified":1585036551533},{"_id":"public/archives/2020/03/index.html","hash":"11567b4b02a20a9cd1224674a3b9116d9788625e","modified":1585036551533},{"_id":"public/index.html","hash":"4bea7d9b6f9b20dd36cdae8de0f26053262518a1","modified":1585036551533},{"_id":"public/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1585036551533},{"_id":"public/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1585036551533},{"_id":"public/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1585036551533},{"_id":"public/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1585036551533},{"_id":"public/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1585036551533},{"_id":"public/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1585036551533},{"_id":"public/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1585036551533},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1585036551533},{"_id":"public/lib/fancybox/LICENSE","hash":"8624bcdae55baeef00cd11d5dfcfa60f68710a02","modified":1585036551533},{"_id":"public/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1585036551533},{"_id":"public/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1585036551533},{"_id":"public/main.0cf68a.css","hash":"ddf6e2c6b953c2c59a3c271e6070010a4cc81cf9","modified":1585036551533},{"_id":"public/main.0cf68a.js","hash":"993fadeb5f6d296e9d997a49ee20dc97333ceab7","modified":1585036551533},{"_id":"public/mobile.992cbe.js","hash":"01b35e71e37aa2849664eb5daf26daede2278398","modified":1585036551533},{"_id":"public/img/header.jpg","hash":"9bc28b0ad07de8d209657b1af4983f6fbad913d8","modified":1585036551533},{"_id":"source/_posts/node入坑.md","hash":"96acee20729dd8cf05a2a1132515259d3c1f53fc","modified":1585108466614},{"_id":"source/images/electron_background.png","hash":"121f408e5624480e52f6afbcbdcbea173a41bd68","modified":1585127554340}],"Category":[],"Data":[],"Page":[{"_content":"<h1 align=\"center\"><a href=\"https://github.com/fancyapps/fancybox\">fancyBox 3</a> for <a href=\"https://github.com/theme-next\">NexT</a></h1>\n\n<h2 align=\"center\">If you want fancybox v2, please go to <a href=\"https://github.com/theme-next/theme-next-fancybox\">theme-next-fancybox</a></h2>\n\n<h1 align=\"center\">Installation</h1>\n\n<h2 align=\"center\">Step 0 &rarr; Delete fancybox 2 (if you want to upgrade from v2)</h2>\n\n```bash\n$ rm -rf themes/next/source/lib/fancybox\n```\n\n<h2>If you want to use the CDN instead of clone this repo, please jump to the Step 3.</h2>\n\n<h2 align=\"center\">Step 1 &rarr; Go to NexT dir</h2>\n\nChange dir to **NexT** directory. There must be `layout`, `source`, `languages` and other directories:\n\n```sh\n$ cd themes/next\n$ ls\nbower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  source  test\n```\n\n<h2 align=\"center\">Step 2 &rarr; Get module</h2>\n\nInstall module to `source/lib` directory:\n\n```sh\n$ git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox\n```\n\n<h2 align=\"center\">Step 3 &rarr; Set it up</h2>\n\nEnable module in **NexT** `_config.yml` file:\n\n```yml\nfancybox: true\n```\n\n**And, if you wants to use the CDN, then need to set:**\n\n```yml\nvendors:\n  ...\n  fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js\n  fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css\n```\n\n<h1 align=\"center\">Update</h1>\n\n```sh\n$ cd themes/next/source/lib/fancybox\n$ git pull\n```\n","source":"lib/fancybox/README.md","raw":"<h1 align=\"center\"><a href=\"https://github.com/fancyapps/fancybox\">fancyBox 3</a> for <a href=\"https://github.com/theme-next\">NexT</a></h1>\n\n<h2 align=\"center\">If you want fancybox v2, please go to <a href=\"https://github.com/theme-next/theme-next-fancybox\">theme-next-fancybox</a></h2>\n\n<h1 align=\"center\">Installation</h1>\n\n<h2 align=\"center\">Step 0 &rarr; Delete fancybox 2 (if you want to upgrade from v2)</h2>\n\n```bash\n$ rm -rf themes/next/source/lib/fancybox\n```\n\n<h2>If you want to use the CDN instead of clone this repo, please jump to the Step 3.</h2>\n\n<h2 align=\"center\">Step 1 &rarr; Go to NexT dir</h2>\n\nChange dir to **NexT** directory. There must be `layout`, `source`, `languages` and other directories:\n\n```sh\n$ cd themes/next\n$ ls\nbower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  source  test\n```\n\n<h2 align=\"center\">Step 2 &rarr; Get module</h2>\n\nInstall module to `source/lib` directory:\n\n```sh\n$ git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox\n```\n\n<h2 align=\"center\">Step 3 &rarr; Set it up</h2>\n\nEnable module in **NexT** `_config.yml` file:\n\n```yml\nfancybox: true\n```\n\n**And, if you wants to use the CDN, then need to set:**\n\n```yml\nvendors:\n  ...\n  fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js\n  fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css\n```\n\n<h1 align=\"center\">Update</h1>\n\n```sh\n$ cd themes/next/source/lib/fancybox\n$ git pull\n```\n","date":"2020-03-24T01:50:36.140Z","updated":"2020-03-24T01:50:36.140Z","path":"lib/fancybox/README.html","title":"","comments":1,"layout":"page","_id":"ck85lu6sl00024s1ze5y9a1k4","content":"<h1 align=\"center\"><a href=\"https://github.com/fancyapps/fancybox\" target=\"_blank\" rel=\"noopener\">fancyBox 3</a> for <a href=\"https://github.com/theme-next\" target=\"_blank\" rel=\"noopener\">NexT</a></h1>\n\n<h2 align=\"center\">If you want fancybox v2, please go to <a href=\"https://github.com/theme-next/theme-next-fancybox\" target=\"_blank\" rel=\"noopener\">theme-next-fancybox</a></h2>\n\n<h1 align=\"center\">Installation</h1>\n\n<h2 align=\"center\">Step 0 &rarr; Delete fancybox 2 (if you want to upgrade from v2)</h2>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf themes/next/<span class=\"built_in\">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure>\n\n<h2>If you want to use the CDN instead of clone this repo, please jump to the Step 3.</h2>\n\n<h2 align=\"center\">Step 1 &rarr; Go to NexT dir</h2>\n\n<p>Change dir to <strong>NexT</strong> directory. There must be <code>layout</code>, <code>source</code>, <code>languages</code> and other directories:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> themes/next</span><br><span class=\"line\">$ ls</span><br><span class=\"line\">bower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  <span class=\"built_in\">source</span>  <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n\n<h2 align=\"center\">Step 2 &rarr; Get module</h2>\n\n<p>Install module to <code>source/lib</code> directory:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git <span class=\"built_in\">clone</span> https://github.com/theme-next/theme-next-fancybox3 <span class=\"built_in\">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure>\n\n<h2 align=\"center\">Step 3 &rarr; Set it up</h2>\n\n<p>Enable module in <strong>NexT</strong> <code>_config.yml</code> file:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">fancybox:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>And, if you wants to use the CDN, then need to set:</strong></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">vendors:</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\">  <span class=\"attr\">fancybox:</span> <span class=\"string\">//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js</span></span><br><span class=\"line\">  <span class=\"attr\">fancybox_css:</span> <span class=\"string\">//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css</span></span><br></pre></td></tr></table></figure>\n\n<h1 align=\"center\">Update</h1>\n\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> themes/next/<span class=\"built_in\">source</span>/lib/fancybox</span><br><span class=\"line\">$ git pull</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 align=\"center\"><a href=\"https://github.com/fancyapps/fancybox\" target=\"_blank\" rel=\"noopener\">fancyBox 3</a> for <a href=\"https://github.com/theme-next\" target=\"_blank\" rel=\"noopener\">NexT</a></h1>\n\n<h2 align=\"center\">If you want fancybox v2, please go to <a href=\"https://github.com/theme-next/theme-next-fancybox\" target=\"_blank\" rel=\"noopener\">theme-next-fancybox</a></h2>\n\n<h1 align=\"center\">Installation</h1>\n\n<h2 align=\"center\">Step 0 &rarr; Delete fancybox 2 (if you want to upgrade from v2)</h2>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf themes/next/<span class=\"built_in\">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure>\n\n<h2>If you want to use the CDN instead of clone this repo, please jump to the Step 3.</h2>\n\n<h2 align=\"center\">Step 1 &rarr; Go to NexT dir</h2>\n\n<p>Change dir to <strong>NexT</strong> directory. There must be <code>layout</code>, <code>source</code>, <code>languages</code> and other directories:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> themes/next</span><br><span class=\"line\">$ ls</span><br><span class=\"line\">bower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  <span class=\"built_in\">source</span>  <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n\n<h2 align=\"center\">Step 2 &rarr; Get module</h2>\n\n<p>Install module to <code>source/lib</code> directory:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git <span class=\"built_in\">clone</span> https://github.com/theme-next/theme-next-fancybox3 <span class=\"built_in\">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure>\n\n<h2 align=\"center\">Step 3 &rarr; Set it up</h2>\n\n<p>Enable module in <strong>NexT</strong> <code>_config.yml</code> file:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">fancybox:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>And, if you wants to use the CDN, then need to set:</strong></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">vendors:</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\">  <span class=\"attr\">fancybox:</span> <span class=\"string\">//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js</span></span><br><span class=\"line\">  <span class=\"attr\">fancybox_css:</span> <span class=\"string\">//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css</span></span><br></pre></td></tr></table></figure>\n\n<h1 align=\"center\">Update</h1>\n\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> themes/next/<span class=\"built_in\">source</span>/lib/fancybox</span><br><span class=\"line\">$ git pull</span><br></pre></td></tr></table></figure>\n"},{"_content":"body.compensate-for-scrollbar {\n    overflow: hidden;\n}\n\n.fancybox-active {\n    height: auto;\n}\n\n.fancybox-is-hidden {\n    left: -9999px;\n    margin: 0;\n    position: absolute !important;\n    top: -9999px;\n    visibility: hidden;\n}\n\n.fancybox-container {\n    -webkit-backface-visibility: hidden;\n    height: 100%;\n    left: 0;\n    outline: none;\n    position: fixed;\n    -webkit-tap-highlight-color: transparent;\n    top: 0;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    transform: translateZ(0);\n    width: 100%;\n    z-index: 99992;\n}\n\n.fancybox-container * {\n    box-sizing: border-box;\n}\n\n.fancybox-outer,\n.fancybox-inner,\n.fancybox-bg,\n.fancybox-stage {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-outer {\n    -webkit-overflow-scrolling: touch;\n    overflow-y: auto;\n}\n\n.fancybox-bg {\n    background: rgb(30, 30, 30);\n    opacity: 0;\n    transition-duration: inherit;\n    transition-property: opacity;\n    transition-timing-function: cubic-bezier(.47, 0, .74, .71);\n}\n\n.fancybox-is-open .fancybox-bg {\n    opacity: .9;\n    transition-timing-function: cubic-bezier(.22, .61, .36, 1);\n}\n\n.fancybox-infobar,\n.fancybox-toolbar,\n.fancybox-caption,\n.fancybox-navigation .fancybox-button {\n    direction: ltr;\n    opacity: 0;\n    position: absolute;\n    transition: opacity .25s ease, visibility 0s ease .25s;\n    visibility: hidden;\n    z-index: 99997;\n}\n\n.fancybox-show-infobar .fancybox-infobar,\n.fancybox-show-toolbar .fancybox-toolbar,\n.fancybox-show-caption .fancybox-caption,\n.fancybox-show-nav .fancybox-navigation .fancybox-button {\n    opacity: 1;\n    transition: opacity .25s ease 0s, visibility 0s ease 0s;\n    visibility: visible;\n}\n\n.fancybox-infobar {\n    color: #ccc;\n    font-size: 13px;\n    -webkit-font-smoothing: subpixel-antialiased;\n    height: 44px;\n    left: 0;\n    line-height: 44px;\n    min-width: 44px;\n    mix-blend-mode: difference;\n    padding: 0 10px;\n    pointer-events: none;\n    top: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.fancybox-toolbar {\n    right: 0;\n    top: 0;\n}\n\n.fancybox-stage {\n    direction: ltr;\n    overflow: visible;\n    transform: translateZ(0);\n    z-index: 99994;\n}\n\n.fancybox-is-open .fancybox-stage {\n    overflow: hidden;\n}\n\n.fancybox-slide {\n    -webkit-backface-visibility: hidden;\n    /* Using without prefix would break IE11 */\n    display: none;\n    height: 100%;\n    left: 0;\n    outline: none;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: absolute;\n    text-align: center;\n    top: 0;\n    transition-property: transform, opacity;\n    white-space: normal;\n    width: 100%;\n    z-index: 99994;\n}\n\n.fancybox-slide::before {\n    content: '';\n    display: inline-block;\n    font-size: 0;\n    height: 100%;\n    vertical-align: middle;\n    width: 0;\n}\n\n.fancybox-is-sliding .fancybox-slide,\n.fancybox-slide--previous,\n.fancybox-slide--current,\n.fancybox-slide--next {\n    display: block;\n}\n\n.fancybox-slide--image {\n    overflow: hidden;\n    padding: 44px 0;\n}\n\n.fancybox-slide--image::before {\n    display: none;\n}\n\n.fancybox-slide--html {\n    padding: 6px;\n}\n\n.fancybox-content {\n    background: #fff;\n    display: inline-block;\n    margin: 0;\n    max-width: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: relative;\n    text-align: left;\n    vertical-align: middle;\n}\n\n.fancybox-slide--image .fancybox-content {\n    animation-timing-function: cubic-bezier(.5, 0, .14, 1);\n    -webkit-backface-visibility: hidden;\n    background: transparent;\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    left: 0;\n    max-width: none;\n    overflow: visible;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -ms-transform-origin: top left;\n    transform-origin: top left;\n    transition-property: transform, opacity;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    z-index: 99995;\n}\n\n.fancybox-can-zoomOut .fancybox-content {\n    cursor: zoom-out;\n}\n\n.fancybox-can-zoomIn .fancybox-content {\n    cursor: zoom-in;\n}\n\n.fancybox-can-swipe .fancybox-content,\n.fancybox-can-pan .fancybox-content {\n    cursor: -webkit-grab;\n    cursor: grab;\n}\n\n.fancybox-is-grabbing .fancybox-content {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n}\n\n.fancybox-container [data-selectable='true'] {\n    cursor: text;\n}\n\n.fancybox-image,\n.fancybox-spaceball {\n    background: transparent;\n    border: 0;\n    height: 100%;\n    left: 0;\n    margin: 0;\n    max-height: none;\n    max-width: none;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    width: 100%;\n}\n\n.fancybox-spaceball {\n    z-index: 1;\n}\n\n.fancybox-slide--video .fancybox-content,\n.fancybox-slide--map .fancybox-content,\n.fancybox-slide--pdf .fancybox-content,\n.fancybox-slide--iframe .fancybox-content {\n    height: 100%;\n    overflow: visible;\n    padding: 0;\n    width: 100%;\n}\n\n.fancybox-slide--video .fancybox-content {\n    background: #000;\n}\n\n.fancybox-slide--map .fancybox-content {\n    background: #e5e3df;\n}\n\n.fancybox-slide--iframe .fancybox-content {\n    background: #fff;\n}\n\n.fancybox-video,\n.fancybox-iframe {\n    background: transparent;\n    border: 0;\n    display: block;\n    height: 100%;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    width: 100%;\n}\n\n/* Fix iOS */\n.fancybox-iframe {\n    left: 0;\n    position: absolute;\n    top: 0;\n}\n\n.fancybox-error {\n    background: #fff;\n    cursor: default;\n    max-width: 400px;\n    padding: 40px;\n    width: 100%;\n}\n\n.fancybox-error p {\n    color: #444;\n    font-size: 16px;\n    line-height: 20px;\n    margin: 0;\n    padding: 0;\n}\n\n/* Buttons */\n\n.fancybox-button {\n    background: rgba(30, 30, 30, .6);\n    border: 0;\n    border-radius: 0;\n    box-shadow: none;\n    cursor: pointer;\n    display: inline-block;\n    height: 44px;\n    margin: 0;\n    padding: 10px;\n    position: relative;\n    transition: color .2s;\n    vertical-align: top;\n    visibility: inherit;\n    width: 44px;\n}\n\n.fancybox-button,\n.fancybox-button:visited,\n.fancybox-button:link {\n    color: #ccc;\n}\n\n.fancybox-button:hover {\n    color: #fff;\n}\n\n.fancybox-button:focus {\n    outline: none;\n}\n\n.fancybox-button.fancybox-focus {\n    outline: 1px dotted;\n}\n\n.fancybox-button[disabled],\n.fancybox-button[disabled]:hover {\n    color: #888;\n    cursor: default;\n    outline: none;\n}\n\n/* Fix IE11 */\n.fancybox-button div {\n    height: 100%;\n}\n\n.fancybox-button svg {\n    display: block;\n    height: 100%;\n    overflow: visible;\n    position: relative;\n    width: 100%;\n}\n\n.fancybox-button svg path {\n    fill: currentColor;\n    stroke-width: 0;\n}\n\n.fancybox-button--play svg:nth-child(2),\n.fancybox-button--fsenter svg:nth-child(2) {\n    display: none;\n}\n\n.fancybox-button--pause svg:nth-child(1),\n.fancybox-button--fsexit svg:nth-child(1) {\n    display: none;\n}\n\n.fancybox-progress {\n    background: #ff5268;\n    height: 2px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    -ms-transform: scaleX(0);\n    transform: scaleX(0);\n    -ms-transform-origin: 0;\n    transform-origin: 0;\n    transition-property: transform;\n    transition-timing-function: linear;\n    z-index: 99998;\n}\n\n/* Close button on the top right corner of html content */\n\n.fancybox-close-small {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    color: #ccc;\n    cursor: pointer;\n    opacity: .8;\n    padding: 8px;\n    position: absolute;\n    right: -12px;\n    top: -44px;\n    z-index: 401;\n}\n\n.fancybox-close-small:hover {\n    color: #fff;\n    opacity: 1;\n}\n\n.fancybox-slide--html .fancybox-close-small {\n    color: currentColor;\n    padding: 10px;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-slide--image.fancybox-is-scaling .fancybox-content {\n    overflow: hidden;\n}\n\n.fancybox-is-scaling .fancybox-close-small,\n.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small {\n    display: none;\n}\n\n/* Navigation arrows */\n\n.fancybox-navigation .fancybox-button {\n    background-clip: content-box;\n    height: 100px;\n    opacity: 0;\n    position: absolute;\n    top: calc(50% - 50px);\n    width: 70px;\n}\n\n.fancybox-navigation .fancybox-button div {\n    padding: 7px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_left {\n    left: 0;\n    left: env(safe-area-inset-left);\n    padding: 31px 26px 31px 6px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_right {\n    padding: 31px 6px 31px 26px;\n    right: 0;\n    right: env(safe-area-inset-right);\n}\n\n/* Caption */\n\n.fancybox-caption {\n    background: linear-gradient(to top,\n        rgba(0, 0, 0, .85) 0%,\n        rgba(0, 0, 0, .3) 50%,\n        rgba(0, 0, 0, .15) 65%,\n        rgba(0, 0, 0, .075) 75.5%,\n        rgba(0, 0, 0, .037) 82.85%,\n        rgba(0, 0, 0, .019) 88%,\n        rgba(0, 0, 0, 0) 100%);\n    bottom: 0;\n    color: #eee;\n    font-size: 14px;\n    font-weight: 400;\n    left: 0;\n    line-height: 1.5;\n    padding: 75px 44px 25px 44px;\n    pointer-events: none;\n    right: 0;\n    text-align: center;\n    z-index: 99996;\n}\n\n@supports (padding: max(0px)) {\n    .fancybox-caption {\n        padding: 75px max(44px, env(safe-area-inset-right)) max(25px, env(safe-area-inset-bottom)) max(44px, env(safe-area-inset-left));\n    }\n}\n\n.fancybox-caption--separate {\n    margin-top: -50px;\n}\n\n.fancybox-caption__body {\n    max-height: 50vh;\n    overflow: auto;\n    pointer-events: all;\n}\n\n.fancybox-caption a,\n.fancybox-caption a:link,\n.fancybox-caption a:visited {\n    color: #ccc;\n    text-decoration: none;\n}\n\n.fancybox-caption a:hover {\n    color: #fff;\n    text-decoration: underline;\n}\n\n/* Loading indicator */\n\n.fancybox-loading {\n    animation: fancybox-rotate 1s linear infinite;\n    background: transparent;\n    border: 4px solid #888;\n    border-bottom-color: #fff;\n    border-radius: 50%;\n    height: 50px;\n    left: 50%;\n    margin: -25px 0 0 -25px;\n    opacity: .7;\n    padding: 0;\n    position: absolute;\n    top: 50%;\n    width: 50px;\n    z-index: 99999;\n}\n\n@keyframes fancybox-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n/* Transition effects */\n\n.fancybox-animated {\n    transition-timing-function: cubic-bezier(0, 0, .25, 1);\n}\n\n/* transitionEffect: slide */\n\n.fancybox-fx-slide.fancybox-slide--previous {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--next {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--current {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n}\n\n/* transitionEffect: fade */\n\n.fancybox-fx-fade.fancybox-slide--previous,\n.fancybox-fx-fade.fancybox-slide--next {\n    opacity: 0;\n    transition-timing-function: cubic-bezier(.19, 1, .22, 1);\n}\n\n.fancybox-fx-fade.fancybox-slide--current {\n    opacity: 1;\n}\n\n/* transitionEffect: zoom-in-out */\n\n.fancybox-fx-zoom-in-out.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(1.5, 1.5, 1.5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(.5, .5, .5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n/* transitionEffect: rotate */\n\n.fancybox-fx-rotate.fancybox-slide--previous {\n    opacity: 0;\n    -ms-transform: rotate(-360deg);\n    transform: rotate(-360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--next {\n    opacity: 0;\n    -ms-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--current {\n    opacity: 1;\n    -ms-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\n\n/* transitionEffect: circular */\n\n.fancybox-fx-circular.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);\n}\n\n/* transitionEffect: tube */\n\n.fancybox-fx-tube.fancybox-slide--previous {\n    transform: translate3d(-100%, 0, 0) scale(.1) skew(-10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--next {\n    transform: translate3d(100%, 0, 0) scale(.1) skew(10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--current {\n    transform: translate3d(0, 0, 0) scale(1);\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-height: 576px) {\n    .fancybox-slide {\n        padding-left: 6px;\n        padding-right: 6px;\n    }\n\n    .fancybox-slide--image {\n        padding: 6px 0;\n    }\n\n    .fancybox-close-small {\n        right: -6px;\n    }\n\n    .fancybox-slide--image .fancybox-close-small {\n        background: #4e4e4e;\n        color: #f2f4f6;\n        height: 36px;\n        opacity: 1;\n        padding: 6px;\n        right: 0;\n        top: 0;\n        width: 36px;\n    }\n\n    .fancybox-caption {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    @supports (padding: max(0px)) {\n        .fancybox-caption {\n            padding-left: max(12px, env(safe-area-inset-left));\n            padding-right: max(12px, env(safe-area-inset-right));\n        }\n    }\n}\n/* Share */\n\n.fancybox-share {\n    background: #f4f4f4;\n    border-radius: 3px;\n    max-width: 90%;\n    padding: 30px;\n    text-align: center;\n}\n\n.fancybox-share h1 {\n    color: #222;\n    font-size: 35px;\n    font-weight: 700;\n    margin: 0 0 20px 0;\n}\n\n.fancybox-share p {\n    margin: 0;\n    padding: 0;\n}\n\n.fancybox-share__button {\n    border: 0;\n    border-radius: 3px;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 40px;\n    margin: 0 5px 10px 5px;\n    min-width: 130px;\n    padding: 0 15px;\n    text-decoration: none;\n    transition: all .2s;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.fancybox-share__button:visited,\n.fancybox-share__button:link {\n    color: #fff;\n}\n\n.fancybox-share__button:hover {\n    text-decoration: none;\n}\n\n.fancybox-share__button--fb {\n    background: #3b5998;\n}\n\n.fancybox-share__button--fb:hover {\n    background: #344e86;\n}\n\n.fancybox-share__button--pt {\n    background: #bd081d;\n}\n\n.fancybox-share__button--pt:hover {\n    background: #aa0719;\n}\n\n.fancybox-share__button--tw {\n    background: #1da1f2;\n}\n\n.fancybox-share__button--tw:hover {\n    background: #0d95e8;\n}\n\n.fancybox-share__button svg {\n    height: 25px;\n    margin-right: 7px;\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    width: 25px;\n}\n\n.fancybox-share__button svg path {\n    fill: #fff;\n}\n\n.fancybox-share__input {\n    background: transparent;\n    border: 0;\n    border-bottom: 1px solid #d7d7d7;\n    border-radius: 0;\n    color: #5d5b5b;\n    font-size: 14px;\n    margin: 10px 0 0 0;\n    outline: none;\n    padding: 10px 15px;\n    width: 100%;\n}\n/* Thumbs */\n\n.fancybox-thumbs {\n    background: #ddd;\n    bottom: 0;\n    display: none;\n    margin: 0;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    padding: 2px 2px 4px 2px;\n    position: absolute;\n    right: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    top: 0;\n    width: 212px;\n    z-index: 99995;\n}\n\n.fancybox-thumbs-x {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n.fancybox-show-thumbs .fancybox-thumbs {\n    display: block;\n}\n\n.fancybox-show-thumbs .fancybox-inner {\n    right: 212px;\n}\n\n.fancybox-thumbs__list {\n    font-size: 0;\n    height: 100%;\n    list-style: none;\n    margin: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    padding: 0;\n    position: absolute;\n    position: relative;\n    white-space: nowrap;\n    width: 100%;\n}\n\n.fancybox-thumbs-x .fancybox-thumbs__list {\n    overflow: hidden;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar {\n    width: 7px;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track {\n    background: #fff;\n    border-radius: 10px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb {\n    background: #2a2a2a;\n    border-radius: 10px;\n}\n\n.fancybox-thumbs__list a {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    background-color: rgba(0, 0, 0, .1);\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    cursor: pointer;\n    float: left;\n    height: 75px;\n    margin: 2px;\n    max-height: calc(100% - 8px);\n    max-width: calc(50% - 4px);\n    outline: none;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    -webkit-tap-highlight-color: transparent;\n    width: 100px;\n}\n\n.fancybox-thumbs__list a::before {\n    border: 6px solid #ff5268;\n    bottom: 0;\n    content: '';\n    left: 0;\n    opacity: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transition: all .2s cubic-bezier(.25, .46, .45, .94);\n    z-index: 99991;\n}\n\n.fancybox-thumbs__list a:focus::before {\n    opacity: .5;\n}\n\n.fancybox-thumbs__list a.fancybox-thumbs-active::before {\n    opacity: 1;\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-width: 576px) {\n    .fancybox-thumbs {\n        width: 110px;\n    }\n\n    .fancybox-show-thumbs .fancybox-inner {\n        right: 110px;\n    }\n\n    .fancybox-thumbs__list a {\n        max-width: calc(100% - 10px);\n    }\n}","source":"lib/fancybox/source/jquery.fancybox.css","raw":"body.compensate-for-scrollbar {\n    overflow: hidden;\n}\n\n.fancybox-active {\n    height: auto;\n}\n\n.fancybox-is-hidden {\n    left: -9999px;\n    margin: 0;\n    position: absolute !important;\n    top: -9999px;\n    visibility: hidden;\n}\n\n.fancybox-container {\n    -webkit-backface-visibility: hidden;\n    height: 100%;\n    left: 0;\n    outline: none;\n    position: fixed;\n    -webkit-tap-highlight-color: transparent;\n    top: 0;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    transform: translateZ(0);\n    width: 100%;\n    z-index: 99992;\n}\n\n.fancybox-container * {\n    box-sizing: border-box;\n}\n\n.fancybox-outer,\n.fancybox-inner,\n.fancybox-bg,\n.fancybox-stage {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-outer {\n    -webkit-overflow-scrolling: touch;\n    overflow-y: auto;\n}\n\n.fancybox-bg {\n    background: rgb(30, 30, 30);\n    opacity: 0;\n    transition-duration: inherit;\n    transition-property: opacity;\n    transition-timing-function: cubic-bezier(.47, 0, .74, .71);\n}\n\n.fancybox-is-open .fancybox-bg {\n    opacity: .9;\n    transition-timing-function: cubic-bezier(.22, .61, .36, 1);\n}\n\n.fancybox-infobar,\n.fancybox-toolbar,\n.fancybox-caption,\n.fancybox-navigation .fancybox-button {\n    direction: ltr;\n    opacity: 0;\n    position: absolute;\n    transition: opacity .25s ease, visibility 0s ease .25s;\n    visibility: hidden;\n    z-index: 99997;\n}\n\n.fancybox-show-infobar .fancybox-infobar,\n.fancybox-show-toolbar .fancybox-toolbar,\n.fancybox-show-caption .fancybox-caption,\n.fancybox-show-nav .fancybox-navigation .fancybox-button {\n    opacity: 1;\n    transition: opacity .25s ease 0s, visibility 0s ease 0s;\n    visibility: visible;\n}\n\n.fancybox-infobar {\n    color: #ccc;\n    font-size: 13px;\n    -webkit-font-smoothing: subpixel-antialiased;\n    height: 44px;\n    left: 0;\n    line-height: 44px;\n    min-width: 44px;\n    mix-blend-mode: difference;\n    padding: 0 10px;\n    pointer-events: none;\n    top: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.fancybox-toolbar {\n    right: 0;\n    top: 0;\n}\n\n.fancybox-stage {\n    direction: ltr;\n    overflow: visible;\n    transform: translateZ(0);\n    z-index: 99994;\n}\n\n.fancybox-is-open .fancybox-stage {\n    overflow: hidden;\n}\n\n.fancybox-slide {\n    -webkit-backface-visibility: hidden;\n    /* Using without prefix would break IE11 */\n    display: none;\n    height: 100%;\n    left: 0;\n    outline: none;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: absolute;\n    text-align: center;\n    top: 0;\n    transition-property: transform, opacity;\n    white-space: normal;\n    width: 100%;\n    z-index: 99994;\n}\n\n.fancybox-slide::before {\n    content: '';\n    display: inline-block;\n    font-size: 0;\n    height: 100%;\n    vertical-align: middle;\n    width: 0;\n}\n\n.fancybox-is-sliding .fancybox-slide,\n.fancybox-slide--previous,\n.fancybox-slide--current,\n.fancybox-slide--next {\n    display: block;\n}\n\n.fancybox-slide--image {\n    overflow: hidden;\n    padding: 44px 0;\n}\n\n.fancybox-slide--image::before {\n    display: none;\n}\n\n.fancybox-slide--html {\n    padding: 6px;\n}\n\n.fancybox-content {\n    background: #fff;\n    display: inline-block;\n    margin: 0;\n    max-width: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: relative;\n    text-align: left;\n    vertical-align: middle;\n}\n\n.fancybox-slide--image .fancybox-content {\n    animation-timing-function: cubic-bezier(.5, 0, .14, 1);\n    -webkit-backface-visibility: hidden;\n    background: transparent;\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    left: 0;\n    max-width: none;\n    overflow: visible;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -ms-transform-origin: top left;\n    transform-origin: top left;\n    transition-property: transform, opacity;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    z-index: 99995;\n}\n\n.fancybox-can-zoomOut .fancybox-content {\n    cursor: zoom-out;\n}\n\n.fancybox-can-zoomIn .fancybox-content {\n    cursor: zoom-in;\n}\n\n.fancybox-can-swipe .fancybox-content,\n.fancybox-can-pan .fancybox-content {\n    cursor: -webkit-grab;\n    cursor: grab;\n}\n\n.fancybox-is-grabbing .fancybox-content {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n}\n\n.fancybox-container [data-selectable='true'] {\n    cursor: text;\n}\n\n.fancybox-image,\n.fancybox-spaceball {\n    background: transparent;\n    border: 0;\n    height: 100%;\n    left: 0;\n    margin: 0;\n    max-height: none;\n    max-width: none;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    width: 100%;\n}\n\n.fancybox-spaceball {\n    z-index: 1;\n}\n\n.fancybox-slide--video .fancybox-content,\n.fancybox-slide--map .fancybox-content,\n.fancybox-slide--pdf .fancybox-content,\n.fancybox-slide--iframe .fancybox-content {\n    height: 100%;\n    overflow: visible;\n    padding: 0;\n    width: 100%;\n}\n\n.fancybox-slide--video .fancybox-content {\n    background: #000;\n}\n\n.fancybox-slide--map .fancybox-content {\n    background: #e5e3df;\n}\n\n.fancybox-slide--iframe .fancybox-content {\n    background: #fff;\n}\n\n.fancybox-video,\n.fancybox-iframe {\n    background: transparent;\n    border: 0;\n    display: block;\n    height: 100%;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    width: 100%;\n}\n\n/* Fix iOS */\n.fancybox-iframe {\n    left: 0;\n    position: absolute;\n    top: 0;\n}\n\n.fancybox-error {\n    background: #fff;\n    cursor: default;\n    max-width: 400px;\n    padding: 40px;\n    width: 100%;\n}\n\n.fancybox-error p {\n    color: #444;\n    font-size: 16px;\n    line-height: 20px;\n    margin: 0;\n    padding: 0;\n}\n\n/* Buttons */\n\n.fancybox-button {\n    background: rgba(30, 30, 30, .6);\n    border: 0;\n    border-radius: 0;\n    box-shadow: none;\n    cursor: pointer;\n    display: inline-block;\n    height: 44px;\n    margin: 0;\n    padding: 10px;\n    position: relative;\n    transition: color .2s;\n    vertical-align: top;\n    visibility: inherit;\n    width: 44px;\n}\n\n.fancybox-button,\n.fancybox-button:visited,\n.fancybox-button:link {\n    color: #ccc;\n}\n\n.fancybox-button:hover {\n    color: #fff;\n}\n\n.fancybox-button:focus {\n    outline: none;\n}\n\n.fancybox-button.fancybox-focus {\n    outline: 1px dotted;\n}\n\n.fancybox-button[disabled],\n.fancybox-button[disabled]:hover {\n    color: #888;\n    cursor: default;\n    outline: none;\n}\n\n/* Fix IE11 */\n.fancybox-button div {\n    height: 100%;\n}\n\n.fancybox-button svg {\n    display: block;\n    height: 100%;\n    overflow: visible;\n    position: relative;\n    width: 100%;\n}\n\n.fancybox-button svg path {\n    fill: currentColor;\n    stroke-width: 0;\n}\n\n.fancybox-button--play svg:nth-child(2),\n.fancybox-button--fsenter svg:nth-child(2) {\n    display: none;\n}\n\n.fancybox-button--pause svg:nth-child(1),\n.fancybox-button--fsexit svg:nth-child(1) {\n    display: none;\n}\n\n.fancybox-progress {\n    background: #ff5268;\n    height: 2px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    -ms-transform: scaleX(0);\n    transform: scaleX(0);\n    -ms-transform-origin: 0;\n    transform-origin: 0;\n    transition-property: transform;\n    transition-timing-function: linear;\n    z-index: 99998;\n}\n\n/* Close button on the top right corner of html content */\n\n.fancybox-close-small {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    color: #ccc;\n    cursor: pointer;\n    opacity: .8;\n    padding: 8px;\n    position: absolute;\n    right: -12px;\n    top: -44px;\n    z-index: 401;\n}\n\n.fancybox-close-small:hover {\n    color: #fff;\n    opacity: 1;\n}\n\n.fancybox-slide--html .fancybox-close-small {\n    color: currentColor;\n    padding: 10px;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-slide--image.fancybox-is-scaling .fancybox-content {\n    overflow: hidden;\n}\n\n.fancybox-is-scaling .fancybox-close-small,\n.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small {\n    display: none;\n}\n\n/* Navigation arrows */\n\n.fancybox-navigation .fancybox-button {\n    background-clip: content-box;\n    height: 100px;\n    opacity: 0;\n    position: absolute;\n    top: calc(50% - 50px);\n    width: 70px;\n}\n\n.fancybox-navigation .fancybox-button div {\n    padding: 7px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_left {\n    left: 0;\n    left: env(safe-area-inset-left);\n    padding: 31px 26px 31px 6px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_right {\n    padding: 31px 6px 31px 26px;\n    right: 0;\n    right: env(safe-area-inset-right);\n}\n\n/* Caption */\n\n.fancybox-caption {\n    background: linear-gradient(to top,\n        rgba(0, 0, 0, .85) 0%,\n        rgba(0, 0, 0, .3) 50%,\n        rgba(0, 0, 0, .15) 65%,\n        rgba(0, 0, 0, .075) 75.5%,\n        rgba(0, 0, 0, .037) 82.85%,\n        rgba(0, 0, 0, .019) 88%,\n        rgba(0, 0, 0, 0) 100%);\n    bottom: 0;\n    color: #eee;\n    font-size: 14px;\n    font-weight: 400;\n    left: 0;\n    line-height: 1.5;\n    padding: 75px 44px 25px 44px;\n    pointer-events: none;\n    right: 0;\n    text-align: center;\n    z-index: 99996;\n}\n\n@supports (padding: max(0px)) {\n    .fancybox-caption {\n        padding: 75px max(44px, env(safe-area-inset-right)) max(25px, env(safe-area-inset-bottom)) max(44px, env(safe-area-inset-left));\n    }\n}\n\n.fancybox-caption--separate {\n    margin-top: -50px;\n}\n\n.fancybox-caption__body {\n    max-height: 50vh;\n    overflow: auto;\n    pointer-events: all;\n}\n\n.fancybox-caption a,\n.fancybox-caption a:link,\n.fancybox-caption a:visited {\n    color: #ccc;\n    text-decoration: none;\n}\n\n.fancybox-caption a:hover {\n    color: #fff;\n    text-decoration: underline;\n}\n\n/* Loading indicator */\n\n.fancybox-loading {\n    animation: fancybox-rotate 1s linear infinite;\n    background: transparent;\n    border: 4px solid #888;\n    border-bottom-color: #fff;\n    border-radius: 50%;\n    height: 50px;\n    left: 50%;\n    margin: -25px 0 0 -25px;\n    opacity: .7;\n    padding: 0;\n    position: absolute;\n    top: 50%;\n    width: 50px;\n    z-index: 99999;\n}\n\n@keyframes fancybox-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n/* Transition effects */\n\n.fancybox-animated {\n    transition-timing-function: cubic-bezier(0, 0, .25, 1);\n}\n\n/* transitionEffect: slide */\n\n.fancybox-fx-slide.fancybox-slide--previous {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--next {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--current {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n}\n\n/* transitionEffect: fade */\n\n.fancybox-fx-fade.fancybox-slide--previous,\n.fancybox-fx-fade.fancybox-slide--next {\n    opacity: 0;\n    transition-timing-function: cubic-bezier(.19, 1, .22, 1);\n}\n\n.fancybox-fx-fade.fancybox-slide--current {\n    opacity: 1;\n}\n\n/* transitionEffect: zoom-in-out */\n\n.fancybox-fx-zoom-in-out.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(1.5, 1.5, 1.5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(.5, .5, .5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n/* transitionEffect: rotate */\n\n.fancybox-fx-rotate.fancybox-slide--previous {\n    opacity: 0;\n    -ms-transform: rotate(-360deg);\n    transform: rotate(-360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--next {\n    opacity: 0;\n    -ms-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--current {\n    opacity: 1;\n    -ms-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\n\n/* transitionEffect: circular */\n\n.fancybox-fx-circular.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);\n}\n\n/* transitionEffect: tube */\n\n.fancybox-fx-tube.fancybox-slide--previous {\n    transform: translate3d(-100%, 0, 0) scale(.1) skew(-10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--next {\n    transform: translate3d(100%, 0, 0) scale(.1) skew(10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--current {\n    transform: translate3d(0, 0, 0) scale(1);\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-height: 576px) {\n    .fancybox-slide {\n        padding-left: 6px;\n        padding-right: 6px;\n    }\n\n    .fancybox-slide--image {\n        padding: 6px 0;\n    }\n\n    .fancybox-close-small {\n        right: -6px;\n    }\n\n    .fancybox-slide--image .fancybox-close-small {\n        background: #4e4e4e;\n        color: #f2f4f6;\n        height: 36px;\n        opacity: 1;\n        padding: 6px;\n        right: 0;\n        top: 0;\n        width: 36px;\n    }\n\n    .fancybox-caption {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    @supports (padding: max(0px)) {\n        .fancybox-caption {\n            padding-left: max(12px, env(safe-area-inset-left));\n            padding-right: max(12px, env(safe-area-inset-right));\n        }\n    }\n}\n/* Share */\n\n.fancybox-share {\n    background: #f4f4f4;\n    border-radius: 3px;\n    max-width: 90%;\n    padding: 30px;\n    text-align: center;\n}\n\n.fancybox-share h1 {\n    color: #222;\n    font-size: 35px;\n    font-weight: 700;\n    margin: 0 0 20px 0;\n}\n\n.fancybox-share p {\n    margin: 0;\n    padding: 0;\n}\n\n.fancybox-share__button {\n    border: 0;\n    border-radius: 3px;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 40px;\n    margin: 0 5px 10px 5px;\n    min-width: 130px;\n    padding: 0 15px;\n    text-decoration: none;\n    transition: all .2s;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.fancybox-share__button:visited,\n.fancybox-share__button:link {\n    color: #fff;\n}\n\n.fancybox-share__button:hover {\n    text-decoration: none;\n}\n\n.fancybox-share__button--fb {\n    background: #3b5998;\n}\n\n.fancybox-share__button--fb:hover {\n    background: #344e86;\n}\n\n.fancybox-share__button--pt {\n    background: #bd081d;\n}\n\n.fancybox-share__button--pt:hover {\n    background: #aa0719;\n}\n\n.fancybox-share__button--tw {\n    background: #1da1f2;\n}\n\n.fancybox-share__button--tw:hover {\n    background: #0d95e8;\n}\n\n.fancybox-share__button svg {\n    height: 25px;\n    margin-right: 7px;\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    width: 25px;\n}\n\n.fancybox-share__button svg path {\n    fill: #fff;\n}\n\n.fancybox-share__input {\n    background: transparent;\n    border: 0;\n    border-bottom: 1px solid #d7d7d7;\n    border-radius: 0;\n    color: #5d5b5b;\n    font-size: 14px;\n    margin: 10px 0 0 0;\n    outline: none;\n    padding: 10px 15px;\n    width: 100%;\n}\n/* Thumbs */\n\n.fancybox-thumbs {\n    background: #ddd;\n    bottom: 0;\n    display: none;\n    margin: 0;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    padding: 2px 2px 4px 2px;\n    position: absolute;\n    right: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    top: 0;\n    width: 212px;\n    z-index: 99995;\n}\n\n.fancybox-thumbs-x {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n.fancybox-show-thumbs .fancybox-thumbs {\n    display: block;\n}\n\n.fancybox-show-thumbs .fancybox-inner {\n    right: 212px;\n}\n\n.fancybox-thumbs__list {\n    font-size: 0;\n    height: 100%;\n    list-style: none;\n    margin: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    padding: 0;\n    position: absolute;\n    position: relative;\n    white-space: nowrap;\n    width: 100%;\n}\n\n.fancybox-thumbs-x .fancybox-thumbs__list {\n    overflow: hidden;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar {\n    width: 7px;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track {\n    background: #fff;\n    border-radius: 10px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb {\n    background: #2a2a2a;\n    border-radius: 10px;\n}\n\n.fancybox-thumbs__list a {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    background-color: rgba(0, 0, 0, .1);\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    cursor: pointer;\n    float: left;\n    height: 75px;\n    margin: 2px;\n    max-height: calc(100% - 8px);\n    max-width: calc(50% - 4px);\n    outline: none;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    -webkit-tap-highlight-color: transparent;\n    width: 100px;\n}\n\n.fancybox-thumbs__list a::before {\n    border: 6px solid #ff5268;\n    bottom: 0;\n    content: '';\n    left: 0;\n    opacity: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transition: all .2s cubic-bezier(.25, .46, .45, .94);\n    z-index: 99991;\n}\n\n.fancybox-thumbs__list a:focus::before {\n    opacity: .5;\n}\n\n.fancybox-thumbs__list a.fancybox-thumbs-active::before {\n    opacity: 1;\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-width: 576px) {\n    .fancybox-thumbs {\n        width: 110px;\n    }\n\n    .fancybox-show-thumbs .fancybox-inner {\n        right: 110px;\n    }\n\n    .fancybox-thumbs__list a {\n        max-width: calc(100% - 10px);\n    }\n}","date":"2020-03-24T01:50:36.141Z","updated":"2020-03-24T01:50:36.141Z","path":"lib/fancybox/source/jquery.fancybox.css","layout":"false","title":"","comments":1,"_id":"ck85lu6sx00034s1z9o560x8e","content":"body.compensate-for-scrollbar {\n    overflow: hidden;\n}\n\n.fancybox-active {\n    height: auto;\n}\n\n.fancybox-is-hidden {\n    left: -9999px;\n    margin: 0;\n    position: absolute !important;\n    top: -9999px;\n    visibility: hidden;\n}\n\n.fancybox-container {\n    -webkit-backface-visibility: hidden;\n    height: 100%;\n    left: 0;\n    outline: none;\n    position: fixed;\n    -webkit-tap-highlight-color: transparent;\n    top: 0;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    transform: translateZ(0);\n    width: 100%;\n    z-index: 99992;\n}\n\n.fancybox-container * {\n    box-sizing: border-box;\n}\n\n.fancybox-outer,\n.fancybox-inner,\n.fancybox-bg,\n.fancybox-stage {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-outer {\n    -webkit-overflow-scrolling: touch;\n    overflow-y: auto;\n}\n\n.fancybox-bg {\n    background: rgb(30, 30, 30);\n    opacity: 0;\n    transition-duration: inherit;\n    transition-property: opacity;\n    transition-timing-function: cubic-bezier(.47, 0, .74, .71);\n}\n\n.fancybox-is-open .fancybox-bg {\n    opacity: .9;\n    transition-timing-function: cubic-bezier(.22, .61, .36, 1);\n}\n\n.fancybox-infobar,\n.fancybox-toolbar,\n.fancybox-caption,\n.fancybox-navigation .fancybox-button {\n    direction: ltr;\n    opacity: 0;\n    position: absolute;\n    transition: opacity .25s ease, visibility 0s ease .25s;\n    visibility: hidden;\n    z-index: 99997;\n}\n\n.fancybox-show-infobar .fancybox-infobar,\n.fancybox-show-toolbar .fancybox-toolbar,\n.fancybox-show-caption .fancybox-caption,\n.fancybox-show-nav .fancybox-navigation .fancybox-button {\n    opacity: 1;\n    transition: opacity .25s ease 0s, visibility 0s ease 0s;\n    visibility: visible;\n}\n\n.fancybox-infobar {\n    color: #ccc;\n    font-size: 13px;\n    -webkit-font-smoothing: subpixel-antialiased;\n    height: 44px;\n    left: 0;\n    line-height: 44px;\n    min-width: 44px;\n    mix-blend-mode: difference;\n    padding: 0 10px;\n    pointer-events: none;\n    top: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.fancybox-toolbar {\n    right: 0;\n    top: 0;\n}\n\n.fancybox-stage {\n    direction: ltr;\n    overflow: visible;\n    transform: translateZ(0);\n    z-index: 99994;\n}\n\n.fancybox-is-open .fancybox-stage {\n    overflow: hidden;\n}\n\n.fancybox-slide {\n    -webkit-backface-visibility: hidden;\n    /* Using without prefix would break IE11 */\n    display: none;\n    height: 100%;\n    left: 0;\n    outline: none;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: absolute;\n    text-align: center;\n    top: 0;\n    transition-property: transform, opacity;\n    white-space: normal;\n    width: 100%;\n    z-index: 99994;\n}\n\n.fancybox-slide::before {\n    content: '';\n    display: inline-block;\n    font-size: 0;\n    height: 100%;\n    vertical-align: middle;\n    width: 0;\n}\n\n.fancybox-is-sliding .fancybox-slide,\n.fancybox-slide--previous,\n.fancybox-slide--current,\n.fancybox-slide--next {\n    display: block;\n}\n\n.fancybox-slide--image {\n    overflow: hidden;\n    padding: 44px 0;\n}\n\n.fancybox-slide--image::before {\n    display: none;\n}\n\n.fancybox-slide--html {\n    padding: 6px;\n}\n\n.fancybox-content {\n    background: #fff;\n    display: inline-block;\n    margin: 0;\n    max-width: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: relative;\n    text-align: left;\n    vertical-align: middle;\n}\n\n.fancybox-slide--image .fancybox-content {\n    animation-timing-function: cubic-bezier(.5, 0, .14, 1);\n    -webkit-backface-visibility: hidden;\n    background: transparent;\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    left: 0;\n    max-width: none;\n    overflow: visible;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -ms-transform-origin: top left;\n    transform-origin: top left;\n    transition-property: transform, opacity;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    z-index: 99995;\n}\n\n.fancybox-can-zoomOut .fancybox-content {\n    cursor: zoom-out;\n}\n\n.fancybox-can-zoomIn .fancybox-content {\n    cursor: zoom-in;\n}\n\n.fancybox-can-swipe .fancybox-content,\n.fancybox-can-pan .fancybox-content {\n    cursor: -webkit-grab;\n    cursor: grab;\n}\n\n.fancybox-is-grabbing .fancybox-content {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n}\n\n.fancybox-container [data-selectable='true'] {\n    cursor: text;\n}\n\n.fancybox-image,\n.fancybox-spaceball {\n    background: transparent;\n    border: 0;\n    height: 100%;\n    left: 0;\n    margin: 0;\n    max-height: none;\n    max-width: none;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    width: 100%;\n}\n\n.fancybox-spaceball {\n    z-index: 1;\n}\n\n.fancybox-slide--video .fancybox-content,\n.fancybox-slide--map .fancybox-content,\n.fancybox-slide--pdf .fancybox-content,\n.fancybox-slide--iframe .fancybox-content {\n    height: 100%;\n    overflow: visible;\n    padding: 0;\n    width: 100%;\n}\n\n.fancybox-slide--video .fancybox-content {\n    background: #000;\n}\n\n.fancybox-slide--map .fancybox-content {\n    background: #e5e3df;\n}\n\n.fancybox-slide--iframe .fancybox-content {\n    background: #fff;\n}\n\n.fancybox-video,\n.fancybox-iframe {\n    background: transparent;\n    border: 0;\n    display: block;\n    height: 100%;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    width: 100%;\n}\n\n/* Fix iOS */\n.fancybox-iframe {\n    left: 0;\n    position: absolute;\n    top: 0;\n}\n\n.fancybox-error {\n    background: #fff;\n    cursor: default;\n    max-width: 400px;\n    padding: 40px;\n    width: 100%;\n}\n\n.fancybox-error p {\n    color: #444;\n    font-size: 16px;\n    line-height: 20px;\n    margin: 0;\n    padding: 0;\n}\n\n/* Buttons */\n\n.fancybox-button {\n    background: rgba(30, 30, 30, .6);\n    border: 0;\n    border-radius: 0;\n    box-shadow: none;\n    cursor: pointer;\n    display: inline-block;\n    height: 44px;\n    margin: 0;\n    padding: 10px;\n    position: relative;\n    transition: color .2s;\n    vertical-align: top;\n    visibility: inherit;\n    width: 44px;\n}\n\n.fancybox-button,\n.fancybox-button:visited,\n.fancybox-button:link {\n    color: #ccc;\n}\n\n.fancybox-button:hover {\n    color: #fff;\n}\n\n.fancybox-button:focus {\n    outline: none;\n}\n\n.fancybox-button.fancybox-focus {\n    outline: 1px dotted;\n}\n\n.fancybox-button[disabled],\n.fancybox-button[disabled]:hover {\n    color: #888;\n    cursor: default;\n    outline: none;\n}\n\n/* Fix IE11 */\n.fancybox-button div {\n    height: 100%;\n}\n\n.fancybox-button svg {\n    display: block;\n    height: 100%;\n    overflow: visible;\n    position: relative;\n    width: 100%;\n}\n\n.fancybox-button svg path {\n    fill: currentColor;\n    stroke-width: 0;\n}\n\n.fancybox-button--play svg:nth-child(2),\n.fancybox-button--fsenter svg:nth-child(2) {\n    display: none;\n}\n\n.fancybox-button--pause svg:nth-child(1),\n.fancybox-button--fsexit svg:nth-child(1) {\n    display: none;\n}\n\n.fancybox-progress {\n    background: #ff5268;\n    height: 2px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    -ms-transform: scaleX(0);\n    transform: scaleX(0);\n    -ms-transform-origin: 0;\n    transform-origin: 0;\n    transition-property: transform;\n    transition-timing-function: linear;\n    z-index: 99998;\n}\n\n/* Close button on the top right corner of html content */\n\n.fancybox-close-small {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    color: #ccc;\n    cursor: pointer;\n    opacity: .8;\n    padding: 8px;\n    position: absolute;\n    right: -12px;\n    top: -44px;\n    z-index: 401;\n}\n\n.fancybox-close-small:hover {\n    color: #fff;\n    opacity: 1;\n}\n\n.fancybox-slide--html .fancybox-close-small {\n    color: currentColor;\n    padding: 10px;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-slide--image.fancybox-is-scaling .fancybox-content {\n    overflow: hidden;\n}\n\n.fancybox-is-scaling .fancybox-close-small,\n.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small {\n    display: none;\n}\n\n/* Navigation arrows */\n\n.fancybox-navigation .fancybox-button {\n    background-clip: content-box;\n    height: 100px;\n    opacity: 0;\n    position: absolute;\n    top: calc(50% - 50px);\n    width: 70px;\n}\n\n.fancybox-navigation .fancybox-button div {\n    padding: 7px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_left {\n    left: 0;\n    left: env(safe-area-inset-left);\n    padding: 31px 26px 31px 6px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_right {\n    padding: 31px 6px 31px 26px;\n    right: 0;\n    right: env(safe-area-inset-right);\n}\n\n/* Caption */\n\n.fancybox-caption {\n    background: linear-gradient(to top,\n        rgba(0, 0, 0, .85) 0%,\n        rgba(0, 0, 0, .3) 50%,\n        rgba(0, 0, 0, .15) 65%,\n        rgba(0, 0, 0, .075) 75.5%,\n        rgba(0, 0, 0, .037) 82.85%,\n        rgba(0, 0, 0, .019) 88%,\n        rgba(0, 0, 0, 0) 100%);\n    bottom: 0;\n    color: #eee;\n    font-size: 14px;\n    font-weight: 400;\n    left: 0;\n    line-height: 1.5;\n    padding: 75px 44px 25px 44px;\n    pointer-events: none;\n    right: 0;\n    text-align: center;\n    z-index: 99996;\n}\n\n@supports (padding: max(0px)) {\n    .fancybox-caption {\n        padding: 75px max(44px, env(safe-area-inset-right)) max(25px, env(safe-area-inset-bottom)) max(44px, env(safe-area-inset-left));\n    }\n}\n\n.fancybox-caption--separate {\n    margin-top: -50px;\n}\n\n.fancybox-caption__body {\n    max-height: 50vh;\n    overflow: auto;\n    pointer-events: all;\n}\n\n.fancybox-caption a,\n.fancybox-caption a:link,\n.fancybox-caption a:visited {\n    color: #ccc;\n    text-decoration: none;\n}\n\n.fancybox-caption a:hover {\n    color: #fff;\n    text-decoration: underline;\n}\n\n/* Loading indicator */\n\n.fancybox-loading {\n    animation: fancybox-rotate 1s linear infinite;\n    background: transparent;\n    border: 4px solid #888;\n    border-bottom-color: #fff;\n    border-radius: 50%;\n    height: 50px;\n    left: 50%;\n    margin: -25px 0 0 -25px;\n    opacity: .7;\n    padding: 0;\n    position: absolute;\n    top: 50%;\n    width: 50px;\n    z-index: 99999;\n}\n\n@keyframes fancybox-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n/* Transition effects */\n\n.fancybox-animated {\n    transition-timing-function: cubic-bezier(0, 0, .25, 1);\n}\n\n/* transitionEffect: slide */\n\n.fancybox-fx-slide.fancybox-slide--previous {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--next {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--current {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n}\n\n/* transitionEffect: fade */\n\n.fancybox-fx-fade.fancybox-slide--previous,\n.fancybox-fx-fade.fancybox-slide--next {\n    opacity: 0;\n    transition-timing-function: cubic-bezier(.19, 1, .22, 1);\n}\n\n.fancybox-fx-fade.fancybox-slide--current {\n    opacity: 1;\n}\n\n/* transitionEffect: zoom-in-out */\n\n.fancybox-fx-zoom-in-out.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(1.5, 1.5, 1.5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(.5, .5, .5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n/* transitionEffect: rotate */\n\n.fancybox-fx-rotate.fancybox-slide--previous {\n    opacity: 0;\n    -ms-transform: rotate(-360deg);\n    transform: rotate(-360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--next {\n    opacity: 0;\n    -ms-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--current {\n    opacity: 1;\n    -ms-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\n\n/* transitionEffect: circular */\n\n.fancybox-fx-circular.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);\n}\n\n/* transitionEffect: tube */\n\n.fancybox-fx-tube.fancybox-slide--previous {\n    transform: translate3d(-100%, 0, 0) scale(.1) skew(-10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--next {\n    transform: translate3d(100%, 0, 0) scale(.1) skew(10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--current {\n    transform: translate3d(0, 0, 0) scale(1);\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-height: 576px) {\n    .fancybox-slide {\n        padding-left: 6px;\n        padding-right: 6px;\n    }\n\n    .fancybox-slide--image {\n        padding: 6px 0;\n    }\n\n    .fancybox-close-small {\n        right: -6px;\n    }\n\n    .fancybox-slide--image .fancybox-close-small {\n        background: #4e4e4e;\n        color: #f2f4f6;\n        height: 36px;\n        opacity: 1;\n        padding: 6px;\n        right: 0;\n        top: 0;\n        width: 36px;\n    }\n\n    .fancybox-caption {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    @supports (padding: max(0px)) {\n        .fancybox-caption {\n            padding-left: max(12px, env(safe-area-inset-left));\n            padding-right: max(12px, env(safe-area-inset-right));\n        }\n    }\n}\n/* Share */\n\n.fancybox-share {\n    background: #f4f4f4;\n    border-radius: 3px;\n    max-width: 90%;\n    padding: 30px;\n    text-align: center;\n}\n\n.fancybox-share h1 {\n    color: #222;\n    font-size: 35px;\n    font-weight: 700;\n    margin: 0 0 20px 0;\n}\n\n.fancybox-share p {\n    margin: 0;\n    padding: 0;\n}\n\n.fancybox-share__button {\n    border: 0;\n    border-radius: 3px;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 40px;\n    margin: 0 5px 10px 5px;\n    min-width: 130px;\n    padding: 0 15px;\n    text-decoration: none;\n    transition: all .2s;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.fancybox-share__button:visited,\n.fancybox-share__button:link {\n    color: #fff;\n}\n\n.fancybox-share__button:hover {\n    text-decoration: none;\n}\n\n.fancybox-share__button--fb {\n    background: #3b5998;\n}\n\n.fancybox-share__button--fb:hover {\n    background: #344e86;\n}\n\n.fancybox-share__button--pt {\n    background: #bd081d;\n}\n\n.fancybox-share__button--pt:hover {\n    background: #aa0719;\n}\n\n.fancybox-share__button--tw {\n    background: #1da1f2;\n}\n\n.fancybox-share__button--tw:hover {\n    background: #0d95e8;\n}\n\n.fancybox-share__button svg {\n    height: 25px;\n    margin-right: 7px;\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    width: 25px;\n}\n\n.fancybox-share__button svg path {\n    fill: #fff;\n}\n\n.fancybox-share__input {\n    background: transparent;\n    border: 0;\n    border-bottom: 1px solid #d7d7d7;\n    border-radius: 0;\n    color: #5d5b5b;\n    font-size: 14px;\n    margin: 10px 0 0 0;\n    outline: none;\n    padding: 10px 15px;\n    width: 100%;\n}\n/* Thumbs */\n\n.fancybox-thumbs {\n    background: #ddd;\n    bottom: 0;\n    display: none;\n    margin: 0;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    padding: 2px 2px 4px 2px;\n    position: absolute;\n    right: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    top: 0;\n    width: 212px;\n    z-index: 99995;\n}\n\n.fancybox-thumbs-x {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n.fancybox-show-thumbs .fancybox-thumbs {\n    display: block;\n}\n\n.fancybox-show-thumbs .fancybox-inner {\n    right: 212px;\n}\n\n.fancybox-thumbs__list {\n    font-size: 0;\n    height: 100%;\n    list-style: none;\n    margin: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    padding: 0;\n    position: absolute;\n    position: relative;\n    white-space: nowrap;\n    width: 100%;\n}\n\n.fancybox-thumbs-x .fancybox-thumbs__list {\n    overflow: hidden;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar {\n    width: 7px;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track {\n    background: #fff;\n    border-radius: 10px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb {\n    background: #2a2a2a;\n    border-radius: 10px;\n}\n\n.fancybox-thumbs__list a {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    background-color: rgba(0, 0, 0, .1);\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    cursor: pointer;\n    float: left;\n    height: 75px;\n    margin: 2px;\n    max-height: calc(100% - 8px);\n    max-width: calc(50% - 4px);\n    outline: none;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    -webkit-tap-highlight-color: transparent;\n    width: 100px;\n}\n\n.fancybox-thumbs__list a::before {\n    border: 6px solid #ff5268;\n    bottom: 0;\n    content: '';\n    left: 0;\n    opacity: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transition: all .2s cubic-bezier(.25, .46, .45, .94);\n    z-index: 99991;\n}\n\n.fancybox-thumbs__list a:focus::before {\n    opacity: .5;\n}\n\n.fancybox-thumbs__list a.fancybox-thumbs-active::before {\n    opacity: 1;\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-width: 576px) {\n    .fancybox-thumbs {\n        width: 110px;\n    }\n\n    .fancybox-show-thumbs .fancybox-inner {\n        right: 110px;\n    }\n\n    .fancybox-thumbs__list a {\n        max-width: calc(100% - 10px);\n    }\n}","site":{"data":{}},"excerpt":"","more":"body.compensate-for-scrollbar {\n    overflow: hidden;\n}\n\n.fancybox-active {\n    height: auto;\n}\n\n.fancybox-is-hidden {\n    left: -9999px;\n    margin: 0;\n    position: absolute !important;\n    top: -9999px;\n    visibility: hidden;\n}\n\n.fancybox-container {\n    -webkit-backface-visibility: hidden;\n    height: 100%;\n    left: 0;\n    outline: none;\n    position: fixed;\n    -webkit-tap-highlight-color: transparent;\n    top: 0;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    transform: translateZ(0);\n    width: 100%;\n    z-index: 99992;\n}\n\n.fancybox-container * {\n    box-sizing: border-box;\n}\n\n.fancybox-outer,\n.fancybox-inner,\n.fancybox-bg,\n.fancybox-stage {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-outer {\n    -webkit-overflow-scrolling: touch;\n    overflow-y: auto;\n}\n\n.fancybox-bg {\n    background: rgb(30, 30, 30);\n    opacity: 0;\n    transition-duration: inherit;\n    transition-property: opacity;\n    transition-timing-function: cubic-bezier(.47, 0, .74, .71);\n}\n\n.fancybox-is-open .fancybox-bg {\n    opacity: .9;\n    transition-timing-function: cubic-bezier(.22, .61, .36, 1);\n}\n\n.fancybox-infobar,\n.fancybox-toolbar,\n.fancybox-caption,\n.fancybox-navigation .fancybox-button {\n    direction: ltr;\n    opacity: 0;\n    position: absolute;\n    transition: opacity .25s ease, visibility 0s ease .25s;\n    visibility: hidden;\n    z-index: 99997;\n}\n\n.fancybox-show-infobar .fancybox-infobar,\n.fancybox-show-toolbar .fancybox-toolbar,\n.fancybox-show-caption .fancybox-caption,\n.fancybox-show-nav .fancybox-navigation .fancybox-button {\n    opacity: 1;\n    transition: opacity .25s ease 0s, visibility 0s ease 0s;\n    visibility: visible;\n}\n\n.fancybox-infobar {\n    color: #ccc;\n    font-size: 13px;\n    -webkit-font-smoothing: subpixel-antialiased;\n    height: 44px;\n    left: 0;\n    line-height: 44px;\n    min-width: 44px;\n    mix-blend-mode: difference;\n    padding: 0 10px;\n    pointer-events: none;\n    top: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.fancybox-toolbar {\n    right: 0;\n    top: 0;\n}\n\n.fancybox-stage {\n    direction: ltr;\n    overflow: visible;\n    transform: translateZ(0);\n    z-index: 99994;\n}\n\n.fancybox-is-open .fancybox-stage {\n    overflow: hidden;\n}\n\n.fancybox-slide {\n    -webkit-backface-visibility: hidden;\n    /* Using without prefix would break IE11 */\n    display: none;\n    height: 100%;\n    left: 0;\n    outline: none;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: absolute;\n    text-align: center;\n    top: 0;\n    transition-property: transform, opacity;\n    white-space: normal;\n    width: 100%;\n    z-index: 99994;\n}\n\n.fancybox-slide::before {\n    content: '';\n    display: inline-block;\n    font-size: 0;\n    height: 100%;\n    vertical-align: middle;\n    width: 0;\n}\n\n.fancybox-is-sliding .fancybox-slide,\n.fancybox-slide--previous,\n.fancybox-slide--current,\n.fancybox-slide--next {\n    display: block;\n}\n\n.fancybox-slide--image {\n    overflow: hidden;\n    padding: 44px 0;\n}\n\n.fancybox-slide--image::before {\n    display: none;\n}\n\n.fancybox-slide--html {\n    padding: 6px;\n}\n\n.fancybox-content {\n    background: #fff;\n    display: inline-block;\n    margin: 0;\n    max-width: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding: 44px;\n    position: relative;\n    text-align: left;\n    vertical-align: middle;\n}\n\n.fancybox-slide--image .fancybox-content {\n    animation-timing-function: cubic-bezier(.5, 0, .14, 1);\n    -webkit-backface-visibility: hidden;\n    background: transparent;\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    left: 0;\n    max-width: none;\n    overflow: visible;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -ms-transform-origin: top left;\n    transform-origin: top left;\n    transition-property: transform, opacity;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    z-index: 99995;\n}\n\n.fancybox-can-zoomOut .fancybox-content {\n    cursor: zoom-out;\n}\n\n.fancybox-can-zoomIn .fancybox-content {\n    cursor: zoom-in;\n}\n\n.fancybox-can-swipe .fancybox-content,\n.fancybox-can-pan .fancybox-content {\n    cursor: -webkit-grab;\n    cursor: grab;\n}\n\n.fancybox-is-grabbing .fancybox-content {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n}\n\n.fancybox-container [data-selectable='true'] {\n    cursor: text;\n}\n\n.fancybox-image,\n.fancybox-spaceball {\n    background: transparent;\n    border: 0;\n    height: 100%;\n    left: 0;\n    margin: 0;\n    max-height: none;\n    max-width: none;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    width: 100%;\n}\n\n.fancybox-spaceball {\n    z-index: 1;\n}\n\n.fancybox-slide--video .fancybox-content,\n.fancybox-slide--map .fancybox-content,\n.fancybox-slide--pdf .fancybox-content,\n.fancybox-slide--iframe .fancybox-content {\n    height: 100%;\n    overflow: visible;\n    padding: 0;\n    width: 100%;\n}\n\n.fancybox-slide--video .fancybox-content {\n    background: #000;\n}\n\n.fancybox-slide--map .fancybox-content {\n    background: #e5e3df;\n}\n\n.fancybox-slide--iframe .fancybox-content {\n    background: #fff;\n}\n\n.fancybox-video,\n.fancybox-iframe {\n    background: transparent;\n    border: 0;\n    display: block;\n    height: 100%;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    width: 100%;\n}\n\n/* Fix iOS */\n.fancybox-iframe {\n    left: 0;\n    position: absolute;\n    top: 0;\n}\n\n.fancybox-error {\n    background: #fff;\n    cursor: default;\n    max-width: 400px;\n    padding: 40px;\n    width: 100%;\n}\n\n.fancybox-error p {\n    color: #444;\n    font-size: 16px;\n    line-height: 20px;\n    margin: 0;\n    padding: 0;\n}\n\n/* Buttons */\n\n.fancybox-button {\n    background: rgba(30, 30, 30, .6);\n    border: 0;\n    border-radius: 0;\n    box-shadow: none;\n    cursor: pointer;\n    display: inline-block;\n    height: 44px;\n    margin: 0;\n    padding: 10px;\n    position: relative;\n    transition: color .2s;\n    vertical-align: top;\n    visibility: inherit;\n    width: 44px;\n}\n\n.fancybox-button,\n.fancybox-button:visited,\n.fancybox-button:link {\n    color: #ccc;\n}\n\n.fancybox-button:hover {\n    color: #fff;\n}\n\n.fancybox-button:focus {\n    outline: none;\n}\n\n.fancybox-button.fancybox-focus {\n    outline: 1px dotted;\n}\n\n.fancybox-button[disabled],\n.fancybox-button[disabled]:hover {\n    color: #888;\n    cursor: default;\n    outline: none;\n}\n\n/* Fix IE11 */\n.fancybox-button div {\n    height: 100%;\n}\n\n.fancybox-button svg {\n    display: block;\n    height: 100%;\n    overflow: visible;\n    position: relative;\n    width: 100%;\n}\n\n.fancybox-button svg path {\n    fill: currentColor;\n    stroke-width: 0;\n}\n\n.fancybox-button--play svg:nth-child(2),\n.fancybox-button--fsenter svg:nth-child(2) {\n    display: none;\n}\n\n.fancybox-button--pause svg:nth-child(1),\n.fancybox-button--fsexit svg:nth-child(1) {\n    display: none;\n}\n\n.fancybox-progress {\n    background: #ff5268;\n    height: 2px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    -ms-transform: scaleX(0);\n    transform: scaleX(0);\n    -ms-transform-origin: 0;\n    transform-origin: 0;\n    transition-property: transform;\n    transition-timing-function: linear;\n    z-index: 99998;\n}\n\n/* Close button on the top right corner of html content */\n\n.fancybox-close-small {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    color: #ccc;\n    cursor: pointer;\n    opacity: .8;\n    padding: 8px;\n    position: absolute;\n    right: -12px;\n    top: -44px;\n    z-index: 401;\n}\n\n.fancybox-close-small:hover {\n    color: #fff;\n    opacity: 1;\n}\n\n.fancybox-slide--html .fancybox-close-small {\n    color: currentColor;\n    padding: 10px;\n    right: 0;\n    top: 0;\n}\n\n.fancybox-slide--image.fancybox-is-scaling .fancybox-content {\n    overflow: hidden;\n}\n\n.fancybox-is-scaling .fancybox-close-small,\n.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small {\n    display: none;\n}\n\n/* Navigation arrows */\n\n.fancybox-navigation .fancybox-button {\n    background-clip: content-box;\n    height: 100px;\n    opacity: 0;\n    position: absolute;\n    top: calc(50% - 50px);\n    width: 70px;\n}\n\n.fancybox-navigation .fancybox-button div {\n    padding: 7px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_left {\n    left: 0;\n    left: env(safe-area-inset-left);\n    padding: 31px 26px 31px 6px;\n}\n\n.fancybox-navigation .fancybox-button--arrow_right {\n    padding: 31px 6px 31px 26px;\n    right: 0;\n    right: env(safe-area-inset-right);\n}\n\n/* Caption */\n\n.fancybox-caption {\n    background: linear-gradient(to top,\n        rgba(0, 0, 0, .85) 0%,\n        rgba(0, 0, 0, .3) 50%,\n        rgba(0, 0, 0, .15) 65%,\n        rgba(0, 0, 0, .075) 75.5%,\n        rgba(0, 0, 0, .037) 82.85%,\n        rgba(0, 0, 0, .019) 88%,\n        rgba(0, 0, 0, 0) 100%);\n    bottom: 0;\n    color: #eee;\n    font-size: 14px;\n    font-weight: 400;\n    left: 0;\n    line-height: 1.5;\n    padding: 75px 44px 25px 44px;\n    pointer-events: none;\n    right: 0;\n    text-align: center;\n    z-index: 99996;\n}\n\n@supports (padding: max(0px)) {\n    .fancybox-caption {\n        padding: 75px max(44px, env(safe-area-inset-right)) max(25px, env(safe-area-inset-bottom)) max(44px, env(safe-area-inset-left));\n    }\n}\n\n.fancybox-caption--separate {\n    margin-top: -50px;\n}\n\n.fancybox-caption__body {\n    max-height: 50vh;\n    overflow: auto;\n    pointer-events: all;\n}\n\n.fancybox-caption a,\n.fancybox-caption a:link,\n.fancybox-caption a:visited {\n    color: #ccc;\n    text-decoration: none;\n}\n\n.fancybox-caption a:hover {\n    color: #fff;\n    text-decoration: underline;\n}\n\n/* Loading indicator */\n\n.fancybox-loading {\n    animation: fancybox-rotate 1s linear infinite;\n    background: transparent;\n    border: 4px solid #888;\n    border-bottom-color: #fff;\n    border-radius: 50%;\n    height: 50px;\n    left: 50%;\n    margin: -25px 0 0 -25px;\n    opacity: .7;\n    padding: 0;\n    position: absolute;\n    top: 50%;\n    width: 50px;\n    z-index: 99999;\n}\n\n@keyframes fancybox-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n/* Transition effects */\n\n.fancybox-animated {\n    transition-timing-function: cubic-bezier(0, 0, .25, 1);\n}\n\n/* transitionEffect: slide */\n\n.fancybox-fx-slide.fancybox-slide--previous {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--next {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-slide.fancybox-slide--current {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n}\n\n/* transitionEffect: fade */\n\n.fancybox-fx-fade.fancybox-slide--previous,\n.fancybox-fx-fade.fancybox-slide--next {\n    opacity: 0;\n    transition-timing-function: cubic-bezier(.19, 1, .22, 1);\n}\n\n.fancybox-fx-fade.fancybox-slide--current {\n    opacity: 1;\n}\n\n/* transitionEffect: zoom-in-out */\n\n.fancybox-fx-zoom-in-out.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(1.5, 1.5, 1.5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(.5, .5, .5);\n}\n\n.fancybox-fx-zoom-in-out.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n/* transitionEffect: rotate */\n\n.fancybox-fx-rotate.fancybox-slide--previous {\n    opacity: 0;\n    -ms-transform: rotate(-360deg);\n    transform: rotate(-360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--next {\n    opacity: 0;\n    -ms-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n\n.fancybox-fx-rotate.fancybox-slide--current {\n    opacity: 1;\n    -ms-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\n\n/* transitionEffect: circular */\n\n.fancybox-fx-circular.fancybox-slide--previous {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(-100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--next {\n    opacity: 0;\n    transform: scale3d(0, 0, 0) translate3d(100%, 0, 0);\n}\n\n.fancybox-fx-circular.fancybox-slide--current {\n    opacity: 1;\n    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);\n}\n\n/* transitionEffect: tube */\n\n.fancybox-fx-tube.fancybox-slide--previous {\n    transform: translate3d(-100%, 0, 0) scale(.1) skew(-10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--next {\n    transform: translate3d(100%, 0, 0) scale(.1) skew(10deg);\n}\n\n.fancybox-fx-tube.fancybox-slide--current {\n    transform: translate3d(0, 0, 0) scale(1);\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-height: 576px) {\n    .fancybox-slide {\n        padding-left: 6px;\n        padding-right: 6px;\n    }\n\n    .fancybox-slide--image {\n        padding: 6px 0;\n    }\n\n    .fancybox-close-small {\n        right: -6px;\n    }\n\n    .fancybox-slide--image .fancybox-close-small {\n        background: #4e4e4e;\n        color: #f2f4f6;\n        height: 36px;\n        opacity: 1;\n        padding: 6px;\n        right: 0;\n        top: 0;\n        width: 36px;\n    }\n\n    .fancybox-caption {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    @supports (padding: max(0px)) {\n        .fancybox-caption {\n            padding-left: max(12px, env(safe-area-inset-left));\n            padding-right: max(12px, env(safe-area-inset-right));\n        }\n    }\n}\n/* Share */\n\n.fancybox-share {\n    background: #f4f4f4;\n    border-radius: 3px;\n    max-width: 90%;\n    padding: 30px;\n    text-align: center;\n}\n\n.fancybox-share h1 {\n    color: #222;\n    font-size: 35px;\n    font-weight: 700;\n    margin: 0 0 20px 0;\n}\n\n.fancybox-share p {\n    margin: 0;\n    padding: 0;\n}\n\n.fancybox-share__button {\n    border: 0;\n    border-radius: 3px;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 40px;\n    margin: 0 5px 10px 5px;\n    min-width: 130px;\n    padding: 0 15px;\n    text-decoration: none;\n    transition: all .2s;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.fancybox-share__button:visited,\n.fancybox-share__button:link {\n    color: #fff;\n}\n\n.fancybox-share__button:hover {\n    text-decoration: none;\n}\n\n.fancybox-share__button--fb {\n    background: #3b5998;\n}\n\n.fancybox-share__button--fb:hover {\n    background: #344e86;\n}\n\n.fancybox-share__button--pt {\n    background: #bd081d;\n}\n\n.fancybox-share__button--pt:hover {\n    background: #aa0719;\n}\n\n.fancybox-share__button--tw {\n    background: #1da1f2;\n}\n\n.fancybox-share__button--tw:hover {\n    background: #0d95e8;\n}\n\n.fancybox-share__button svg {\n    height: 25px;\n    margin-right: 7px;\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    width: 25px;\n}\n\n.fancybox-share__button svg path {\n    fill: #fff;\n}\n\n.fancybox-share__input {\n    background: transparent;\n    border: 0;\n    border-bottom: 1px solid #d7d7d7;\n    border-radius: 0;\n    color: #5d5b5b;\n    font-size: 14px;\n    margin: 10px 0 0 0;\n    outline: none;\n    padding: 10px 15px;\n    width: 100%;\n}\n/* Thumbs */\n\n.fancybox-thumbs {\n    background: #ddd;\n    bottom: 0;\n    display: none;\n    margin: 0;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    padding: 2px 2px 4px 2px;\n    position: absolute;\n    right: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    top: 0;\n    width: 212px;\n    z-index: 99995;\n}\n\n.fancybox-thumbs-x {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n.fancybox-show-thumbs .fancybox-thumbs {\n    display: block;\n}\n\n.fancybox-show-thumbs .fancybox-inner {\n    right: 212px;\n}\n\n.fancybox-thumbs__list {\n    font-size: 0;\n    height: 100%;\n    list-style: none;\n    margin: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    padding: 0;\n    position: absolute;\n    position: relative;\n    white-space: nowrap;\n    width: 100%;\n}\n\n.fancybox-thumbs-x .fancybox-thumbs__list {\n    overflow: hidden;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar {\n    width: 7px;\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track {\n    background: #fff;\n    border-radius: 10px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n}\n\n.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb {\n    background: #2a2a2a;\n    border-radius: 10px;\n}\n\n.fancybox-thumbs__list a {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    background-color: rgba(0, 0, 0, .1);\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    cursor: pointer;\n    float: left;\n    height: 75px;\n    margin: 2px;\n    max-height: calc(100% - 8px);\n    max-width: calc(50% - 4px);\n    outline: none;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    -webkit-tap-highlight-color: transparent;\n    width: 100px;\n}\n\n.fancybox-thumbs__list a::before {\n    border: 6px solid #ff5268;\n    bottom: 0;\n    content: '';\n    left: 0;\n    opacity: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transition: all .2s cubic-bezier(.25, .46, .45, .94);\n    z-index: 99991;\n}\n\n.fancybox-thumbs__list a:focus::before {\n    opacity: .5;\n}\n\n.fancybox-thumbs__list a.fancybox-thumbs-active::before {\n    opacity: 1;\n}\n\n/* Styling for Small-Screen Devices */\n@media all and (max-width: 576px) {\n    .fancybox-thumbs {\n        width: 110px;\n    }\n\n    .fancybox-show-thumbs .fancybox-inner {\n        right: 110px;\n    }\n\n    .fancybox-thumbs__list a {\n        max-width: calc(100% - 10px);\n    }\n}"},{"_content":"body.compensate-for-scrollbar{overflow:hidden}.fancybox-active{height:auto}.fancybox-is-hidden{left:-9999px;margin:0;position:absolute!important;top:-9999px;visibility:hidden}.fancybox-container{-webkit-backface-visibility:hidden;height:100%;left:0;outline:none;position:fixed;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:manipulation;touch-action:manipulation;transform:translateZ(0);width:100%;z-index:99992}.fancybox-container *{box-sizing:border-box}.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage{bottom:0;left:0;position:absolute;right:0;top:0}.fancybox-outer{-webkit-overflow-scrolling:touch;overflow-y:auto}.fancybox-bg{background:#1e1e1e;opacity:0;transition-duration:inherit;transition-property:opacity;transition-timing-function:cubic-bezier(.47,0,.74,.71)}.fancybox-is-open .fancybox-bg{opacity:.9;transition-timing-function:cubic-bezier(.22,.61,.36,1)}.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar{direction:ltr;opacity:0;position:absolute;transition:opacity .25s ease,visibility 0s ease .25s;visibility:hidden;z-index:99997}.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar{opacity:1;transition:opacity .25s ease 0s,visibility 0s ease 0s;visibility:visible}.fancybox-infobar{color:#ccc;font-size:13px;-webkit-font-smoothing:subpixel-antialiased;height:44px;left:0;line-height:44px;min-width:44px;mix-blend-mode:difference;padding:0 10px;pointer-events:none;top:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancybox-toolbar{right:0;top:0}.fancybox-stage{direction:ltr;overflow:visible;transform:translateZ(0);z-index:99994}.fancybox-is-open .fancybox-stage{overflow:hidden}.fancybox-slide{-webkit-backface-visibility:hidden;display:none;height:100%;left:0;outline:none;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:absolute;text-align:center;top:0;transition-property:transform,opacity;white-space:normal;width:100%;z-index:99994}.fancybox-slide:before{content:\"\";display:inline-block;font-size:0;height:100%;vertical-align:middle;width:0}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous{display:block}.fancybox-slide--image{overflow:hidden;padding:44px 0}.fancybox-slide--image:before{display:none}.fancybox-slide--html{padding:6px}.fancybox-content{background:#fff;display:inline-block;margin:0;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:relative;text-align:left;vertical-align:middle}.fancybox-slide--image .fancybox-content{animation-timing-function:cubic-bezier(.5,0,.14,1);-webkit-backface-visibility:hidden;background:transparent;background-repeat:no-repeat;background-size:100% 100%;left:0;max-width:none;overflow:visible;padding:0;position:absolute;top:0;transform-origin:top left;transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99995}.fancybox-can-zoomOut .fancybox-content{cursor:zoom-out}.fancybox-can-zoomIn .fancybox-content{cursor:zoom-in}.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content{cursor:grab}.fancybox-is-grabbing .fancybox-content{cursor:grabbing}.fancybox-container [data-selectable=true]{cursor:text}.fancybox-image,.fancybox-spaceball{background:transparent;border:0;height:100%;left:0;margin:0;max-height:none;max-width:none;padding:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.fancybox-spaceball{z-index:1}.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content{height:100%;overflow:visible;padding:0;width:100%}.fancybox-slide--video .fancybox-content{background:#000}.fancybox-slide--map .fancybox-content{background:#e5e3df}.fancybox-slide--iframe .fancybox-content{background:#fff}.fancybox-iframe,.fancybox-video{background:transparent;border:0;display:block;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.fancybox-iframe{left:0;position:absolute;top:0}.fancybox-error{background:#fff;cursor:default;max-width:400px;padding:40px;width:100%}.fancybox-error p{color:#444;font-size:16px;line-height:20px;margin:0;padding:0}.fancybox-button{background:rgba(30,30,30,.6);border:0;border-radius:0;box-shadow:none;cursor:pointer;display:inline-block;height:44px;margin:0;padding:10px;position:relative;transition:color .2s;vertical-align:top;visibility:inherit;width:44px}.fancybox-button,.fancybox-button:link,.fancybox-button:visited{color:#ccc}.fancybox-button:hover{color:#fff}.fancybox-button:focus{outline:none}.fancybox-button.fancybox-focus{outline:1px dotted}.fancybox-button[disabled],.fancybox-button[disabled]:hover{color:#888;cursor:default;outline:none}.fancybox-button div{height:100%}.fancybox-button svg{display:block;height:100%;overflow:visible;position:relative;width:100%}.fancybox-button svg path{fill:currentColor;stroke-width:0}.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2){display:none}.fancybox-progress{background:#ff5268;height:2px;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0;transition-property:transform;transition-timing-function:linear;z-index:99998}.fancybox-close-small{background:transparent;border:0;border-radius:0;color:#ccc;cursor:pointer;opacity:.8;padding:8px;position:absolute;right:-12px;top:-44px;z-index:401}.fancybox-close-small:hover{color:#fff;opacity:1}.fancybox-slide--html .fancybox-close-small{color:currentColor;padding:10px;right:0;top:0}.fancybox-slide--image.fancybox-is-scaling .fancybox-content{overflow:hidden}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small{display:none}.fancybox-navigation .fancybox-button{background-clip:content-box;height:100px;opacity:0;position:absolute;top:calc(50% - 50px);width:70px}.fancybox-navigation .fancybox-button div{padding:7px}.fancybox-navigation .fancybox-button--arrow_left{left:0;left:env(safe-area-inset-left);padding:31px 26px 31px 6px}.fancybox-navigation .fancybox-button--arrow_right{padding:31px 6px 31px 26px;right:0;right:env(safe-area-inset-right)}.fancybox-caption{background:linear-gradient(0deg,rgba(0,0,0,.85) 0,rgba(0,0,0,.3) 50%,rgba(0,0,0,.15) 65%,rgba(0,0,0,.075) 75.5%,rgba(0,0,0,.037) 82.85%,rgba(0,0,0,.019) 88%,transparent);bottom:0;color:#eee;font-size:14px;font-weight:400;left:0;line-height:1.5;padding:75px 44px 25px;pointer-events:none;right:0;text-align:center;z-index:99996}@supports (padding:max(0px)){.fancybox-caption{padding:75px max(44px,env(safe-area-inset-right)) max(25px,env(safe-area-inset-bottom)) max(44px,env(safe-area-inset-left))}}.fancybox-caption--separate{margin-top:-50px}.fancybox-caption__body{max-height:50vh;overflow:auto;pointer-events:all}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited{color:#ccc;text-decoration:none}.fancybox-caption a:hover{color:#fff;text-decoration:underline}.fancybox-loading{animation:a 1s linear infinite;background:transparent;border:4px solid #888;border-bottom-color:#fff;border-radius:50%;height:50px;left:50%;margin:-25px 0 0 -25px;opacity:.7;padding:0;position:absolute;top:50%;width:50px;z-index:99999}@keyframes a{to{transform:rotate(1turn)}}.fancybox-animated{transition-timing-function:cubic-bezier(0,0,.25,1)}.fancybox-fx-slide.fancybox-slide--previous{opacity:0;transform:translate3d(-100%,0,0)}.fancybox-fx-slide.fancybox-slide--next{opacity:0;transform:translate3d(100%,0,0)}.fancybox-fx-slide.fancybox-slide--current{opacity:1;transform:translateZ(0)}.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous{opacity:0;transition-timing-function:cubic-bezier(.19,1,.22,1)}.fancybox-fx-fade.fancybox-slide--current{opacity:1}.fancybox-fx-zoom-in-out.fancybox-slide--previous{opacity:0;transform:scale3d(1.5,1.5,1.5)}.fancybox-fx-zoom-in-out.fancybox-slide--next{opacity:0;transform:scale3d(.5,.5,.5)}.fancybox-fx-zoom-in-out.fancybox-slide--current{opacity:1;transform:scaleX(1)}.fancybox-fx-rotate.fancybox-slide--previous{opacity:0;transform:rotate(-1turn)}.fancybox-fx-rotate.fancybox-slide--next{opacity:0;transform:rotate(1turn)}.fancybox-fx-rotate.fancybox-slide--current{opacity:1;transform:rotate(0deg)}.fancybox-fx-circular.fancybox-slide--previous{opacity:0;transform:scale3d(0,0,0) translate3d(-100%,0,0)}.fancybox-fx-circular.fancybox-slide--next{opacity:0;transform:scale3d(0,0,0) translate3d(100%,0,0)}.fancybox-fx-circular.fancybox-slide--current{opacity:1;transform:scaleX(1) translateZ(0)}.fancybox-fx-tube.fancybox-slide--previous{transform:translate3d(-100%,0,0) scale(.1) skew(-10deg)}.fancybox-fx-tube.fancybox-slide--next{transform:translate3d(100%,0,0) scale(.1) skew(10deg)}.fancybox-fx-tube.fancybox-slide--current{transform:translateZ(0) scale(1)}@media (max-height:576px){.fancybox-slide{padding-left:6px;padding-right:6px}.fancybox-slide--image{padding:6px 0}.fancybox-close-small{right:-6px}.fancybox-slide--image .fancybox-close-small{background:#4e4e4e;color:#f2f4f6;height:36px;opacity:1;padding:6px;right:0;top:0;width:36px}.fancybox-caption{padding-left:12px;padding-right:12px}@supports (padding:max(0px)){.fancybox-caption{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right))}}}.fancybox-share{background:#f4f4f4;border-radius:3px;max-width:90%;padding:30px;text-align:center}.fancybox-share h1{color:#222;font-size:35px;font-weight:700;margin:0 0 20px}.fancybox-share p{margin:0;padding:0}.fancybox-share__button{border:0;border-radius:3px;display:inline-block;font-size:14px;font-weight:700;line-height:40px;margin:0 5px 10px;min-width:130px;padding:0 15px;text-decoration:none;transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.fancybox-share__button:link,.fancybox-share__button:visited{color:#fff}.fancybox-share__button:hover{text-decoration:none}.fancybox-share__button--fb{background:#3b5998}.fancybox-share__button--fb:hover{background:#344e86}.fancybox-share__button--pt{background:#bd081d}.fancybox-share__button--pt:hover{background:#aa0719}.fancybox-share__button--tw{background:#1da1f2}.fancybox-share__button--tw:hover{background:#0d95e8}.fancybox-share__button svg{height:25px;margin-right:7px;position:relative;top:-1px;vertical-align:middle;width:25px}.fancybox-share__button svg path{fill:#fff}.fancybox-share__input{background:transparent;border:0;border-bottom:1px solid #d7d7d7;border-radius:0;color:#5d5b5b;font-size:14px;margin:10px 0 0;outline:none;padding:10px 15px;width:100%}.fancybox-thumbs{background:#ddd;bottom:0;display:none;margin:0;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar;padding:2px 2px 4px;position:absolute;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;width:212px;z-index:99995}.fancybox-thumbs-x{overflow-x:auto;overflow-y:hidden}.fancybox-show-thumbs .fancybox-thumbs{display:block}.fancybox-show-thumbs .fancybox-inner{right:212px}.fancybox-thumbs__list{font-size:0;height:100%;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;position:relative;white-space:nowrap;width:100%}.fancybox-thumbs-x .fancybox-thumbs__list{overflow:hidden}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar{width:7px}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track{background:#fff;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}.fancybox-thumbs__list a{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:rgba(0,0,0,.1);background-position:50%;background-repeat:no-repeat;background-size:cover;cursor:pointer;float:left;height:75px;margin:2px;max-height:calc(100% - 8px);max-width:calc(50% - 4px);outline:none;overflow:hidden;padding:0;position:relative;-webkit-tap-highlight-color:transparent;width:100px}.fancybox-thumbs__list a:before{border:6px solid #ff5268;bottom:0;content:\"\";left:0;opacity:0;position:absolute;right:0;top:0;transition:all .2s cubic-bezier(.25,.46,.45,.94);z-index:99991}.fancybox-thumbs__list a:focus:before{opacity:.5}.fancybox-thumbs__list a.fancybox-thumbs-active:before{opacity:1}@media (max-width:576px){.fancybox-thumbs{width:110px}.fancybox-show-thumbs .fancybox-inner{right:110px}.fancybox-thumbs__list a{max-width:calc(100% - 10px)}}","source":"lib/fancybox/source/jquery.fancybox.min.css","raw":"body.compensate-for-scrollbar{overflow:hidden}.fancybox-active{height:auto}.fancybox-is-hidden{left:-9999px;margin:0;position:absolute!important;top:-9999px;visibility:hidden}.fancybox-container{-webkit-backface-visibility:hidden;height:100%;left:0;outline:none;position:fixed;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:manipulation;touch-action:manipulation;transform:translateZ(0);width:100%;z-index:99992}.fancybox-container *{box-sizing:border-box}.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage{bottom:0;left:0;position:absolute;right:0;top:0}.fancybox-outer{-webkit-overflow-scrolling:touch;overflow-y:auto}.fancybox-bg{background:#1e1e1e;opacity:0;transition-duration:inherit;transition-property:opacity;transition-timing-function:cubic-bezier(.47,0,.74,.71)}.fancybox-is-open .fancybox-bg{opacity:.9;transition-timing-function:cubic-bezier(.22,.61,.36,1)}.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar{direction:ltr;opacity:0;position:absolute;transition:opacity .25s ease,visibility 0s ease .25s;visibility:hidden;z-index:99997}.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar{opacity:1;transition:opacity .25s ease 0s,visibility 0s ease 0s;visibility:visible}.fancybox-infobar{color:#ccc;font-size:13px;-webkit-font-smoothing:subpixel-antialiased;height:44px;left:0;line-height:44px;min-width:44px;mix-blend-mode:difference;padding:0 10px;pointer-events:none;top:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancybox-toolbar{right:0;top:0}.fancybox-stage{direction:ltr;overflow:visible;transform:translateZ(0);z-index:99994}.fancybox-is-open .fancybox-stage{overflow:hidden}.fancybox-slide{-webkit-backface-visibility:hidden;display:none;height:100%;left:0;outline:none;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:absolute;text-align:center;top:0;transition-property:transform,opacity;white-space:normal;width:100%;z-index:99994}.fancybox-slide:before{content:\"\";display:inline-block;font-size:0;height:100%;vertical-align:middle;width:0}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous{display:block}.fancybox-slide--image{overflow:hidden;padding:44px 0}.fancybox-slide--image:before{display:none}.fancybox-slide--html{padding:6px}.fancybox-content{background:#fff;display:inline-block;margin:0;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:relative;text-align:left;vertical-align:middle}.fancybox-slide--image .fancybox-content{animation-timing-function:cubic-bezier(.5,0,.14,1);-webkit-backface-visibility:hidden;background:transparent;background-repeat:no-repeat;background-size:100% 100%;left:0;max-width:none;overflow:visible;padding:0;position:absolute;top:0;transform-origin:top left;transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99995}.fancybox-can-zoomOut .fancybox-content{cursor:zoom-out}.fancybox-can-zoomIn .fancybox-content{cursor:zoom-in}.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content{cursor:grab}.fancybox-is-grabbing .fancybox-content{cursor:grabbing}.fancybox-container [data-selectable=true]{cursor:text}.fancybox-image,.fancybox-spaceball{background:transparent;border:0;height:100%;left:0;margin:0;max-height:none;max-width:none;padding:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.fancybox-spaceball{z-index:1}.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content{height:100%;overflow:visible;padding:0;width:100%}.fancybox-slide--video .fancybox-content{background:#000}.fancybox-slide--map .fancybox-content{background:#e5e3df}.fancybox-slide--iframe .fancybox-content{background:#fff}.fancybox-iframe,.fancybox-video{background:transparent;border:0;display:block;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.fancybox-iframe{left:0;position:absolute;top:0}.fancybox-error{background:#fff;cursor:default;max-width:400px;padding:40px;width:100%}.fancybox-error p{color:#444;font-size:16px;line-height:20px;margin:0;padding:0}.fancybox-button{background:rgba(30,30,30,.6);border:0;border-radius:0;box-shadow:none;cursor:pointer;display:inline-block;height:44px;margin:0;padding:10px;position:relative;transition:color .2s;vertical-align:top;visibility:inherit;width:44px}.fancybox-button,.fancybox-button:link,.fancybox-button:visited{color:#ccc}.fancybox-button:hover{color:#fff}.fancybox-button:focus{outline:none}.fancybox-button.fancybox-focus{outline:1px dotted}.fancybox-button[disabled],.fancybox-button[disabled]:hover{color:#888;cursor:default;outline:none}.fancybox-button div{height:100%}.fancybox-button svg{display:block;height:100%;overflow:visible;position:relative;width:100%}.fancybox-button svg path{fill:currentColor;stroke-width:0}.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2){display:none}.fancybox-progress{background:#ff5268;height:2px;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0;transition-property:transform;transition-timing-function:linear;z-index:99998}.fancybox-close-small{background:transparent;border:0;border-radius:0;color:#ccc;cursor:pointer;opacity:.8;padding:8px;position:absolute;right:-12px;top:-44px;z-index:401}.fancybox-close-small:hover{color:#fff;opacity:1}.fancybox-slide--html .fancybox-close-small{color:currentColor;padding:10px;right:0;top:0}.fancybox-slide--image.fancybox-is-scaling .fancybox-content{overflow:hidden}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small{display:none}.fancybox-navigation .fancybox-button{background-clip:content-box;height:100px;opacity:0;position:absolute;top:calc(50% - 50px);width:70px}.fancybox-navigation .fancybox-button div{padding:7px}.fancybox-navigation .fancybox-button--arrow_left{left:0;left:env(safe-area-inset-left);padding:31px 26px 31px 6px}.fancybox-navigation .fancybox-button--arrow_right{padding:31px 6px 31px 26px;right:0;right:env(safe-area-inset-right)}.fancybox-caption{background:linear-gradient(0deg,rgba(0,0,0,.85) 0,rgba(0,0,0,.3) 50%,rgba(0,0,0,.15) 65%,rgba(0,0,0,.075) 75.5%,rgba(0,0,0,.037) 82.85%,rgba(0,0,0,.019) 88%,transparent);bottom:0;color:#eee;font-size:14px;font-weight:400;left:0;line-height:1.5;padding:75px 44px 25px;pointer-events:none;right:0;text-align:center;z-index:99996}@supports (padding:max(0px)){.fancybox-caption{padding:75px max(44px,env(safe-area-inset-right)) max(25px,env(safe-area-inset-bottom)) max(44px,env(safe-area-inset-left))}}.fancybox-caption--separate{margin-top:-50px}.fancybox-caption__body{max-height:50vh;overflow:auto;pointer-events:all}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited{color:#ccc;text-decoration:none}.fancybox-caption a:hover{color:#fff;text-decoration:underline}.fancybox-loading{animation:a 1s linear infinite;background:transparent;border:4px solid #888;border-bottom-color:#fff;border-radius:50%;height:50px;left:50%;margin:-25px 0 0 -25px;opacity:.7;padding:0;position:absolute;top:50%;width:50px;z-index:99999}@keyframes a{to{transform:rotate(1turn)}}.fancybox-animated{transition-timing-function:cubic-bezier(0,0,.25,1)}.fancybox-fx-slide.fancybox-slide--previous{opacity:0;transform:translate3d(-100%,0,0)}.fancybox-fx-slide.fancybox-slide--next{opacity:0;transform:translate3d(100%,0,0)}.fancybox-fx-slide.fancybox-slide--current{opacity:1;transform:translateZ(0)}.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous{opacity:0;transition-timing-function:cubic-bezier(.19,1,.22,1)}.fancybox-fx-fade.fancybox-slide--current{opacity:1}.fancybox-fx-zoom-in-out.fancybox-slide--previous{opacity:0;transform:scale3d(1.5,1.5,1.5)}.fancybox-fx-zoom-in-out.fancybox-slide--next{opacity:0;transform:scale3d(.5,.5,.5)}.fancybox-fx-zoom-in-out.fancybox-slide--current{opacity:1;transform:scaleX(1)}.fancybox-fx-rotate.fancybox-slide--previous{opacity:0;transform:rotate(-1turn)}.fancybox-fx-rotate.fancybox-slide--next{opacity:0;transform:rotate(1turn)}.fancybox-fx-rotate.fancybox-slide--current{opacity:1;transform:rotate(0deg)}.fancybox-fx-circular.fancybox-slide--previous{opacity:0;transform:scale3d(0,0,0) translate3d(-100%,0,0)}.fancybox-fx-circular.fancybox-slide--next{opacity:0;transform:scale3d(0,0,0) translate3d(100%,0,0)}.fancybox-fx-circular.fancybox-slide--current{opacity:1;transform:scaleX(1) translateZ(0)}.fancybox-fx-tube.fancybox-slide--previous{transform:translate3d(-100%,0,0) scale(.1) skew(-10deg)}.fancybox-fx-tube.fancybox-slide--next{transform:translate3d(100%,0,0) scale(.1) skew(10deg)}.fancybox-fx-tube.fancybox-slide--current{transform:translateZ(0) scale(1)}@media (max-height:576px){.fancybox-slide{padding-left:6px;padding-right:6px}.fancybox-slide--image{padding:6px 0}.fancybox-close-small{right:-6px}.fancybox-slide--image .fancybox-close-small{background:#4e4e4e;color:#f2f4f6;height:36px;opacity:1;padding:6px;right:0;top:0;width:36px}.fancybox-caption{padding-left:12px;padding-right:12px}@supports (padding:max(0px)){.fancybox-caption{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right))}}}.fancybox-share{background:#f4f4f4;border-radius:3px;max-width:90%;padding:30px;text-align:center}.fancybox-share h1{color:#222;font-size:35px;font-weight:700;margin:0 0 20px}.fancybox-share p{margin:0;padding:0}.fancybox-share__button{border:0;border-radius:3px;display:inline-block;font-size:14px;font-weight:700;line-height:40px;margin:0 5px 10px;min-width:130px;padding:0 15px;text-decoration:none;transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.fancybox-share__button:link,.fancybox-share__button:visited{color:#fff}.fancybox-share__button:hover{text-decoration:none}.fancybox-share__button--fb{background:#3b5998}.fancybox-share__button--fb:hover{background:#344e86}.fancybox-share__button--pt{background:#bd081d}.fancybox-share__button--pt:hover{background:#aa0719}.fancybox-share__button--tw{background:#1da1f2}.fancybox-share__button--tw:hover{background:#0d95e8}.fancybox-share__button svg{height:25px;margin-right:7px;position:relative;top:-1px;vertical-align:middle;width:25px}.fancybox-share__button svg path{fill:#fff}.fancybox-share__input{background:transparent;border:0;border-bottom:1px solid #d7d7d7;border-radius:0;color:#5d5b5b;font-size:14px;margin:10px 0 0;outline:none;padding:10px 15px;width:100%}.fancybox-thumbs{background:#ddd;bottom:0;display:none;margin:0;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar;padding:2px 2px 4px;position:absolute;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;width:212px;z-index:99995}.fancybox-thumbs-x{overflow-x:auto;overflow-y:hidden}.fancybox-show-thumbs .fancybox-thumbs{display:block}.fancybox-show-thumbs .fancybox-inner{right:212px}.fancybox-thumbs__list{font-size:0;height:100%;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;position:relative;white-space:nowrap;width:100%}.fancybox-thumbs-x .fancybox-thumbs__list{overflow:hidden}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar{width:7px}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track{background:#fff;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}.fancybox-thumbs__list a{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:rgba(0,0,0,.1);background-position:50%;background-repeat:no-repeat;background-size:cover;cursor:pointer;float:left;height:75px;margin:2px;max-height:calc(100% - 8px);max-width:calc(50% - 4px);outline:none;overflow:hidden;padding:0;position:relative;-webkit-tap-highlight-color:transparent;width:100px}.fancybox-thumbs__list a:before{border:6px solid #ff5268;bottom:0;content:\"\";left:0;opacity:0;position:absolute;right:0;top:0;transition:all .2s cubic-bezier(.25,.46,.45,.94);z-index:99991}.fancybox-thumbs__list a:focus:before{opacity:.5}.fancybox-thumbs__list a.fancybox-thumbs-active:before{opacity:1}@media (max-width:576px){.fancybox-thumbs{width:110px}.fancybox-show-thumbs .fancybox-inner{right:110px}.fancybox-thumbs__list a{max-width:calc(100% - 10px)}}","date":"2020-03-24T01:50:36.141Z","updated":"2020-03-24T01:50:36.141Z","path":"lib/fancybox/source/jquery.fancybox.min.css","layout":"false","title":"","comments":1,"_id":"ck85lu6sx00044s1z5urp0r7z","content":"body.compensate-for-scrollbar{overflow:hidden}.fancybox-active{height:auto}.fancybox-is-hidden{left:-9999px;margin:0;position:absolute!important;top:-9999px;visibility:hidden}.fancybox-container{-webkit-backface-visibility:hidden;height:100%;left:0;outline:none;position:fixed;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:manipulation;touch-action:manipulation;transform:translateZ(0);width:100%;z-index:99992}.fancybox-container *{box-sizing:border-box}.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage{bottom:0;left:0;position:absolute;right:0;top:0}.fancybox-outer{-webkit-overflow-scrolling:touch;overflow-y:auto}.fancybox-bg{background:#1e1e1e;opacity:0;transition-duration:inherit;transition-property:opacity;transition-timing-function:cubic-bezier(.47,0,.74,.71)}.fancybox-is-open .fancybox-bg{opacity:.9;transition-timing-function:cubic-bezier(.22,.61,.36,1)}.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar{direction:ltr;opacity:0;position:absolute;transition:opacity .25s ease,visibility 0s ease .25s;visibility:hidden;z-index:99997}.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar{opacity:1;transition:opacity .25s ease 0s,visibility 0s ease 0s;visibility:visible}.fancybox-infobar{color:#ccc;font-size:13px;-webkit-font-smoothing:subpixel-antialiased;height:44px;left:0;line-height:44px;min-width:44px;mix-blend-mode:difference;padding:0 10px;pointer-events:none;top:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancybox-toolbar{right:0;top:0}.fancybox-stage{direction:ltr;overflow:visible;transform:translateZ(0);z-index:99994}.fancybox-is-open .fancybox-stage{overflow:hidden}.fancybox-slide{-webkit-backface-visibility:hidden;display:none;height:100%;left:0;outline:none;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:absolute;text-align:center;top:0;transition-property:transform,opacity;white-space:normal;width:100%;z-index:99994}.fancybox-slide:before{content:\"\";display:inline-block;font-size:0;height:100%;vertical-align:middle;width:0}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous{display:block}.fancybox-slide--image{overflow:hidden;padding:44px 0}.fancybox-slide--image:before{display:none}.fancybox-slide--html{padding:6px}.fancybox-content{background:#fff;display:inline-block;margin:0;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:relative;text-align:left;vertical-align:middle}.fancybox-slide--image .fancybox-content{animation-timing-function:cubic-bezier(.5,0,.14,1);-webkit-backface-visibility:hidden;background:transparent;background-repeat:no-repeat;background-size:100% 100%;left:0;max-width:none;overflow:visible;padding:0;position:absolute;top:0;transform-origin:top left;transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99995}.fancybox-can-zoomOut .fancybox-content{cursor:zoom-out}.fancybox-can-zoomIn .fancybox-content{cursor:zoom-in}.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content{cursor:grab}.fancybox-is-grabbing .fancybox-content{cursor:grabbing}.fancybox-container [data-selectable=true]{cursor:text}.fancybox-image,.fancybox-spaceball{background:transparent;border:0;height:100%;left:0;margin:0;max-height:none;max-width:none;padding:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.fancybox-spaceball{z-index:1}.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content{height:100%;overflow:visible;padding:0;width:100%}.fancybox-slide--video .fancybox-content{background:#000}.fancybox-slide--map .fancybox-content{background:#e5e3df}.fancybox-slide--iframe .fancybox-content{background:#fff}.fancybox-iframe,.fancybox-video{background:transparent;border:0;display:block;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.fancybox-iframe{left:0;position:absolute;top:0}.fancybox-error{background:#fff;cursor:default;max-width:400px;padding:40px;width:100%}.fancybox-error p{color:#444;font-size:16px;line-height:20px;margin:0;padding:0}.fancybox-button{background:rgba(30,30,30,.6);border:0;border-radius:0;box-shadow:none;cursor:pointer;display:inline-block;height:44px;margin:0;padding:10px;position:relative;transition:color .2s;vertical-align:top;visibility:inherit;width:44px}.fancybox-button,.fancybox-button:link,.fancybox-button:visited{color:#ccc}.fancybox-button:hover{color:#fff}.fancybox-button:focus{outline:none}.fancybox-button.fancybox-focus{outline:1px dotted}.fancybox-button[disabled],.fancybox-button[disabled]:hover{color:#888;cursor:default;outline:none}.fancybox-button div{height:100%}.fancybox-button svg{display:block;height:100%;overflow:visible;position:relative;width:100%}.fancybox-button svg path{fill:currentColor;stroke-width:0}.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2){display:none}.fancybox-progress{background:#ff5268;height:2px;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0;transition-property:transform;transition-timing-function:linear;z-index:99998}.fancybox-close-small{background:transparent;border:0;border-radius:0;color:#ccc;cursor:pointer;opacity:.8;padding:8px;position:absolute;right:-12px;top:-44px;z-index:401}.fancybox-close-small:hover{color:#fff;opacity:1}.fancybox-slide--html .fancybox-close-small{color:currentColor;padding:10px;right:0;top:0}.fancybox-slide--image.fancybox-is-scaling .fancybox-content{overflow:hidden}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small{display:none}.fancybox-navigation .fancybox-button{background-clip:content-box;height:100px;opacity:0;position:absolute;top:calc(50% - 50px);width:70px}.fancybox-navigation .fancybox-button div{padding:7px}.fancybox-navigation .fancybox-button--arrow_left{left:0;left:env(safe-area-inset-left);padding:31px 26px 31px 6px}.fancybox-navigation .fancybox-button--arrow_right{padding:31px 6px 31px 26px;right:0;right:env(safe-area-inset-right)}.fancybox-caption{background:linear-gradient(0deg,rgba(0,0,0,.85) 0,rgba(0,0,0,.3) 50%,rgba(0,0,0,.15) 65%,rgba(0,0,0,.075) 75.5%,rgba(0,0,0,.037) 82.85%,rgba(0,0,0,.019) 88%,transparent);bottom:0;color:#eee;font-size:14px;font-weight:400;left:0;line-height:1.5;padding:75px 44px 25px;pointer-events:none;right:0;text-align:center;z-index:99996}@supports (padding:max(0px)){.fancybox-caption{padding:75px max(44px,env(safe-area-inset-right)) max(25px,env(safe-area-inset-bottom)) max(44px,env(safe-area-inset-left))}}.fancybox-caption--separate{margin-top:-50px}.fancybox-caption__body{max-height:50vh;overflow:auto;pointer-events:all}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited{color:#ccc;text-decoration:none}.fancybox-caption a:hover{color:#fff;text-decoration:underline}.fancybox-loading{animation:a 1s linear infinite;background:transparent;border:4px solid #888;border-bottom-color:#fff;border-radius:50%;height:50px;left:50%;margin:-25px 0 0 -25px;opacity:.7;padding:0;position:absolute;top:50%;width:50px;z-index:99999}@keyframes a{to{transform:rotate(1turn)}}.fancybox-animated{transition-timing-function:cubic-bezier(0,0,.25,1)}.fancybox-fx-slide.fancybox-slide--previous{opacity:0;transform:translate3d(-100%,0,0)}.fancybox-fx-slide.fancybox-slide--next{opacity:0;transform:translate3d(100%,0,0)}.fancybox-fx-slide.fancybox-slide--current{opacity:1;transform:translateZ(0)}.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous{opacity:0;transition-timing-function:cubic-bezier(.19,1,.22,1)}.fancybox-fx-fade.fancybox-slide--current{opacity:1}.fancybox-fx-zoom-in-out.fancybox-slide--previous{opacity:0;transform:scale3d(1.5,1.5,1.5)}.fancybox-fx-zoom-in-out.fancybox-slide--next{opacity:0;transform:scale3d(.5,.5,.5)}.fancybox-fx-zoom-in-out.fancybox-slide--current{opacity:1;transform:scaleX(1)}.fancybox-fx-rotate.fancybox-slide--previous{opacity:0;transform:rotate(-1turn)}.fancybox-fx-rotate.fancybox-slide--next{opacity:0;transform:rotate(1turn)}.fancybox-fx-rotate.fancybox-slide--current{opacity:1;transform:rotate(0deg)}.fancybox-fx-circular.fancybox-slide--previous{opacity:0;transform:scale3d(0,0,0) translate3d(-100%,0,0)}.fancybox-fx-circular.fancybox-slide--next{opacity:0;transform:scale3d(0,0,0) translate3d(100%,0,0)}.fancybox-fx-circular.fancybox-slide--current{opacity:1;transform:scaleX(1) translateZ(0)}.fancybox-fx-tube.fancybox-slide--previous{transform:translate3d(-100%,0,0) scale(.1) skew(-10deg)}.fancybox-fx-tube.fancybox-slide--next{transform:translate3d(100%,0,0) scale(.1) skew(10deg)}.fancybox-fx-tube.fancybox-slide--current{transform:translateZ(0) scale(1)}@media (max-height:576px){.fancybox-slide{padding-left:6px;padding-right:6px}.fancybox-slide--image{padding:6px 0}.fancybox-close-small{right:-6px}.fancybox-slide--image .fancybox-close-small{background:#4e4e4e;color:#f2f4f6;height:36px;opacity:1;padding:6px;right:0;top:0;width:36px}.fancybox-caption{padding-left:12px;padding-right:12px}@supports (padding:max(0px)){.fancybox-caption{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right))}}}.fancybox-share{background:#f4f4f4;border-radius:3px;max-width:90%;padding:30px;text-align:center}.fancybox-share h1{color:#222;font-size:35px;font-weight:700;margin:0 0 20px}.fancybox-share p{margin:0;padding:0}.fancybox-share__button{border:0;border-radius:3px;display:inline-block;font-size:14px;font-weight:700;line-height:40px;margin:0 5px 10px;min-width:130px;padding:0 15px;text-decoration:none;transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.fancybox-share__button:link,.fancybox-share__button:visited{color:#fff}.fancybox-share__button:hover{text-decoration:none}.fancybox-share__button--fb{background:#3b5998}.fancybox-share__button--fb:hover{background:#344e86}.fancybox-share__button--pt{background:#bd081d}.fancybox-share__button--pt:hover{background:#aa0719}.fancybox-share__button--tw{background:#1da1f2}.fancybox-share__button--tw:hover{background:#0d95e8}.fancybox-share__button svg{height:25px;margin-right:7px;position:relative;top:-1px;vertical-align:middle;width:25px}.fancybox-share__button svg path{fill:#fff}.fancybox-share__input{background:transparent;border:0;border-bottom:1px solid #d7d7d7;border-radius:0;color:#5d5b5b;font-size:14px;margin:10px 0 0;outline:none;padding:10px 15px;width:100%}.fancybox-thumbs{background:#ddd;bottom:0;display:none;margin:0;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar;padding:2px 2px 4px;position:absolute;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;width:212px;z-index:99995}.fancybox-thumbs-x{overflow-x:auto;overflow-y:hidden}.fancybox-show-thumbs .fancybox-thumbs{display:block}.fancybox-show-thumbs .fancybox-inner{right:212px}.fancybox-thumbs__list{font-size:0;height:100%;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;position:relative;white-space:nowrap;width:100%}.fancybox-thumbs-x .fancybox-thumbs__list{overflow:hidden}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar{width:7px}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track{background:#fff;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}.fancybox-thumbs__list a{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:rgba(0,0,0,.1);background-position:50%;background-repeat:no-repeat;background-size:cover;cursor:pointer;float:left;height:75px;margin:2px;max-height:calc(100% - 8px);max-width:calc(50% - 4px);outline:none;overflow:hidden;padding:0;position:relative;-webkit-tap-highlight-color:transparent;width:100px}.fancybox-thumbs__list a:before{border:6px solid #ff5268;bottom:0;content:\"\";left:0;opacity:0;position:absolute;right:0;top:0;transition:all .2s cubic-bezier(.25,.46,.45,.94);z-index:99991}.fancybox-thumbs__list a:focus:before{opacity:.5}.fancybox-thumbs__list a.fancybox-thumbs-active:before{opacity:1}@media (max-width:576px){.fancybox-thumbs{width:110px}.fancybox-show-thumbs .fancybox-inner{right:110px}.fancybox-thumbs__list a{max-width:calc(100% - 10px)}}","site":{"data":{}},"excerpt":"","more":"body.compensate-for-scrollbar{overflow:hidden}.fancybox-active{height:auto}.fancybox-is-hidden{left:-9999px;margin:0;position:absolute!important;top:-9999px;visibility:hidden}.fancybox-container{-webkit-backface-visibility:hidden;height:100%;left:0;outline:none;position:fixed;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:manipulation;touch-action:manipulation;transform:translateZ(0);width:100%;z-index:99992}.fancybox-container *{box-sizing:border-box}.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage{bottom:0;left:0;position:absolute;right:0;top:0}.fancybox-outer{-webkit-overflow-scrolling:touch;overflow-y:auto}.fancybox-bg{background:#1e1e1e;opacity:0;transition-duration:inherit;transition-property:opacity;transition-timing-function:cubic-bezier(.47,0,.74,.71)}.fancybox-is-open .fancybox-bg{opacity:.9;transition-timing-function:cubic-bezier(.22,.61,.36,1)}.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar{direction:ltr;opacity:0;position:absolute;transition:opacity .25s ease,visibility 0s ease .25s;visibility:hidden;z-index:99997}.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar{opacity:1;transition:opacity .25s ease 0s,visibility 0s ease 0s;visibility:visible}.fancybox-infobar{color:#ccc;font-size:13px;-webkit-font-smoothing:subpixel-antialiased;height:44px;left:0;line-height:44px;min-width:44px;mix-blend-mode:difference;padding:0 10px;pointer-events:none;top:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancybox-toolbar{right:0;top:0}.fancybox-stage{direction:ltr;overflow:visible;transform:translateZ(0);z-index:99994}.fancybox-is-open .fancybox-stage{overflow:hidden}.fancybox-slide{-webkit-backface-visibility:hidden;display:none;height:100%;left:0;outline:none;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:absolute;text-align:center;top:0;transition-property:transform,opacity;white-space:normal;width:100%;z-index:99994}.fancybox-slide:before{content:\"\";display:inline-block;font-size:0;height:100%;vertical-align:middle;width:0}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous{display:block}.fancybox-slide--image{overflow:hidden;padding:44px 0}.fancybox-slide--image:before{display:none}.fancybox-slide--html{padding:6px}.fancybox-content{background:#fff;display:inline-block;margin:0;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:relative;text-align:left;vertical-align:middle}.fancybox-slide--image .fancybox-content{animation-timing-function:cubic-bezier(.5,0,.14,1);-webkit-backface-visibility:hidden;background:transparent;background-repeat:no-repeat;background-size:100% 100%;left:0;max-width:none;overflow:visible;padding:0;position:absolute;top:0;transform-origin:top left;transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99995}.fancybox-can-zoomOut .fancybox-content{cursor:zoom-out}.fancybox-can-zoomIn .fancybox-content{cursor:zoom-in}.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content{cursor:grab}.fancybox-is-grabbing .fancybox-content{cursor:grabbing}.fancybox-container [data-selectable=true]{cursor:text}.fancybox-image,.fancybox-spaceball{background:transparent;border:0;height:100%;left:0;margin:0;max-height:none;max-width:none;padding:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.fancybox-spaceball{z-index:1}.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content{height:100%;overflow:visible;padding:0;width:100%}.fancybox-slide--video .fancybox-content{background:#000}.fancybox-slide--map .fancybox-content{background:#e5e3df}.fancybox-slide--iframe .fancybox-content{background:#fff}.fancybox-iframe,.fancybox-video{background:transparent;border:0;display:block;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.fancybox-iframe{left:0;position:absolute;top:0}.fancybox-error{background:#fff;cursor:default;max-width:400px;padding:40px;width:100%}.fancybox-error p{color:#444;font-size:16px;line-height:20px;margin:0;padding:0}.fancybox-button{background:rgba(30,30,30,.6);border:0;border-radius:0;box-shadow:none;cursor:pointer;display:inline-block;height:44px;margin:0;padding:10px;position:relative;transition:color .2s;vertical-align:top;visibility:inherit;width:44px}.fancybox-button,.fancybox-button:link,.fancybox-button:visited{color:#ccc}.fancybox-button:hover{color:#fff}.fancybox-button:focus{outline:none}.fancybox-button.fancybox-focus{outline:1px dotted}.fancybox-button[disabled],.fancybox-button[disabled]:hover{color:#888;cursor:default;outline:none}.fancybox-button div{height:100%}.fancybox-button svg{display:block;height:100%;overflow:visible;position:relative;width:100%}.fancybox-button svg path{fill:currentColor;stroke-width:0}.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2){display:none}.fancybox-progress{background:#ff5268;height:2px;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0;transition-property:transform;transition-timing-function:linear;z-index:99998}.fancybox-close-small{background:transparent;border:0;border-radius:0;color:#ccc;cursor:pointer;opacity:.8;padding:8px;position:absolute;right:-12px;top:-44px;z-index:401}.fancybox-close-small:hover{color:#fff;opacity:1}.fancybox-slide--html .fancybox-close-small{color:currentColor;padding:10px;right:0;top:0}.fancybox-slide--image.fancybox-is-scaling .fancybox-content{overflow:hidden}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small{display:none}.fancybox-navigation .fancybox-button{background-clip:content-box;height:100px;opacity:0;position:absolute;top:calc(50% - 50px);width:70px}.fancybox-navigation .fancybox-button div{padding:7px}.fancybox-navigation .fancybox-button--arrow_left{left:0;left:env(safe-area-inset-left);padding:31px 26px 31px 6px}.fancybox-navigation .fancybox-button--arrow_right{padding:31px 6px 31px 26px;right:0;right:env(safe-area-inset-right)}.fancybox-caption{background:linear-gradient(0deg,rgba(0,0,0,.85) 0,rgba(0,0,0,.3) 50%,rgba(0,0,0,.15) 65%,rgba(0,0,0,.075) 75.5%,rgba(0,0,0,.037) 82.85%,rgba(0,0,0,.019) 88%,transparent);bottom:0;color:#eee;font-size:14px;font-weight:400;left:0;line-height:1.5;padding:75px 44px 25px;pointer-events:none;right:0;text-align:center;z-index:99996}@supports (padding:max(0px)){.fancybox-caption{padding:75px max(44px,env(safe-area-inset-right)) max(25px,env(safe-area-inset-bottom)) max(44px,env(safe-area-inset-left))}}.fancybox-caption--separate{margin-top:-50px}.fancybox-caption__body{max-height:50vh;overflow:auto;pointer-events:all}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited{color:#ccc;text-decoration:none}.fancybox-caption a:hover{color:#fff;text-decoration:underline}.fancybox-loading{animation:a 1s linear infinite;background:transparent;border:4px solid #888;border-bottom-color:#fff;border-radius:50%;height:50px;left:50%;margin:-25px 0 0 -25px;opacity:.7;padding:0;position:absolute;top:50%;width:50px;z-index:99999}@keyframes a{to{transform:rotate(1turn)}}.fancybox-animated{transition-timing-function:cubic-bezier(0,0,.25,1)}.fancybox-fx-slide.fancybox-slide--previous{opacity:0;transform:translate3d(-100%,0,0)}.fancybox-fx-slide.fancybox-slide--next{opacity:0;transform:translate3d(100%,0,0)}.fancybox-fx-slide.fancybox-slide--current{opacity:1;transform:translateZ(0)}.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous{opacity:0;transition-timing-function:cubic-bezier(.19,1,.22,1)}.fancybox-fx-fade.fancybox-slide--current{opacity:1}.fancybox-fx-zoom-in-out.fancybox-slide--previous{opacity:0;transform:scale3d(1.5,1.5,1.5)}.fancybox-fx-zoom-in-out.fancybox-slide--next{opacity:0;transform:scale3d(.5,.5,.5)}.fancybox-fx-zoom-in-out.fancybox-slide--current{opacity:1;transform:scaleX(1)}.fancybox-fx-rotate.fancybox-slide--previous{opacity:0;transform:rotate(-1turn)}.fancybox-fx-rotate.fancybox-slide--next{opacity:0;transform:rotate(1turn)}.fancybox-fx-rotate.fancybox-slide--current{opacity:1;transform:rotate(0deg)}.fancybox-fx-circular.fancybox-slide--previous{opacity:0;transform:scale3d(0,0,0) translate3d(-100%,0,0)}.fancybox-fx-circular.fancybox-slide--next{opacity:0;transform:scale3d(0,0,0) translate3d(100%,0,0)}.fancybox-fx-circular.fancybox-slide--current{opacity:1;transform:scaleX(1) translateZ(0)}.fancybox-fx-tube.fancybox-slide--previous{transform:translate3d(-100%,0,0) scale(.1) skew(-10deg)}.fancybox-fx-tube.fancybox-slide--next{transform:translate3d(100%,0,0) scale(.1) skew(10deg)}.fancybox-fx-tube.fancybox-slide--current{transform:translateZ(0) scale(1)}@media (max-height:576px){.fancybox-slide{padding-left:6px;padding-right:6px}.fancybox-slide--image{padding:6px 0}.fancybox-close-small{right:-6px}.fancybox-slide--image .fancybox-close-small{background:#4e4e4e;color:#f2f4f6;height:36px;opacity:1;padding:6px;right:0;top:0;width:36px}.fancybox-caption{padding-left:12px;padding-right:12px}@supports (padding:max(0px)){.fancybox-caption{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right))}}}.fancybox-share{background:#f4f4f4;border-radius:3px;max-width:90%;padding:30px;text-align:center}.fancybox-share h1{color:#222;font-size:35px;font-weight:700;margin:0 0 20px}.fancybox-share p{margin:0;padding:0}.fancybox-share__button{border:0;border-radius:3px;display:inline-block;font-size:14px;font-weight:700;line-height:40px;margin:0 5px 10px;min-width:130px;padding:0 15px;text-decoration:none;transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.fancybox-share__button:link,.fancybox-share__button:visited{color:#fff}.fancybox-share__button:hover{text-decoration:none}.fancybox-share__button--fb{background:#3b5998}.fancybox-share__button--fb:hover{background:#344e86}.fancybox-share__button--pt{background:#bd081d}.fancybox-share__button--pt:hover{background:#aa0719}.fancybox-share__button--tw{background:#1da1f2}.fancybox-share__button--tw:hover{background:#0d95e8}.fancybox-share__button svg{height:25px;margin-right:7px;position:relative;top:-1px;vertical-align:middle;width:25px}.fancybox-share__button svg path{fill:#fff}.fancybox-share__input{background:transparent;border:0;border-bottom:1px solid #d7d7d7;border-radius:0;color:#5d5b5b;font-size:14px;margin:10px 0 0;outline:none;padding:10px 15px;width:100%}.fancybox-thumbs{background:#ddd;bottom:0;display:none;margin:0;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar;padding:2px 2px 4px;position:absolute;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;width:212px;z-index:99995}.fancybox-thumbs-x{overflow-x:auto;overflow-y:hidden}.fancybox-show-thumbs .fancybox-thumbs{display:block}.fancybox-show-thumbs .fancybox-inner{right:212px}.fancybox-thumbs__list{font-size:0;height:100%;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;position:relative;white-space:nowrap;width:100%}.fancybox-thumbs-x .fancybox-thumbs__list{overflow:hidden}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar{width:7px}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track{background:#fff;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}.fancybox-thumbs__list a{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:rgba(0,0,0,.1);background-position:50%;background-repeat:no-repeat;background-size:cover;cursor:pointer;float:left;height:75px;margin:2px;max-height:calc(100% - 8px);max-width:calc(50% - 4px);outline:none;overflow:hidden;padding:0;position:relative;-webkit-tap-highlight-color:transparent;width:100px}.fancybox-thumbs__list a:before{border:6px solid #ff5268;bottom:0;content:\"\";left:0;opacity:0;position:absolute;right:0;top:0;transition:all .2s cubic-bezier(.25,.46,.45,.94);z-index:99991}.fancybox-thumbs__list a:focus:before{opacity:.5}.fancybox-thumbs__list a.fancybox-thumbs-active:before{opacity:1}@media (max-width:576px){.fancybox-thumbs{width:110px}.fancybox-show-thumbs .fancybox-inner{right:110px}.fancybox-thumbs__list a{max-width:calc(100% - 10px)}}"},{"_content":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n!function(t,e,n,o){\"use strict\";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger(\"blur\"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr(\"data-fancybox\")||\"\",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox=\"'+i+'\"]'):n('[data-fancybox=\"'+i+'\"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info(\"fancyBox already initialized\");var a={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:\"auto\",toolbar:\"auto\",buttons:[\"zoom\",\"slideShow\",\"thumbs\",\"close\"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',preload:!0,css:{},attr:{scrolling:\"auto\"}},video:{tpl:'<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\"><source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!</video>',format:\"\",autoStart:!0},defaultType:\"image\",animationEffect:\"zoom\",animationDuration:366,zoomOpacity:\"auto\",transitionEffect:\"fade\",transitionDuration:366,slideClass:\"\",baseClass:\"\",baseTpl:'<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-inner\"><div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class=\"fancybox-toolbar\">{{buttons}}</div><div class=\"fancybox-navigation\">{{arrows}}</div><div class=\"fancybox-stage\"></div><div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div></div></div>',spinnerTpl:'<div class=\"fancybox-loading\"></div>',errorTpl:'<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg></a>',zoom:'<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg></button>',close:'<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg></button>',arrowLeft:'<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div></button>',arrowRight:'<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div></button>',smallBtn:'<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg></button>'},parentEl:\"body\",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"},wheel:\"auto\",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},clickSlide:\"close\",clickOutside:\"close\",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return\"image\"===t.type&&\"toggleControls\"},clickSlide:function(t,e){return\"image\"===t.type?\"toggleControls\":\"close\"},dblclickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},dblclickSlide:function(t,e){return\"image\"===t.type&&\"zoom\"}},lang:\"en\",i18n:{en:{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",ERROR:\"The requested content cannot be loaded. <br/> Please try again later.\",PLAY_START:\"Start slideshow\",PLAY_STOP:\"Pause slideshow\",FULL_SCREEN:\"Full screen\",THUMBS:\"Thumbnails\",DOWNLOAD:\"Download\",SHARE:\"Share\",ZOOM:\"Zoom\"},de:{CLOSE:\"Schlie&szlig;en\",NEXT:\"Weiter\",PREV:\"Zur&uuml;ck\",ERROR:\"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",PLAY_START:\"Diaschau starten\",PLAY_STOP:\"Diaschau beenden\",FULL_SCREEN:\"Vollbild\",THUMBS:\"Vorschaubilder\",DOWNLOAD:\"Herunterladen\",SHARE:\"Teilen\",ZOOM:\"Vergr&ouml;&szlig;ern\"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement(\"fakeelement\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(t in o)if(void 0!==n.style[t])return o[t];return\"transitionend\"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(\".fancybox-container\").css(\"pointer-events\",\"none\"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(\".fancybox-container\").css(\"pointer-events\",\"\"),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n(\"body\").addClass(\"fancybox-active\"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n(\"head\").append('<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+\"px;}</style>\"),n(\"body\").addClass(\"compensate-for-scrollbar\")),i=\"\",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||\"\"}),o=n(a.translate(a,r.baseTpl.replace(\"{{buttons}}\",i).replace(\"{{arrows}}\",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr(\"id\",\"fancybox-container-\"+a.id).addClass(r.baseClass).data(\"FancyBox\",a).appendTo(r.parentEl),a.$refs={container:o},[\"bg\",\"inner\",\"infobar\",\"toolbar\",\"stage\",\"caption\",\"navigation\"].forEach(function(t){a.$refs[t]=o.find(\".fancybox-\"+t)}),a.trigger(\"onInit\"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\\{\\{(\\w+)\\}\\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):\"object\"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr(\"href\"),l.type||l.src||(l.type=\"inline\",l.src=e)):l={type:\"html\",src:e+\"\"},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||\"\",!a&&r&&((s=r.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(a=\"video\",l.opts.video.format||(l.opts.video.format=\"video/\"+(\"ogv\"===s[1]?\"ogg\":s[1]))):r.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?a=\"image\":r.match(/\\.(pdf)((\\?|#).*)?$/i)?(a=\"iframe\",l=n.extend(!0,l,{contentType:\"pdf\",opts:{iframe:{preload:!1}}})):\"#\"===r.charAt(0)&&(a=\"inline\")),a?l.type=a:o.trigger(\"objectNeedsType\",l),l.contentType||(l.contentType=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1?\"html\":l.type),l.index=o.group.length,\"auto\"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1),\"auto\"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find(\"img:first\"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find(\"img:first\")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),\"function\"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),\"function\"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?\"\":l.opts.caption+\"\"),\"ajax\"===l.type&&(c=r.split(/\\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on(\"click.fb-close\",\"[data-fancybox-close]\",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on(\"touchstart.fb-prev click.fb-prev\",\"[data-fancybox-prev]\",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on(\"touchstart.fb-next click.fb-next\",\"[data-fancybox-next]\",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on(\"click.fb\",\"[data-fancybox-zoom]\",function(t){e[e.isScaledDown()?\"scaleToActual\":\"scaleToFit\"]()}),s.on(\"orientationchange.fb resize.fb\",function(t){t&&t.originalEvent&&\"resize\"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&\"iframe\"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on(\"keydown.fb\",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is(\"input,textarea,video,audio,select\")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger(\"afterKeydown\",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on(\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off(\"orientationchange.fb resize.fb\"),r.off(\"keydown.fb .fb-idle\"),this.$refs.container.off(\".fb-close .fb-prev .fb-next\"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger(\"beforeShow\",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?\"animationDuration\":\"transitionDuration\"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass(\"fancybox-slide--current\"),o)return s.opts.animationEffect&&e&&f.$refs.container.css(\"transition-duration\",e+\"ms\"),f.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\"),f.loadSlide(s),void f.preload(\"image\");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass(\"fancybox-slide--\"+(o.pos>s.pos?\"next\":\"previous\")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:\"\",opacity:\"\"}).removeClass(\"fancybox-slide--next fancybox-slide--previous\"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d=\"fancybox-animated fancybox-fx-\"+s.opts.transitionEffect,r.$slide.addClass(\"fancybox-slide--\"+(r.pos>s.pos?\"next\":\"previous\")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass(\"fancybox-slide--next fancybox-slide--previous\")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload(\"image\")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class=\"fancybox-slide\"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||\"image\"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||\"image\"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,i,a,s=this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css(\"paddingLeft\"))+parseFloat(c.css(\"paddingRight\"))+parseFloat(r.css(\"marginLeft\"))+parseFloat(r.css(\"marginRight\")),o-=parseFloat(c.css(\"paddingTop\"))+parseFloat(c.css(\"paddingBottom\"))+parseFloat(r.css(\"marginTop\"))+parseFloat(r.css(\"marginBottom\")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l>e-.5&&(l=e),d>o-.5&&(d=o),\"image\"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css(\"paddingTop\")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css(\"paddingLeft\"))):\"video\"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||\"video\"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger(\"refresh\"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(\".fancybox-button--arrow_right\")).toggleClass(\"compensate-for-scrollbar\",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger(\"onUpdate\",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:\"\",opacity:\"\"}),i.parent().children().removeClass(\"fancybox-slide--previous fancybox-slide--next\"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:\"\",opacity:\"\"}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass(\"fancybox-animated\")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass(\"fancybox-is-zoomable\",i),n(\"[data-fancybox-zoom]\").prop(\"disabled\",!i),o?r.addClass(\"fancybox-can-pan\"):i&&(\"zoom\"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&\"zoom\"==s.opts.clickContent(s))?r.addClass(\"fancybox-can-zoomIn\"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&\"video\"!==s.contentType&&r.addClass(\"fancybox-can-swipe\"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&\"image\"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=this,i=o.current,a=null,s=!1;return\"image\"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void 0!==t&&void 0!==e?a={width:t,height:e}:i.isComplete&&(a=n.fancybox.getTranslate(i.$content)),a&&s&&(s=Math.abs(a.width-s.width)>1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger(\"beforeLoad\",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off(\"refresh\").trigger(\"onReset\").addClass(t.opts.slideClass),e){case\"image\":a.setImage(t);break;case\"iframe\":a.setIframe(t);break;case\"html\":a.setContent(t,t.src||t.content);break;case\"video\":a.setContent(t,t.opts.video.tpl.replace(/\\{\\{src\\}\\}/gi,t.src).replace(\"{{format}}\",t.opts.videoFormat||t.opts.video.format||\"\").replace(\"{{poster}}\",t.thumb||\"\"));break;case\"inline\":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case\"ajax\":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){\"success\"===n&&a.setContent(t,e)},error:function(e,n){e&&\"abort\"!==n&&a.setError(t)}})),o.one(\"onReset\",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class=\"fancybox-content\"></div>').addClass(\"fancybox-is-hidden\").appendTo(t.$slide.addClass(\"fancybox-slide--image\")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement(\"img\"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass(\"fancybox-image\").appendTo(t.$content).attr(\"src\",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(\",\").map(function(t){var e={};return t.trim().split(/\\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=o[r];if(\"w\"===c.postfix&&c.value>=a||\"x\"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&\"w\"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement(\"img\"),a=n(i);t.$image=a.one(\"error\",function(){o.setError(t)}).one(\"load\",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&\"auto\"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?\"100\":Math.round(t.width/t.height*100))+\"vw\"),a.attr(\"sizes\",e).attr(\"srcset\",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass(\"fancybox-image\").attr(\"src\",t.src).appendTo(t.$content),(i.complete||\"complete\"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger(\"load\"):i.error&&a.trigger(\"error\")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class=\"fancybox-content'+(i.preload?\" fancybox-is-hidden\":\"\")+'\"></div>').css(i.css).appendTo(a),a.addClass(\"fancybox-slide--\"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on(\"load.fb error.fb\",function(e){this.isReady=1,t.$slide.trigger(\"refresh\"),o.afterLoad(t)}),a.on(\"refresh.fb\",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find(\"body\")}catch(t){}o&&o.length&&o.children().length&&(a.css(\"overflow\",\"visible\"),s.css({width:\"100%\",\"max-width\":\"100%\",height:\"9999px\"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css(\"width\",r||\"\").css(\"max-width\",\"\"),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css(\"height\",c||\"\"),a.css(\"overflow\",\"auto\")),s.removeClass(\"fancybox-is-hidden\")}})):o.afterLoad(t),e.attr(\"src\",t.src),a.one(\"onReset\",function(){try{n(this).find(\"iframe\").hide().unbind().attr(\"src\",\"//about:blank\")}catch(t){}n(this).off(\"refresh.fb\").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass(\"fancybox-content\")||e.parent().hasClass(\"fancybox-content\"))&&e.parents(\".fancybox-slide\").trigger(\"onReset\"),t.$placeholder=n(\"<div>\").hide().insertAfter(e),e.css(\"display\",\"inline-block\")):t.hasError||(\"string\"===n.type(e)&&(e=n(\"<div>\").append(n.trim(e)).contents()),t.opts.filter&&(e=n(\"<div>\").html(e).find(t.opts.filter))),t.$slide.one(\"onReset\",function(){n(this).find(\"video,audio\").trigger(\"pause\"),t.$placeholder&&(t.$placeholder.after(e.removeClass(\"fancybox-content\").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is(\"video,audio\")&&(n(e).addClass(\"fancybox-video\"),n(e).wrap(\"<div></div>\"),t.contentType=\"video\",t.opts.width=t.opts.width||n(e).attr(\"width\"),t.opts.height=t.opts.height||n(e).attr(\"height\")),t.$content=t.$slide.children().filter(\"div,form,main,video,audio,article,.fancybox-content\").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner(\"<div></div>\").children().first()),t.$content.addClass(\"fancybox-content\"),t.$slide.addClass(\"fancybox-slide--\"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger(\"onReset\").removeClass(\"fancybox-slide--\"+t.contentType).addClass(\"fancybox-slide--error\"),t.contentType=\"html\",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn(\"fast\"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger(\"afterLoad\",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on(\"contextmenu.fb\",function(t){return 2==t.button&&t.preventDefault(),!0}),\"image\"===t.type&&n('<div class=\"fancybox-spaceball\"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass(\"fancybox-caption--separate\",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css(\"padding-bottom\",r||\"\"))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css(\"margin-bottom\",\"\"),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style[\"padding-bottom\"],i=s.$slide.css(\"padding-bottom\"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css(\"padding-bottom\",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var e,o,i,a,s=this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?\"animationEffect\":\"transitionEffect\"],i=t.opts[s.firstRun?\"animationDuration\":\"transitionDuration\"],i=parseInt(void 0===t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),\"zoom\"===e&&(t.pos===s.currPos&&i&&\"image\"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e=\"fade\"),\"zoom\"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,\"auto\"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)>.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass(\"fancybox-is-hidden\"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o=\"fancybox-slide--\"+(t.pos>=s.prevPos?\"next\":\"previous\")+\" fancybox-animated fancybox-fx-\"+e,r.addClass(o).removeClass(\"fancybox-slide--current\"),t.$content.removeClass(\"fancybox-is-hidden\"),p(r),\"image\"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,\"fancybox-slide--current\",i,function(){r.removeClass(o).css({transform:\"\",opacity:\"\"}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass(\"fancybox-is-hidden\"),u||!d||\"image\"!==t.type||t.hasError||t.$content.hide().fadeIn(\"fast\"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css(\"border-top-width\")||0),i=parseFloat(c.css(\"border-right-width\")||0),a=parseFloat(c.css(\"border-bottom-width\")||0),s=parseFloat(c.css(\"border-left-width\")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger(\"onReset\"),e.preload(\"inline\"),p(o.$slide),o.$slide.addClass(\"fancybox-slide--complete\"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var i,a,s=this,r=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'].join(\",\");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find(\"*:visible\"+(o?\":not(.fancybox-close-small)\":\"\")):s.$refs.container.find(\"*:visible\"),i=i.filter(r).filter(function(){return\"hidden\"!==n(this).css(\"visibility\")&&!n(this).hasClass(\"disabled\")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger(\"focus\")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger(\"focus\"))):s.$refs.container.trigger(\"focus\"))},activate:function(){var t=this;n(\".fancybox-container\").each(function(){var e=n(this).data(\"FancyBox\");e&&e.id!==t.id&&!e.isClosing&&(e.trigger(\"onDeactivate\"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger(\"onActivate\"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,u=this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger(\"beforeClose\",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\"),!0!==t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger(\"onReset\").remove(),i&&u.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\").css(\"transition-duration\",i+\"ms\"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),\"zoom\"!==o||a&&i&&\"image\"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o=\"fade\"),\"zoom\"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,\n\"auto\"==r&&(r=Math.abs(f.width/f.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\"fancybox-animated fancybox-fx-\"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger(\"onReset\"),s.$refs.container.empty().remove(),s.trigger(\"afterClose\",e),s.current.opts.backFocus&&(r&&r.length&&r.is(\":visible\")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger(\"focus\"),n(\"html, body\").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\"),n(\"#fancybox-style-noscroll\").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;\"afterClose\"!==t&&a.$refs?a.$refs.container.trigger(t+\".fb\",i):r.trigger(t+\".fb\",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger(\"refresh\"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find(\"[data-fancybox-count]\").html(t.group.length),a.find(\"[data-fancybox-index]\").html(i+1),a.find(\"[data-fancybox-prev]\").prop(\"disabled\",!o.opts.loop&&i<=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i>=t.group.length-1),\"image\"===o.type?a.find(\"[data-fancybox-zoom]\").show().end().find(\"[data-fancybox-download]\").attr(\"href\",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide(),n(e.activeElement).is(\":hidden,[disabled]\")&&t.$refs.container.trigger(\"focus\")},hideControls:function(t){var e=this,n=[\"infobar\",\"toolbar\",\"nav\"];!t&&e.current.opts.preventCaptionOverlap||n.push(\"caption\"),this.$refs.container.removeClass(n.map(function(t){return\"fancybox-show-\"+t}).join(\" \")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass(\"fancybox-show-toolbar\",!(!e.toolbar||!e.buttons)).toggleClass(\"fancybox-show-infobar\",!!(e.infobar&&t.group.length>1)).toggleClass(\"fancybox-show-caption\",!!t.$caption).toggleClass(\"fancybox-show-nav\",!!(e.arrows&&t.group.length>1)).toggleClass(\"fancybox-is-modal\",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:\"3.5.7\",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&(\"string\"===n.type(t)?e[t].apply(e,o):\"function\"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add(\"body\").off(\"click.fb-start\",\"**\")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement(\"div\");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue(\"transform\")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css(\"opacity\"))})},setTranslate:function(t,e){var n=\"\",o={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+\"px, \"+(void 0===e.top?t.position().top:e.top)+\"px\",n=this.use3d?\"translate3d(\"+n+\", 0px)\":\"translate(\"+n+\")\"),void 0!==e.scaleX&&void 0!==e.scaleY?n+=\" scale(\"+e.scaleX+\", \"+e.scaleY+\")\":void 0!==e.scaleX&&(n+=\" scaleX(\"+e.scaleX+\")\"),n.length&&(o.transform=n),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height),t.css(o)},animate:function(t,e,o,i,a){var s,r=this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&\"z-index\"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css(\"transition-duration\",\"\"),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&r.setTranslate(t,{top:e.top,left:e.left,width:s.width*e.scaleX,height:s.height*e.scaleY,scaleX:1,scaleY:1}):!0!==a&&t.removeClass(e),n.isFunction(i)&&i(c))}),n.isNumeric(o)&&t.css(\"transition-duration\",o+\"ms\"),n.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(delete e.width,delete e.height,t.parent().hasClass(\"fancybox-slide--image\")&&t.parent().addClass(\"fancybox-is-scaling\")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data(\"timer\",setTimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data(\"timer\")),e&&t.trigger(f),t.off(f).css(\"transition-duration\",\"\"),t.parent().removeClass(\"fancybox-is-scaling\"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n(\"body\").off(\"click.fb-start\",e).on(\"click.fb-start\",e,{options:t},i):this.off(\"click.fb-start\").on(\"click.fb-start\",{items:this,options:t},i),this},r.on(\"click.fb-start\",\"[data-fancybox]\",i),r.on(\"click.fb-start\",\"[data-fancybox-trigger]\",function(t){n('[data-fancybox=\"'+n(this).attr(\"data-fancybox-trigger\")+'\"]').eq(n(this).attr(\"data-fancybox-index\")||0).trigger(\"click.fb-start\",{$trigger:n(this)})}),function(){var t=null;r.on(\"mousedown mouseup focus blur\",\".fancybox-button\",function(e){switch(e.type){case\"mousedown\":t=n(this);break;case\"mouseup\":t=null;break;case\"focusin\":n(\".fancybox-button\").removeClass(\"fancybox-focus\"),n(this).is(t)||n(this).is(\"[disabled]\")||n(this).addClass(\"fancybox-focus\");break;case\"focusout\":n(\".fancybox-button\").removeClass(\"fancybox-focus\")}})}()}}(window,document,jQuery),function(t){\"use strict\";var e={youtube:{matcher:/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:\"transparent\",enablejsapi:1,html5:1},paramPlace:8,type:\"iframe\",url:\"https://www.youtube-nocookie.com/embed/$4\",thumb:\"https://img.youtube.com/vi/$4/hqdefault.jpg\"},vimeo:{matcher:/^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:\"iframe\",url:\"//player.vimeo.com/video/$2\"},instagram:{matcher:/(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,type:\"image\",url:\"//$1/p/$2/media/?size=l\"},gmap_place:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/?ll=\"+(t[9]?t[9]+\"&z=\"+Math.floor(t[10])+(t[12]?t[12].replace(/^\\//,\"&\"):\"\"):t[12]+\"\").replace(/\\?/,\"&\")+\"&output=\"+(t[12]&&t[12].indexOf(\"layer=c\")>0?\"svembed\":\"embed\")}},gmap_search:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/maps?q=\"+t[5].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")+\"&output=embed\"}}},n=function(e,n,o){if(e)return o=o||\"\",\"object\"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace(\"$\"+t,n||\"\")}),o.length&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+o),e};t(document).on(\"objectNeedsType.fb\",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||\"\",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],\"?\"==d[0]&&(d=d.substring(1)),d=d.split(\"&\");for(var i=0;i<d.length;++i){var s=d[i].split(\"=\",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\\+/g,\" \")))}}return l=t.extend(!0,{},o.params,a.opts[e],u),p=\"function\"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r=\"function\"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),\"youtube\"===e?p=p.replace(/&t=((\\d+)m)?(\\d+)s/,function(t,e,n,o){return\"&start=\"+((n?60*parseInt(n,10):0)+parseInt(o,10))}):\"vimeo\"===e&&(p=p.replace(\"&%23\",\"#\")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),\"iframe\"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:\"no\"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:\"image\"===h?\"image\":\"gmap_place\"==f||\"gmap_search\"==f?\"map\":\"video\"})):p&&(a.type=a.opts.defaultType)});var o={youtube:{src:\"https://www.youtube.com/iframe_api\",class:\"YT\",loading:!1,loaded:!1},vimeo:{src:\"https://player.vimeo.com/api/player.js\",class:\"Vimeo\",loading:!1,loaded:!1},load:function(t){var e,n=this;if(this[t].loaded)return void setTimeout(function(){n.done(t)});this[t].loading||(this[t].loading=!0,e=document.createElement(\"script\"),e.type=\"text/javascript\",e.src=this[t].src,\"youtube\"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var n,o,i;\"youtube\"===e&&delete window.onYouTubeIframeAPIReady,(n=t.fancybox.getInstance())&&(o=n.current.$content.find(\"iframe\"),\"youtube\"===e&&void 0!==YT&&YT?i=new YT.Player(o.attr(\"id\"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):\"vimeo\"===e&&void 0!==Vimeo&&Vimeo&&(i=new Vimeo.Player(o),i.on(\"ended\",function(){n.next()})))}};t(document).on({\"afterShow.fb\":function(t,e,n){e.group.length>1&&(\"youtube\"===n.contentSource||\"vimeo\"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){\"use strict\";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?\"x\"===n?t.x-e.x:\"y\"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data(\"selectable\"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)[\"overflow-y\"],o=t.getComputedStyle(e)[\"overflow-x\"],i=(\"scroll\"===n||\"auto\"===n)&&e.scrollHeight>e.clientHeight,a=(\"scroll\"===o||\"auto\"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass(\"fancybox-stage\")||t.is(\"body\"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on(\"touchstart.fb.touch mousedown.fb.touch\",n.proxy(e,\"ontouchstart\"))};d.prototype.destroy=function(){var t=this;t.$container.off(\".fb.touch\"),n(e).off(\".fb.touch\"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h=\"touchstart\"==o.type;if(h&&i.$container.off(\"mousedown.fb.touch\"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is(\"img\")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass(\"fancybox-animated\"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(\".fb.touch\").on(h?\"touchend.fb.touch touchcancel.fb.touch\":\"mouseup.fb.touch mouseleave.fb.touch\",n.proxy(i,\"ontouchend\")).on(h?\"touchmove.fb.touch\":\"mousemove.fb.touch\",n.proxy(i,\"ontouchmove\")),n.fancybox.isMobile&&e.addEventListener(\"scroll\",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(\".fancybox-image\")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(\".fancybox-caption\").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass(\"fancybox-is-grabbing\")),2===i.startPoints.length&&\"image\"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener(\"scroll\",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],\"x\"),e.distanceY=s(e.newPoints[0],e.startPoints[0],\"y\"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)\"x\"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass(\"fancybox-is-sliding\"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()>800?s.isSwiping=\"x\":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isScrolling=!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var o,i;n.fancybox.stop(e.$slide),o=n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:\"\",opacity:\"\",\"transition-duration\":\"\"}).removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")}),e.pos===r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return void(t.startPoints=t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new Date).getTime()-o.startTime,1),o.$container.removeClass(\"fancybox-is-grabbing\"),n(e).off(\".fb.touch\"),e.removeEventListener(\"scroll\",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return o.onTap(t);o.speed=100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length,s=Math.abs(o.distanceX),r=\"x\"==t&&a>1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,\"y\"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs>350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case\"close\":r.close(i.startEvent);break;case\"toggleControls\":r.toggleControls();break;case\"next\":r.next();break;case\"nextOrClose\":r.group.length>1?r.next():r.close(i.startEvent);break;case\"zoom\":\"image\"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\"))o=\"Outside\";else if(s.is(\".fancybox-slide\"))o=\"Slide\";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o=\"Content\"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f(\"dblclick\"+o)}else i.tapX=d,i.tapY=u,c.opts[\"dblclick\"+o]&&c.opts[\"dblclick\"+o]!==c.opts[\"click\"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f(\"click\"+o)},500):f(\"click\"+o);return this}},n(e).on(\"onActivate.fb\",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on(\"beforeClose.fb\",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){\"use strict\";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class=\"fancybox-progress\"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr(\"style\").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr(\"title\",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass(\"fancybox-button--play\").addClass(\"fancybox-button--pause\"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger(\"onSlideShowChange\",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr(\"title\",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass(\"fancybox-button--pause\").addClass(\"fancybox-button--play\"),t.isActive=!1,t.instance.trigger(\"onSlideShowChange\",!1),t.$progress&&t.$progress.removeAttr(\"style\").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({\"onInit.fb\":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},\"afterShow.fb\":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},\"afterKeydown.fb\":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is(\"button,a,input\")||(a.preventDefault(),r.toggle())},\"beforeClose.fb onDeactivate.fb\":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on(\"visibilitychange\",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,jQuery),function(t,e){\"use strict\";var n=function(){for(var e=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(n){var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&\"image\"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger(\"onFullscreenChange\",t),n.$refs.container.toggleClass(\"fancybox-is-fullscreen\",t),n.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").toggleClass(\"fancybox-button--fsenter\",!t).toggleClass(\"fancybox-button--fsexit\",t))})}e(t).on({\"onInit.fb\":function(t,e){var i;if(!n)return void e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on(\"click.fb-fullscreen\",\"[data-fancybox-fullscreen]\",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide()},\"afterKeydown.fb\":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},\"beforeClose.fb\":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass(\"fancybox-is-fullscreen\")&&o.exit()}})}(document,jQuery),function(t,e){\"use strict\";var n=\"fancybox-thumbs\";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find(\"[data-fancybox-thumbs]\");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr(\"style\").on(\"click\",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class=\"'+n+\" \"+n+\"-\"+o.opts.axis+'\"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on(\"click\",\"a\",function(){i.jumpTo(e(this).attr(\"data-index\"))})),o.$list||(o.$list=e('<div class=\"'+n+'__list\">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||\"image\"!==n.type||(t=n.src),s.push('<a href=\"javascript:;\" tabindex=\"0\" data-index=\"'+e+'\"'+(t&&t.length?' style=\"background-image:url('+t+')\"':'class=\"fancybox-thumbs-missing\"')+\"></a>\")}),o.$list[0].innerHTML=s.join(\"\"),\"x\"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css(\"padding-right\"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass(\"fancybox-thumbs-active\").filter('[data-index=\"'+o.instance.current.index+'\"]').addClass(\"fancybox-thumbs-active\"),n=e.position(),\"y\"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):\"x\"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger(\"onThumbsShow\"),t.focus(0)):t.$grid&&t.instance.trigger(\"onThumbsHide\"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({\"onInit.fb\":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},\"afterKeydown.fb\":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},\"beforeClose.fb\":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){\"use strict\";function n(t){var e={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"};return String(t).replace(/[&<>\"'`=\\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&\"inline\"!==e.type&&\"html\"!==e.type&&(e.origSrc||e.src)||window.location},\ntpl:'<div class=\"fancybox-share\"><h1>{{SHARE}}</h1><p><a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg><span>Facebook</span></a><a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg><span>Twitter</span></a><a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg><span>Pinterest</span></a></p><p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p></div>'}}),e(t).on(\"click\",\"[data-fancybox-share]\",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&(\"function\"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\\{\\{media\\}\\}/g,\"image\"===a.type?encodeURIComponent(a.src):\"\").replace(/\\{\\{url\\}\\}/g,encodeURIComponent(t)).replace(/\\{\\{url_raw\\}\\}/g,n(t)).replace(/\\{\\{descr\\}\\}/g,i.$caption?encodeURIComponent(i.$caption.text()):\"\"),e.fancybox.open({src:i.translate(i,o),type:\"html\",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one(\"beforeClose.fb\",function(){t.close(null,0)}),e.$content.find(\".fancybox-share__button\").click(function(){return window.open(this.href,\"Share\",\"width=550, height=450\"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){\"use strict\";function o(){var e=t.location.hash.substr(1),n=e.split(\"-\"),o=n.length>1&&/^\\+?\\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join(\"-\");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){\"\"!==t.gallery&&n(\"[data-fancybox='\"+n.escapeSelector(t.gallery)+\"']\").eq(t.index-1).focus().trigger(\"click.fb-start\")}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,\"\"!==(n=e.hash||(e.$orig?e.$orig.data(\"fancybox\")||e.$orig.data(\"fancybox-trigger\"):\"\"))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+\"\").replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(e).on({\"onInit.fb\":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},\"beforeShow.fb\":function(n,o,i,s){var r;i&&!1!==i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length>1?\"-\"+(i.index+1):\"\"),t.location.hash!==\"#\"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){\"replaceState\"in t.history?(t.history[s?\"pushState\":\"replaceState\"]({},e.title,t.location.pathname+t.location.search+\"#\"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},\"beforeClose.fb\":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&(\"replaceState\"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||\"\")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on(\"hashchange.fb\",function(){var t=o(),e=null;n.each(n(\".fancybox-container\").get().reverse(),function(t,o){var i=n(o).data(\"FancyBox\");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+\"-\"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):\"\"!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){\"use strict\";var n=(new Date).getTime();e(t).on({\"onInit.fb\":function(t,e,o){e.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||!1===o.opts.wheel||\"auto\"===o.opts.wheel&&\"image\"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass(\"fancybox-animated\")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?\"next\":\"previous\"]())))})}})}(document,jQuery);","source":"lib/fancybox/source/jquery.fancybox.min.js","raw":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n!function(t,e,n,o){\"use strict\";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger(\"blur\"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr(\"data-fancybox\")||\"\",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox=\"'+i+'\"]'):n('[data-fancybox=\"'+i+'\"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info(\"fancyBox already initialized\");var a={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:\"auto\",toolbar:\"auto\",buttons:[\"zoom\",\"slideShow\",\"thumbs\",\"close\"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',preload:!0,css:{},attr:{scrolling:\"auto\"}},video:{tpl:'<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\"><source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!</video>',format:\"\",autoStart:!0},defaultType:\"image\",animationEffect:\"zoom\",animationDuration:366,zoomOpacity:\"auto\",transitionEffect:\"fade\",transitionDuration:366,slideClass:\"\",baseClass:\"\",baseTpl:'<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-inner\"><div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class=\"fancybox-toolbar\">{{buttons}}</div><div class=\"fancybox-navigation\">{{arrows}}</div><div class=\"fancybox-stage\"></div><div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div></div></div>',spinnerTpl:'<div class=\"fancybox-loading\"></div>',errorTpl:'<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg></a>',zoom:'<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg></button>',close:'<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg></button>',arrowLeft:'<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div></button>',arrowRight:'<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div></button>',smallBtn:'<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg></button>'},parentEl:\"body\",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"},wheel:\"auto\",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},clickSlide:\"close\",clickOutside:\"close\",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return\"image\"===t.type&&\"toggleControls\"},clickSlide:function(t,e){return\"image\"===t.type?\"toggleControls\":\"close\"},dblclickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},dblclickSlide:function(t,e){return\"image\"===t.type&&\"zoom\"}},lang:\"en\",i18n:{en:{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",ERROR:\"The requested content cannot be loaded. <br/> Please try again later.\",PLAY_START:\"Start slideshow\",PLAY_STOP:\"Pause slideshow\",FULL_SCREEN:\"Full screen\",THUMBS:\"Thumbnails\",DOWNLOAD:\"Download\",SHARE:\"Share\",ZOOM:\"Zoom\"},de:{CLOSE:\"Schlie&szlig;en\",NEXT:\"Weiter\",PREV:\"Zur&uuml;ck\",ERROR:\"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",PLAY_START:\"Diaschau starten\",PLAY_STOP:\"Diaschau beenden\",FULL_SCREEN:\"Vollbild\",THUMBS:\"Vorschaubilder\",DOWNLOAD:\"Herunterladen\",SHARE:\"Teilen\",ZOOM:\"Vergr&ouml;&szlig;ern\"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement(\"fakeelement\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(t in o)if(void 0!==n.style[t])return o[t];return\"transitionend\"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(\".fancybox-container\").css(\"pointer-events\",\"none\"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(\".fancybox-container\").css(\"pointer-events\",\"\"),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n(\"body\").addClass(\"fancybox-active\"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n(\"head\").append('<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+\"px;}</style>\"),n(\"body\").addClass(\"compensate-for-scrollbar\")),i=\"\",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||\"\"}),o=n(a.translate(a,r.baseTpl.replace(\"{{buttons}}\",i).replace(\"{{arrows}}\",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr(\"id\",\"fancybox-container-\"+a.id).addClass(r.baseClass).data(\"FancyBox\",a).appendTo(r.parentEl),a.$refs={container:o},[\"bg\",\"inner\",\"infobar\",\"toolbar\",\"stage\",\"caption\",\"navigation\"].forEach(function(t){a.$refs[t]=o.find(\".fancybox-\"+t)}),a.trigger(\"onInit\"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\\{\\{(\\w+)\\}\\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):\"object\"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr(\"href\"),l.type||l.src||(l.type=\"inline\",l.src=e)):l={type:\"html\",src:e+\"\"},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||\"\",!a&&r&&((s=r.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(a=\"video\",l.opts.video.format||(l.opts.video.format=\"video/\"+(\"ogv\"===s[1]?\"ogg\":s[1]))):r.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?a=\"image\":r.match(/\\.(pdf)((\\?|#).*)?$/i)?(a=\"iframe\",l=n.extend(!0,l,{contentType:\"pdf\",opts:{iframe:{preload:!1}}})):\"#\"===r.charAt(0)&&(a=\"inline\")),a?l.type=a:o.trigger(\"objectNeedsType\",l),l.contentType||(l.contentType=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1?\"html\":l.type),l.index=o.group.length,\"auto\"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1),\"auto\"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find(\"img:first\"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find(\"img:first\")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),\"function\"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),\"function\"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?\"\":l.opts.caption+\"\"),\"ajax\"===l.type&&(c=r.split(/\\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on(\"click.fb-close\",\"[data-fancybox-close]\",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on(\"touchstart.fb-prev click.fb-prev\",\"[data-fancybox-prev]\",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on(\"touchstart.fb-next click.fb-next\",\"[data-fancybox-next]\",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on(\"click.fb\",\"[data-fancybox-zoom]\",function(t){e[e.isScaledDown()?\"scaleToActual\":\"scaleToFit\"]()}),s.on(\"orientationchange.fb resize.fb\",function(t){t&&t.originalEvent&&\"resize\"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&\"iframe\"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on(\"keydown.fb\",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is(\"input,textarea,video,audio,select\")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger(\"afterKeydown\",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on(\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off(\"orientationchange.fb resize.fb\"),r.off(\"keydown.fb .fb-idle\"),this.$refs.container.off(\".fb-close .fb-prev .fb-next\"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger(\"beforeShow\",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?\"animationDuration\":\"transitionDuration\"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass(\"fancybox-slide--current\"),o)return s.opts.animationEffect&&e&&f.$refs.container.css(\"transition-duration\",e+\"ms\"),f.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\"),f.loadSlide(s),void f.preload(\"image\");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass(\"fancybox-slide--\"+(o.pos>s.pos?\"next\":\"previous\")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:\"\",opacity:\"\"}).removeClass(\"fancybox-slide--next fancybox-slide--previous\"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d=\"fancybox-animated fancybox-fx-\"+s.opts.transitionEffect,r.$slide.addClass(\"fancybox-slide--\"+(r.pos>s.pos?\"next\":\"previous\")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass(\"fancybox-slide--next fancybox-slide--previous\")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload(\"image\")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class=\"fancybox-slide\"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||\"image\"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||\"image\"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,i,a,s=this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css(\"paddingLeft\"))+parseFloat(c.css(\"paddingRight\"))+parseFloat(r.css(\"marginLeft\"))+parseFloat(r.css(\"marginRight\")),o-=parseFloat(c.css(\"paddingTop\"))+parseFloat(c.css(\"paddingBottom\"))+parseFloat(r.css(\"marginTop\"))+parseFloat(r.css(\"marginBottom\")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l>e-.5&&(l=e),d>o-.5&&(d=o),\"image\"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css(\"paddingTop\")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css(\"paddingLeft\"))):\"video\"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||\"video\"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger(\"refresh\"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(\".fancybox-button--arrow_right\")).toggleClass(\"compensate-for-scrollbar\",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger(\"onUpdate\",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:\"\",opacity:\"\"}),i.parent().children().removeClass(\"fancybox-slide--previous fancybox-slide--next\"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:\"\",opacity:\"\"}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass(\"fancybox-animated\")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass(\"fancybox-is-zoomable\",i),n(\"[data-fancybox-zoom]\").prop(\"disabled\",!i),o?r.addClass(\"fancybox-can-pan\"):i&&(\"zoom\"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&\"zoom\"==s.opts.clickContent(s))?r.addClass(\"fancybox-can-zoomIn\"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&\"video\"!==s.contentType&&r.addClass(\"fancybox-can-swipe\"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&\"image\"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=this,i=o.current,a=null,s=!1;return\"image\"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void 0!==t&&void 0!==e?a={width:t,height:e}:i.isComplete&&(a=n.fancybox.getTranslate(i.$content)),a&&s&&(s=Math.abs(a.width-s.width)>1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger(\"beforeLoad\",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off(\"refresh\").trigger(\"onReset\").addClass(t.opts.slideClass),e){case\"image\":a.setImage(t);break;case\"iframe\":a.setIframe(t);break;case\"html\":a.setContent(t,t.src||t.content);break;case\"video\":a.setContent(t,t.opts.video.tpl.replace(/\\{\\{src\\}\\}/gi,t.src).replace(\"{{format}}\",t.opts.videoFormat||t.opts.video.format||\"\").replace(\"{{poster}}\",t.thumb||\"\"));break;case\"inline\":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case\"ajax\":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){\"success\"===n&&a.setContent(t,e)},error:function(e,n){e&&\"abort\"!==n&&a.setError(t)}})),o.one(\"onReset\",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class=\"fancybox-content\"></div>').addClass(\"fancybox-is-hidden\").appendTo(t.$slide.addClass(\"fancybox-slide--image\")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement(\"img\"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass(\"fancybox-image\").appendTo(t.$content).attr(\"src\",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(\",\").map(function(t){var e={};return t.trim().split(/\\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=o[r];if(\"w\"===c.postfix&&c.value>=a||\"x\"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&\"w\"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement(\"img\"),a=n(i);t.$image=a.one(\"error\",function(){o.setError(t)}).one(\"load\",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&\"auto\"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?\"100\":Math.round(t.width/t.height*100))+\"vw\"),a.attr(\"sizes\",e).attr(\"srcset\",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass(\"fancybox-image\").attr(\"src\",t.src).appendTo(t.$content),(i.complete||\"complete\"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger(\"load\"):i.error&&a.trigger(\"error\")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class=\"fancybox-content'+(i.preload?\" fancybox-is-hidden\":\"\")+'\"></div>').css(i.css).appendTo(a),a.addClass(\"fancybox-slide--\"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on(\"load.fb error.fb\",function(e){this.isReady=1,t.$slide.trigger(\"refresh\"),o.afterLoad(t)}),a.on(\"refresh.fb\",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find(\"body\")}catch(t){}o&&o.length&&o.children().length&&(a.css(\"overflow\",\"visible\"),s.css({width:\"100%\",\"max-width\":\"100%\",height:\"9999px\"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css(\"width\",r||\"\").css(\"max-width\",\"\"),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css(\"height\",c||\"\"),a.css(\"overflow\",\"auto\")),s.removeClass(\"fancybox-is-hidden\")}})):o.afterLoad(t),e.attr(\"src\",t.src),a.one(\"onReset\",function(){try{n(this).find(\"iframe\").hide().unbind().attr(\"src\",\"//about:blank\")}catch(t){}n(this).off(\"refresh.fb\").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass(\"fancybox-content\")||e.parent().hasClass(\"fancybox-content\"))&&e.parents(\".fancybox-slide\").trigger(\"onReset\"),t.$placeholder=n(\"<div>\").hide().insertAfter(e),e.css(\"display\",\"inline-block\")):t.hasError||(\"string\"===n.type(e)&&(e=n(\"<div>\").append(n.trim(e)).contents()),t.opts.filter&&(e=n(\"<div>\").html(e).find(t.opts.filter))),t.$slide.one(\"onReset\",function(){n(this).find(\"video,audio\").trigger(\"pause\"),t.$placeholder&&(t.$placeholder.after(e.removeClass(\"fancybox-content\").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is(\"video,audio\")&&(n(e).addClass(\"fancybox-video\"),n(e).wrap(\"<div></div>\"),t.contentType=\"video\",t.opts.width=t.opts.width||n(e).attr(\"width\"),t.opts.height=t.opts.height||n(e).attr(\"height\")),t.$content=t.$slide.children().filter(\"div,form,main,video,audio,article,.fancybox-content\").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner(\"<div></div>\").children().first()),t.$content.addClass(\"fancybox-content\"),t.$slide.addClass(\"fancybox-slide--\"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger(\"onReset\").removeClass(\"fancybox-slide--\"+t.contentType).addClass(\"fancybox-slide--error\"),t.contentType=\"html\",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn(\"fast\"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger(\"afterLoad\",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on(\"contextmenu.fb\",function(t){return 2==t.button&&t.preventDefault(),!0}),\"image\"===t.type&&n('<div class=\"fancybox-spaceball\"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass(\"fancybox-caption--separate\",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css(\"padding-bottom\",r||\"\"))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css(\"margin-bottom\",\"\"),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style[\"padding-bottom\"],i=s.$slide.css(\"padding-bottom\"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css(\"padding-bottom\",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var e,o,i,a,s=this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?\"animationEffect\":\"transitionEffect\"],i=t.opts[s.firstRun?\"animationDuration\":\"transitionDuration\"],i=parseInt(void 0===t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),\"zoom\"===e&&(t.pos===s.currPos&&i&&\"image\"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e=\"fade\"),\"zoom\"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,\"auto\"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)>.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass(\"fancybox-is-hidden\"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o=\"fancybox-slide--\"+(t.pos>=s.prevPos?\"next\":\"previous\")+\" fancybox-animated fancybox-fx-\"+e,r.addClass(o).removeClass(\"fancybox-slide--current\"),t.$content.removeClass(\"fancybox-is-hidden\"),p(r),\"image\"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,\"fancybox-slide--current\",i,function(){r.removeClass(o).css({transform:\"\",opacity:\"\"}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass(\"fancybox-is-hidden\"),u||!d||\"image\"!==t.type||t.hasError||t.$content.hide().fadeIn(\"fast\"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css(\"border-top-width\")||0),i=parseFloat(c.css(\"border-right-width\")||0),a=parseFloat(c.css(\"border-bottom-width\")||0),s=parseFloat(c.css(\"border-left-width\")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger(\"onReset\"),e.preload(\"inline\"),p(o.$slide),o.$slide.addClass(\"fancybox-slide--complete\"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var i,a,s=this,r=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'].join(\",\");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find(\"*:visible\"+(o?\":not(.fancybox-close-small)\":\"\")):s.$refs.container.find(\"*:visible\"),i=i.filter(r).filter(function(){return\"hidden\"!==n(this).css(\"visibility\")&&!n(this).hasClass(\"disabled\")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger(\"focus\")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger(\"focus\"))):s.$refs.container.trigger(\"focus\"))},activate:function(){var t=this;n(\".fancybox-container\").each(function(){var e=n(this).data(\"FancyBox\");e&&e.id!==t.id&&!e.isClosing&&(e.trigger(\"onDeactivate\"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger(\"onActivate\"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,u=this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger(\"beforeClose\",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\"),!0!==t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger(\"onReset\").remove(),i&&u.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\").css(\"transition-duration\",i+\"ms\"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),\"zoom\"!==o||a&&i&&\"image\"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o=\"fade\"),\"zoom\"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,\n\"auto\"==r&&(r=Math.abs(f.width/f.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\"fancybox-animated fancybox-fx-\"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger(\"onReset\"),s.$refs.container.empty().remove(),s.trigger(\"afterClose\",e),s.current.opts.backFocus&&(r&&r.length&&r.is(\":visible\")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger(\"focus\"),n(\"html, body\").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\"),n(\"#fancybox-style-noscroll\").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;\"afterClose\"!==t&&a.$refs?a.$refs.container.trigger(t+\".fb\",i):r.trigger(t+\".fb\",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger(\"refresh\"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find(\"[data-fancybox-count]\").html(t.group.length),a.find(\"[data-fancybox-index]\").html(i+1),a.find(\"[data-fancybox-prev]\").prop(\"disabled\",!o.opts.loop&&i<=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i>=t.group.length-1),\"image\"===o.type?a.find(\"[data-fancybox-zoom]\").show().end().find(\"[data-fancybox-download]\").attr(\"href\",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide(),n(e.activeElement).is(\":hidden,[disabled]\")&&t.$refs.container.trigger(\"focus\")},hideControls:function(t){var e=this,n=[\"infobar\",\"toolbar\",\"nav\"];!t&&e.current.opts.preventCaptionOverlap||n.push(\"caption\"),this.$refs.container.removeClass(n.map(function(t){return\"fancybox-show-\"+t}).join(\" \")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass(\"fancybox-show-toolbar\",!(!e.toolbar||!e.buttons)).toggleClass(\"fancybox-show-infobar\",!!(e.infobar&&t.group.length>1)).toggleClass(\"fancybox-show-caption\",!!t.$caption).toggleClass(\"fancybox-show-nav\",!!(e.arrows&&t.group.length>1)).toggleClass(\"fancybox-is-modal\",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:\"3.5.7\",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&(\"string\"===n.type(t)?e[t].apply(e,o):\"function\"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add(\"body\").off(\"click.fb-start\",\"**\")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement(\"div\");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue(\"transform\")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css(\"opacity\"))})},setTranslate:function(t,e){var n=\"\",o={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+\"px, \"+(void 0===e.top?t.position().top:e.top)+\"px\",n=this.use3d?\"translate3d(\"+n+\", 0px)\":\"translate(\"+n+\")\"),void 0!==e.scaleX&&void 0!==e.scaleY?n+=\" scale(\"+e.scaleX+\", \"+e.scaleY+\")\":void 0!==e.scaleX&&(n+=\" scaleX(\"+e.scaleX+\")\"),n.length&&(o.transform=n),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height),t.css(o)},animate:function(t,e,o,i,a){var s,r=this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&\"z-index\"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css(\"transition-duration\",\"\"),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&r.setTranslate(t,{top:e.top,left:e.left,width:s.width*e.scaleX,height:s.height*e.scaleY,scaleX:1,scaleY:1}):!0!==a&&t.removeClass(e),n.isFunction(i)&&i(c))}),n.isNumeric(o)&&t.css(\"transition-duration\",o+\"ms\"),n.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(delete e.width,delete e.height,t.parent().hasClass(\"fancybox-slide--image\")&&t.parent().addClass(\"fancybox-is-scaling\")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data(\"timer\",setTimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data(\"timer\")),e&&t.trigger(f),t.off(f).css(\"transition-duration\",\"\"),t.parent().removeClass(\"fancybox-is-scaling\"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n(\"body\").off(\"click.fb-start\",e).on(\"click.fb-start\",e,{options:t},i):this.off(\"click.fb-start\").on(\"click.fb-start\",{items:this,options:t},i),this},r.on(\"click.fb-start\",\"[data-fancybox]\",i),r.on(\"click.fb-start\",\"[data-fancybox-trigger]\",function(t){n('[data-fancybox=\"'+n(this).attr(\"data-fancybox-trigger\")+'\"]').eq(n(this).attr(\"data-fancybox-index\")||0).trigger(\"click.fb-start\",{$trigger:n(this)})}),function(){var t=null;r.on(\"mousedown mouseup focus blur\",\".fancybox-button\",function(e){switch(e.type){case\"mousedown\":t=n(this);break;case\"mouseup\":t=null;break;case\"focusin\":n(\".fancybox-button\").removeClass(\"fancybox-focus\"),n(this).is(t)||n(this).is(\"[disabled]\")||n(this).addClass(\"fancybox-focus\");break;case\"focusout\":n(\".fancybox-button\").removeClass(\"fancybox-focus\")}})}()}}(window,document,jQuery),function(t){\"use strict\";var e={youtube:{matcher:/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:\"transparent\",enablejsapi:1,html5:1},paramPlace:8,type:\"iframe\",url:\"https://www.youtube-nocookie.com/embed/$4\",thumb:\"https://img.youtube.com/vi/$4/hqdefault.jpg\"},vimeo:{matcher:/^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:\"iframe\",url:\"//player.vimeo.com/video/$2\"},instagram:{matcher:/(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,type:\"image\",url:\"//$1/p/$2/media/?size=l\"},gmap_place:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/?ll=\"+(t[9]?t[9]+\"&z=\"+Math.floor(t[10])+(t[12]?t[12].replace(/^\\//,\"&\"):\"\"):t[12]+\"\").replace(/\\?/,\"&\")+\"&output=\"+(t[12]&&t[12].indexOf(\"layer=c\")>0?\"svembed\":\"embed\")}},gmap_search:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/maps?q=\"+t[5].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")+\"&output=embed\"}}},n=function(e,n,o){if(e)return o=o||\"\",\"object\"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace(\"$\"+t,n||\"\")}),o.length&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+o),e};t(document).on(\"objectNeedsType.fb\",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||\"\",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],\"?\"==d[0]&&(d=d.substring(1)),d=d.split(\"&\");for(var i=0;i<d.length;++i){var s=d[i].split(\"=\",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\\+/g,\" \")))}}return l=t.extend(!0,{},o.params,a.opts[e],u),p=\"function\"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r=\"function\"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),\"youtube\"===e?p=p.replace(/&t=((\\d+)m)?(\\d+)s/,function(t,e,n,o){return\"&start=\"+((n?60*parseInt(n,10):0)+parseInt(o,10))}):\"vimeo\"===e&&(p=p.replace(\"&%23\",\"#\")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),\"iframe\"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:\"no\"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:\"image\"===h?\"image\":\"gmap_place\"==f||\"gmap_search\"==f?\"map\":\"video\"})):p&&(a.type=a.opts.defaultType)});var o={youtube:{src:\"https://www.youtube.com/iframe_api\",class:\"YT\",loading:!1,loaded:!1},vimeo:{src:\"https://player.vimeo.com/api/player.js\",class:\"Vimeo\",loading:!1,loaded:!1},load:function(t){var e,n=this;if(this[t].loaded)return void setTimeout(function(){n.done(t)});this[t].loading||(this[t].loading=!0,e=document.createElement(\"script\"),e.type=\"text/javascript\",e.src=this[t].src,\"youtube\"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var n,o,i;\"youtube\"===e&&delete window.onYouTubeIframeAPIReady,(n=t.fancybox.getInstance())&&(o=n.current.$content.find(\"iframe\"),\"youtube\"===e&&void 0!==YT&&YT?i=new YT.Player(o.attr(\"id\"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):\"vimeo\"===e&&void 0!==Vimeo&&Vimeo&&(i=new Vimeo.Player(o),i.on(\"ended\",function(){n.next()})))}};t(document).on({\"afterShow.fb\":function(t,e,n){e.group.length>1&&(\"youtube\"===n.contentSource||\"vimeo\"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){\"use strict\";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?\"x\"===n?t.x-e.x:\"y\"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data(\"selectable\"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)[\"overflow-y\"],o=t.getComputedStyle(e)[\"overflow-x\"],i=(\"scroll\"===n||\"auto\"===n)&&e.scrollHeight>e.clientHeight,a=(\"scroll\"===o||\"auto\"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass(\"fancybox-stage\")||t.is(\"body\"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on(\"touchstart.fb.touch mousedown.fb.touch\",n.proxy(e,\"ontouchstart\"))};d.prototype.destroy=function(){var t=this;t.$container.off(\".fb.touch\"),n(e).off(\".fb.touch\"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h=\"touchstart\"==o.type;if(h&&i.$container.off(\"mousedown.fb.touch\"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is(\"img\")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass(\"fancybox-animated\"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(\".fb.touch\").on(h?\"touchend.fb.touch touchcancel.fb.touch\":\"mouseup.fb.touch mouseleave.fb.touch\",n.proxy(i,\"ontouchend\")).on(h?\"touchmove.fb.touch\":\"mousemove.fb.touch\",n.proxy(i,\"ontouchmove\")),n.fancybox.isMobile&&e.addEventListener(\"scroll\",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(\".fancybox-image\")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(\".fancybox-caption\").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass(\"fancybox-is-grabbing\")),2===i.startPoints.length&&\"image\"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener(\"scroll\",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],\"x\"),e.distanceY=s(e.newPoints[0],e.startPoints[0],\"y\"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)\"x\"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass(\"fancybox-is-sliding\"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()>800?s.isSwiping=\"x\":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isScrolling=!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var o,i;n.fancybox.stop(e.$slide),o=n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:\"\",opacity:\"\",\"transition-duration\":\"\"}).removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")}),e.pos===r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return void(t.startPoints=t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new Date).getTime()-o.startTime,1),o.$container.removeClass(\"fancybox-is-grabbing\"),n(e).off(\".fb.touch\"),e.removeEventListener(\"scroll\",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return o.onTap(t);o.speed=100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length,s=Math.abs(o.distanceX),r=\"x\"==t&&a>1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,\"y\"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs>350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case\"close\":r.close(i.startEvent);break;case\"toggleControls\":r.toggleControls();break;case\"next\":r.next();break;case\"nextOrClose\":r.group.length>1?r.next():r.close(i.startEvent);break;case\"zoom\":\"image\"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\"))o=\"Outside\";else if(s.is(\".fancybox-slide\"))o=\"Slide\";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o=\"Content\"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f(\"dblclick\"+o)}else i.tapX=d,i.tapY=u,c.opts[\"dblclick\"+o]&&c.opts[\"dblclick\"+o]!==c.opts[\"click\"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f(\"click\"+o)},500):f(\"click\"+o);return this}},n(e).on(\"onActivate.fb\",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on(\"beforeClose.fb\",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){\"use strict\";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class=\"fancybox-progress\"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr(\"style\").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr(\"title\",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass(\"fancybox-button--play\").addClass(\"fancybox-button--pause\"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger(\"onSlideShowChange\",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr(\"title\",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass(\"fancybox-button--pause\").addClass(\"fancybox-button--play\"),t.isActive=!1,t.instance.trigger(\"onSlideShowChange\",!1),t.$progress&&t.$progress.removeAttr(\"style\").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({\"onInit.fb\":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},\"afterShow.fb\":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},\"afterKeydown.fb\":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is(\"button,a,input\")||(a.preventDefault(),r.toggle())},\"beforeClose.fb onDeactivate.fb\":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on(\"visibilitychange\",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,jQuery),function(t,e){\"use strict\";var n=function(){for(var e=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(n){var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&\"image\"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger(\"onFullscreenChange\",t),n.$refs.container.toggleClass(\"fancybox-is-fullscreen\",t),n.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").toggleClass(\"fancybox-button--fsenter\",!t).toggleClass(\"fancybox-button--fsexit\",t))})}e(t).on({\"onInit.fb\":function(t,e){var i;if(!n)return void e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on(\"click.fb-fullscreen\",\"[data-fancybox-fullscreen]\",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide()},\"afterKeydown.fb\":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},\"beforeClose.fb\":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass(\"fancybox-is-fullscreen\")&&o.exit()}})}(document,jQuery),function(t,e){\"use strict\";var n=\"fancybox-thumbs\";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find(\"[data-fancybox-thumbs]\");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr(\"style\").on(\"click\",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class=\"'+n+\" \"+n+\"-\"+o.opts.axis+'\"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on(\"click\",\"a\",function(){i.jumpTo(e(this).attr(\"data-index\"))})),o.$list||(o.$list=e('<div class=\"'+n+'__list\">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||\"image\"!==n.type||(t=n.src),s.push('<a href=\"javascript:;\" tabindex=\"0\" data-index=\"'+e+'\"'+(t&&t.length?' style=\"background-image:url('+t+')\"':'class=\"fancybox-thumbs-missing\"')+\"></a>\")}),o.$list[0].innerHTML=s.join(\"\"),\"x\"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css(\"padding-right\"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass(\"fancybox-thumbs-active\").filter('[data-index=\"'+o.instance.current.index+'\"]').addClass(\"fancybox-thumbs-active\"),n=e.position(),\"y\"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):\"x\"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger(\"onThumbsShow\"),t.focus(0)):t.$grid&&t.instance.trigger(\"onThumbsHide\"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({\"onInit.fb\":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},\"afterKeydown.fb\":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},\"beforeClose.fb\":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){\"use strict\";function n(t){var e={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"};return String(t).replace(/[&<>\"'`=\\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&\"inline\"!==e.type&&\"html\"!==e.type&&(e.origSrc||e.src)||window.location},\ntpl:'<div class=\"fancybox-share\"><h1>{{SHARE}}</h1><p><a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg><span>Facebook</span></a><a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg><span>Twitter</span></a><a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg><span>Pinterest</span></a></p><p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p></div>'}}),e(t).on(\"click\",\"[data-fancybox-share]\",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&(\"function\"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\\{\\{media\\}\\}/g,\"image\"===a.type?encodeURIComponent(a.src):\"\").replace(/\\{\\{url\\}\\}/g,encodeURIComponent(t)).replace(/\\{\\{url_raw\\}\\}/g,n(t)).replace(/\\{\\{descr\\}\\}/g,i.$caption?encodeURIComponent(i.$caption.text()):\"\"),e.fancybox.open({src:i.translate(i,o),type:\"html\",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one(\"beforeClose.fb\",function(){t.close(null,0)}),e.$content.find(\".fancybox-share__button\").click(function(){return window.open(this.href,\"Share\",\"width=550, height=450\"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){\"use strict\";function o(){var e=t.location.hash.substr(1),n=e.split(\"-\"),o=n.length>1&&/^\\+?\\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join(\"-\");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){\"\"!==t.gallery&&n(\"[data-fancybox='\"+n.escapeSelector(t.gallery)+\"']\").eq(t.index-1).focus().trigger(\"click.fb-start\")}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,\"\"!==(n=e.hash||(e.$orig?e.$orig.data(\"fancybox\")||e.$orig.data(\"fancybox-trigger\"):\"\"))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+\"\").replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(e).on({\"onInit.fb\":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},\"beforeShow.fb\":function(n,o,i,s){var r;i&&!1!==i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length>1?\"-\"+(i.index+1):\"\"),t.location.hash!==\"#\"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){\"replaceState\"in t.history?(t.history[s?\"pushState\":\"replaceState\"]({},e.title,t.location.pathname+t.location.search+\"#\"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},\"beforeClose.fb\":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&(\"replaceState\"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||\"\")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on(\"hashchange.fb\",function(){var t=o(),e=null;n.each(n(\".fancybox-container\").get().reverse(),function(t,o){var i=n(o).data(\"FancyBox\");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+\"-\"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):\"\"!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){\"use strict\";var n=(new Date).getTime();e(t).on({\"onInit.fb\":function(t,e,o){e.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||!1===o.opts.wheel||\"auto\"===o.opts.wheel&&\"image\"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass(\"fancybox-animated\")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?\"next\":\"previous\"]())))})}})}(document,jQuery);","date":"2020-03-24T01:50:36.146Z","updated":"2020-03-24T01:50:36.146Z","path":"lib/fancybox/source/jquery.fancybox.min.js","layout":"false","title":"","comments":1,"_id":"ck85lu6t100054s1z3jlc4mt2","content":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n!function(t,e,n,o){\"use strict\";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger(\"blur\"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr(\"data-fancybox\")||\"\",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox=\"'+i+'\"]'):n('[data-fancybox=\"'+i+'\"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info(\"fancybox already initialized\");var a=\"{closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:\"auto\",toolbar:\"auto\",buttons:[\"zoom\",\"slideShow\",\"thumbs\",\"close\"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe\" id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src>',preload:!0,css:{},attr:{scrolling:\"auto\"}},video:{tpl:'<video class=\"fancybox-video\" controls controlslist=\"nodownload\" poster><source src type>Sorry, your browser doesn\\'t support embedded videos, <a href>download</a> and watch with your favorite video player!</video>',format:\"\",autoStart:!0},defaultType:\"image\",animationEffect:\"zoom\",animationDuration:366,zoomOpacity:\"auto\",transitionEffect:\"fade\",transitionDuration:366,slideClass:\"\",baseClass:\"\",baseTpl:'<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-inner\"><div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class=\"fancybox-toolbar\"></div><div class=\"fancybox-navigation\"></div><div class=\"fancybox-stage\"></div><div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div></div></div>',spinnerTpl:'<div class=\"fancybox-loading\"></div>',errorTpl:'<div class=\"fancybox-error\"><p></p></div>',btnTpl:{download:'<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title href=\"javascript:;\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg></a>',zoom:'<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg></button>',close:'<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg></button>',arrowLeft:'<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div></button>',arrowRight:'<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div></button>',smallBtn:'<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title><svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewbox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg></button>'},parentEl:\"body\",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"},wheel:\"auto\",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},clickSlide:\"close\",clickOutside:\"close\",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return\"image\"===t.type&&\"toggleControls\"},clickSlide:function(t,e){return\"image\"===t.type?\"toggleControls\":\"close\"},dblclickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},dblclickSlide:function(t,e){return\"image\"===t.type&&\"zoom\"}},lang:\"en\",i18n:{en:{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",ERROR:\"The requested content cannot be loaded. <br> Please try again later.\",PLAY_START:\"Start slideshow\",PLAY_STOP:\"Pause slideshow\",FULL_SCREEN:\"Full screen\",THUMBS:\"Thumbnails\",DOWNLOAD:\"Download\",SHARE:\"Share\",ZOOM:\"Zoom\"},de:{CLOSE:\"Schlie&szlig;en\",NEXT:\"Weiter\",PREV:\"Zur&uuml;ck\",ERROR:\"Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.\",PLAY_START:\"Diaschau starten\",PLAY_STOP:\"Diaschau beenden\",FULL_SCREEN:\"Vollbild\",THUMBS:\"Vorschaubilder\",DOWNLOAD:\"Herunterladen\",SHARE:\"Teilen\",ZOOM:\"Vergr&ouml;&szlig;ern\"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement(\"fakeelement\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(t in o)if(void 0!==n.style[t])return o[t];return\"transitionend\"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(\".fancybox-container\").css(\"pointer-events\",\"none\"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(\".fancybox-container\").css(\"pointer-events\",\"\"),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n(\"body\").addClass(\"fancybox-active\"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n(\"head\").append('<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+\"px;}</style>\"),n(\"body\").addClass(\"compensate-for-scrollbar\")),i=\"\",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||\"\"}),o=n(a.translate(a,r.baseTpl.replace(\"\",i).replace(\"\",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr(\"id\",\"fancybox-container-\"+a.id).addClass(r.baseClass).data(\"FancyBox\",a).appendTo(r.parentEl),a.$refs={container:o},[\"bg\",\"inner\",\"infobar\",\"toolbar\",\"stage\",\"caption\",\"navigation\"].forEach(function(t){a.$refs[t]=o.find(\".fancybox-\"+t)}),a.trigger(\"onInit\"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\\{\\{(\\w+)\\}\\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):\"object\"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr(\"href\"),l.type||l.src||(l.type=\"inline\",l.src=e)):l={type:\"html\",src:e+\"\"},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||\"\",!a&&r&&((s=r.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(a=\"video\",l.opts.video.format||(l.opts.video.format=\"video/\"+(\"ogv\"===s[1]?\"ogg\":s[1]))):r.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?a=\"image\":r.match(/\\.(pdf)((\\?|#).*)?$/i)?(a=\"iframe\",l=n.extend(!0,l,{contentType:\"pdf\",opts:{iframe:{preload:!1}}})):\"#\"===r.charAt(0)&&(a=\"inline\")),a?l.type=a:o.trigger(\"objectNeedsType\",l),l.contentType||(l.contentType=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1?\"html\":l.type),l.index=o.group.length,\"auto\"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1),\"auto\"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find(\"img:first\"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find(\"img:first\")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),\"function\"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),\"function\"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?\"\":l.opts.caption+\"\"),\"ajax\"===l.type&&(c=r.split(/\\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on(\"click.fb-close\",\"[data-fancybox-close]\",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on(\"touchstart.fb-prev click.fb-prev\",\"[data-fancybox-prev]\",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on(\"touchstart.fb-next click.fb-next\",\"[data-fancybox-next]\",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on(\"click.fb\",\"[data-fancybox-zoom]\",function(t){e[e.isScaledDown()?\"scaleToActual\":\"scaleToFit\"]()}),s.on(\"orientationchange.fb resize.fb\",function(t){t&&t.originalEvent&&\"resize\"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&\"iframe\"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on(\"keydown.fb\",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is(\"input,textarea,video,audio,select\")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger(\"afterKeydown\",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on(\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off(\"orientationchange.fb resize.fb\"),r.off(\"keydown.fb .fb-idle\"),this.$refs.container.off(\".fb-close .fb-prev .fb-next\"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger(\"beforeShow\",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?\"animationDuration\":\"transitionDuration\"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass(\"fancybox-slide--current\"),o)return s.opts.animationEffect&&e&&f.$refs.container.css(\"transition-duration\",e+\"ms\"),f.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\"),f.loadSlide(s),void f.preload(\"image\");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass(\"fancybox-slide--\"+(o.pos>s.pos?\"next\":\"previous\")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:\"\",opacity:\"\"}).removeClass(\"fancybox-slide--next fancybox-slide--previous\"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d=\"fancybox-animated fancybox-fx-\"+s.opts.transitionEffect,r.$slide.addClass(\"fancybox-slide--\"+(r.pos>s.pos?\"next\":\"previous\")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass(\"fancybox-slide--next fancybox-slide--previous\")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload(\"image\")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class=\"fancybox-slide\">').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||\"image\"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=\"this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||\"image\"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var\" e,o,i,a,s=\"this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css(\"paddingLeft\"))+parseFloat(c.css(\"paddingRight\"))+parseFloat(r.css(\"marginLeft\"))+parseFloat(r.css(\"marginRight\")),o-=parseFloat(c.css(\"paddingTop\"))+parseFloat(c.css(\"paddingBottom\"))+parseFloat(r.css(\"marginTop\"))+parseFloat(r.css(\"marginBottom\")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l\">e-.5&&(l=e),d>o-.5&&(d=o),\"image\"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css(\"paddingTop\")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css(\"paddingLeft\"))):\"video\"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||\"video\"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger(\"refresh\"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(\".fancybox-button--arrow_right\")).toggleClass(\"compensate-for-scrollbar\",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger(\"onUpdate\",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:\"\",opacity:\"\"}),i.parent().children().removeClass(\"fancybox-slide--previous fancybox-slide--next\"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:\"\",opacity:\"\"}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass(\"fancybox-animated\")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass(\"fancybox-is-zoomable\",i),n(\"[data-fancybox-zoom]\").prop(\"disabled\",!i),o?r.addClass(\"fancybox-can-pan\"):i&&(\"zoom\"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&\"zoom\"==s.opts.clickContent(s))?r.addClass(\"fancybox-can-zoomIn\"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&\"video\"!==s.contentType&&r.addClass(\"fancybox-can-swipe\"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&\"image\"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=\"this,i=o.current,a=null,s=!1;return\"image\"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void\" 0!=\"=t&&void\">1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger(\"beforeLoad\",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off(\"refresh\").trigger(\"onReset\").addClass(t.opts.slideClass),e){case\"image\":a.setImage(t);break;case\"iframe\":a.setIframe(t);break;case\"html\":a.setContent(t,t.src||t.content);break;case\"video\":a.setContent(t,t.opts.video.tpl.replace(/\\{\\{src\\}\\}/gi,t.src).replace(\"\",t.opts.videoFormat||t.opts.video.format||\"\").replace(\"\",t.thumb||\"\"));break;case\"inline\":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case\"ajax\":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){\"success\"===n&&a.setContent(t,e)},error:function(e,n){e&&\"abort\"!==n&&a.setError(t)}})),o.one(\"onReset\",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class=\"fancybox-content\"></div>').addClass(\"fancybox-is-hidden\").appendTo(t.$slide.addClass(\"fancybox-slide--image\")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement(\"img\"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass(\"fancybox-image\").appendTo(t.$content).attr(\"src\",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(\",\").map(function(t){var e={};return t.trim().split(/\\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=\"o[r];if(\"w\"===c.postfix&&c.value\">=a||\"x\"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&\"w\"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement(\"img\"),a=n(i);t.$image=a.one(\"error\",function(){o.setError(t)}).one(\"load\",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&\"auto\"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?\"100\":Math.round(t.width/t.height*100))+\"vw\"),a.attr(\"sizes\",e).attr(\"srcset\",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass(\"fancybox-image\").attr(\"src\",t.src).appendTo(t.$content),(i.complete||\"complete\"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger(\"load\"):i.error&&a.trigger(\"error\")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class=\"fancybox-content'+(i.preload?\" fancybox-is-hidden\":\"\")+'\"></div>').css(i.css).appendTo(a),a.addClass(\"fancybox-slide--\"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on(\"load.fb error.fb\",function(e){this.isReady=1,t.$slide.trigger(\"refresh\"),o.afterLoad(t)}),a.on(\"refresh.fb\",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find(\"body\")}catch(t){}o&&o.length&&o.children().length&&(a.css(\"overflow\",\"visible\"),s.css({width:\"100%\",\"max-width\":\"100%\",height:\"9999px\"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css(\"width\",r||\"\").css(\"max-width\",\"\"),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css(\"height\",c||\"\"),a.css(\"overflow\",\"auto\")),s.removeClass(\"fancybox-is-hidden\")}})):o.afterLoad(t),e.attr(\"src\",t.src),a.one(\"onReset\",function(){try{n(this).find(\"iframe\").hide().unbind().attr(\"src\",\"//about:blank\")}catch(t){}n(this).off(\"refresh.fb\").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass(\"fancybox-content\")||e.parent().hasClass(\"fancybox-content\"))&&e.parents(\".fancybox-slide\").trigger(\"onReset\"),t.$placeholder=n(\"<div>\").hide().insertAfter(e),e.css(\"display\",\"inline-block\")):t.hasError||(\"string\"===n.type(e)&&(e=n(\"<div>\").append(n.trim(e)).contents()),t.opts.filter&&(e=n(\"<div>\").html(e).find(t.opts.filter))),t.$slide.one(\"onReset\",function(){n(this).find(\"video,audio\").trigger(\"pause\"),t.$placeholder&&(t.$placeholder.after(e.removeClass(\"fancybox-content\").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is(\"video,audio\")&&(n(e).addClass(\"fancybox-video\"),n(e).wrap(\"<div></div>\"),t.contentType=\"video\",t.opts.width=t.opts.width||n(e).attr(\"width\"),t.opts.height=t.opts.height||n(e).attr(\"height\")),t.$content=t.$slide.children().filter(\"div,form,main,video,audio,article,.fancybox-content\").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner(\"<div></div>\").children().first()),t.$content.addClass(\"fancybox-content\"),t.$slide.addClass(\"fancybox-slide--\"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger(\"onReset\").removeClass(\"fancybox-slide--\"+t.contentType).addClass(\"fancybox-slide--error\"),t.contentType=\"html\",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn(\"fast\"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger(\"afterLoad\",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on(\"contextmenu.fb\",function(t){return 2==t.button&&t.preventDefault(),!0}),\"image\"===t.type&&n('<div class=\"fancybox-spaceball\"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass(\"fancybox-caption--separate\",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css(\"padding-bottom\",r||\"\"))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css(\"margin-bottom\",\"\"),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style[\"padding-bottom\"],i=s.$slide.css(\"padding-bottom\"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css(\"padding-bottom\",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var 0=\"==t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),\"zoom\"===e&&(t.pos===s.currPos&&i&&\"image\"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e=\"fade\"),\"zoom\"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,\"auto\"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)\" e,o,i,a,s=\"this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return\" t.isrevealed=\"!0,e=t.opts[s.firstRun?\"animationEffect\":\"transitionEffect\"],i=t.opts[s.firstRun?\"animationDuration\":\"transitionDuration\"],i=parseInt(void\">.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass(\"fancybox-is-hidden\"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o=\"fancybox-slide--\"+(t.pos>=s.prevPos?\"next\":\"previous\")+\" fancybox-animated fancybox-fx-\"+e,r.addClass(o).removeClass(\"fancybox-slide--current\"),t.$content.removeClass(\"fancybox-is-hidden\"),p(r),\"image\"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,\"fancybox-slide--current\",i,function(){r.removeClass(o).css({transform:\"\",opacity:\"\"}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass(\"fancybox-is-hidden\"),u||!d||\"image\"!==t.type||t.hasError||t.$content.hide().fadeIn(\"fast\"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css(\"border-top-width\")||0),i=parseFloat(c.css(\"border-right-width\")||0),a=parseFloat(c.css(\"border-bottom-width\")||0),s=parseFloat(c.css(\"border-left-width\")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger(\"onReset\"),e.preload(\"inline\"),p(o.$slide),o.$slide.addClass(\"fancybox-slide--complete\"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=\"this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var\" i,a,s=\"this,r=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'].join(\",\");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find(\"*:visible\"+(o?\":not(.fancybox-close-small)\":\"\")):s.$refs.container.find(\"*:visible\"),i=i.filter(r).filter(function(){return\"hidden\"!==n(this).css(\"visibility\")&&!n(this).hasClass(\"disabled\")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger(\"focus\")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger(\"focus\"))):s.$refs.container.trigger(\"focus\"))},activate:function(){var\" t=\"this;n(\".fancybox-container\").each(function(){var\" e=\"n(this).data(\"FancyBox\");e&&e.id!==t.id&&!e.isClosing&&(e.trigger(\"onDeactivate\"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger(\"onActivate\"),t.addEvents()},close:function(t,e){var\" o,i,a,s,r,c,l,u=\"this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger(\"beforeClose\",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass(\"fancybox-slide--complete\" fancybox-slide--next fancybox-slide--previous fancybox-animated\"),!0!=\"=t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger(\"onReset\").remove(),i&&u.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\").css(\"transition-duration\",i+\"ms\"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),\"zoom\"!==o||a&&i&&\"image\"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o=\"fade\"),\"zoom\"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,\" \"auto\"=\"=r&&(r=Math.abs(f.width/f.height-l.width/l.height)\">.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\"fancybox-animated fancybox-fx-\"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger(\"onReset\"),s.$refs.container.empty().remove(),s.trigger(\"afterClose\",e),s.current.opts.backFocus&&(r&&r.length&&r.is(\":visible\")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger(\"focus\"),n(\"html, body\").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\"),n(\"#fancybox-style-noscroll\").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;\"afterClose\"!==t&&a.$refs?a.$refs.container.trigger(t+\".fb\",i):r.trigger(t+\".fb\",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger(\"refresh\"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find(\"[data-fancybox-count]\").html(t.group.length),a.find(\"[data-fancybox-index]\").html(i+1),a.find(\"[data-fancybox-prev]\").prop(\"disabled\",!o.opts.loop&&i<=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i>=t.group.length-1),\"image\"===o.type?a.find(\"[data-fancybox-zoom]\").show().end().find(\"[data-fancybox-download]\").attr(\"href\",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide(),n(e.activeElement).is(\":hidden,[disabled]\")&&t.$refs.container.trigger(\"focus\")},hideControls:function(t){var e=this,n=[\"infobar\",\"toolbar\",\"nav\"];!t&&e.current.opts.preventCaptionOverlap||n.push(\"caption\"),this.$refs.container.removeClass(n.map(function(t){return\"fancybox-show-\"+t}).join(\" \")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass(\"fancybox-show-toolbar\",!(!e.toolbar||!e.buttons)).toggleClass(\"fancybox-show-infobar\",!!(e.infobar&&t.group.length>1)).toggleClass(\"fancybox-show-caption\",!!t.$caption).toggleClass(\"fancybox-show-nav\",!!(e.arrows&&t.group.length>1)).toggleClass(\"fancybox-is-modal\",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:\"3.5.7\",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&(\"string\"===n.type(t)?e[t].apply(e,o):\"function\"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add(\"body\").off(\"click.fb-start\",\"**\")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement(\"div\");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue(\"transform\")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var 0=\"==e.left&&void\" e;return!(!t||!t.length)&&(e=\"t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css(\"opacity\"))})},setTranslate:function(t,e){var\" n ,o=\"{};if(t&&e)return\" void \"+(void 0px)\":\"translate(\"+n+\")\"),void 0!=\"=e.scaleX&&void\" scale(\"+e.scalex+\", \"+e.scaley+\")\":void scalex(\"+e.scalex+\")\"),n.length&&(o.transform=\"n),void\" s,r=\"this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&\"z-index\"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css(\"transition-duration\",\"\"),n.isPlainObject(e)?void\" e.width,delete e.height,t.parent().hasclass(\"fancybox-slide--image\")&&t.parent().addclass(\"fancybox-is-scaling\")),n.fancybox.settranslate(t,e)):t.addclass(e),t.data(\"timer\",settimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(cleartimeout(t.data(\"timer\")),e&&t.trigger(f),t.off(f).css(\"transition-duration\",\"\"),t.parent().removeclass(\"fancybox-is-scaling\"))}},n.fn.fancybox=\"function(t){var\" e;return t=\"t||{},e=t.selector||!1,e?n(\"body\").off(\"click.fb-start\",e).on(\"click.fb-start\",e,{options:t},i):this.off(\"click.fb-start\").on(\"click.fb-start\",{items:this,options:t},i),this},r.on(\"click.fb-start\",\"[data-fancybox]\",i),r.on(\"click.fb-start\",\"[data-fancybox-trigger]\",function(t){n('[data-fancybox=\"'+n(this).attr(\"data-fancybox-trigger\")+'\"]').eq(n(this).attr(\"data-fancybox-index\")||0).trigger(\"click.fb-start\",{$trigger:n(this)})}),function(){var\" mouseup focus blur\",\".fancybox-button\",function(e){switch(e.type){case\"mousedown\":t=\"n(this);break;case\"mouseup\":t=null;break;case\"focusin\":n(\".fancybox-button\").removeClass(\"fancybox-focus\"),n(this).is(t)||n(this).is(\"[disabled]\")||n(this).addClass(\"fancybox-focus\");break;case\"focusout\":n(\".fancybox-button\").removeClass(\"fancybox-focus\")}})}()}}(window,document,jQuery),function(t){\"use\" strict\";var e=\"{youtube:{matcher:/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:\"transparent\",enablejsapi:1,html5:1},paramPlace:8,type:\"iframe\",url:\"https://www.youtube-nocookie.com/embed/$4\",thumb:\"https://img.youtube.com/vi/$4/hqdefault.jpg\"},vimeo:{matcher:/^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:\"iframe\",url:\"//player.vimeo.com/video/$2\"},instagram:{matcher:/(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,type:\"image\",url:\"//$1/p/$2/media/?size=l\"},gmap_place:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/?ll=\"+(t[9]?t[9]+\"&z=\"+Math.floor(t[10])+(t[12]?t[12].replace(/^\\//,\"&\"):\"\"):t[12]+\"\").replace(/\\?/,\"&\")+\"&output=\"+(t[12]&&t[12].indexOf(\"layer=c\")\">0?\"svembed\":\"embed\")}},gmap_search:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/maps?q=\"+t[5].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")+\"&output=embed\"}}},n=function(e,n,o){if(e)return o=o||\"\",\"object\"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace(\"$\"+t,n||\"\")}),o.length&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+o),e};t(document).on(\"objectNeedsType.fb\",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||\"\",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],\"?\"==d[0]&&(d=d.substring(1)),d=d.split(\"&\");for(var i=0;i<d.length;++i){var s=\"d[i].split(\"=\",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\\+/g,\"\" \")))}}return l=\"t.extend(!0,{},o.params,a.opts[e],u),p=\"function\"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r=\"function\"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),\"youtube\"===e?p=p.replace(/&t=((\\d+)m)?(\\d+)s/,function(t,e,n,o){return\"&start=\"+((n?60*parseInt(n,10):0)+parseInt(o,10))}):\"vimeo\"===e&&(p=p.replace(\"&%23\",\"#\")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),\"iframe\"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:\"no\"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:\"image\"===h?\"image\":\"gmap_place\"==f||\"gmap_search\"==f?\"map\":\"video\"})):p&&(a.type=a.opts.defaultType)});var\" o=\"{youtube:{src:\"https://www.youtube.com/iframe_api\",class:\"YT\",loading:!1,loaded:!1},vimeo:{src:\"https://player.vimeo.com/api/player.js\",class:\"Vimeo\",loading:!1,loaded:!1},load:function(t){var\" e,n=\"this;if(this[t].loaded)return\" void settimeout(function(){n.done(t)});this[t].loading||(this[t].loading=\"!0,e=document.createElement(\"script\"),e.type=\"text/javascript\",e.src=this[t].src,\"youtube\"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var\" n,o,i;\"youtube\"=\"==e&&delete\" window.onyoutubeiframeapiready,(n=\"t.fancybox.getInstance())&&(o=n.current.$content.find(\"iframe\"),\"youtube\"===e&&void\" 0!=\"=YT&&YT?i=new\" yt.player(o.attr(\"id\"),{events:{onstatechange:function(t){0=\"=t.data&&n.next()}}}):\"vimeo\"===e&&void\" vimeo.player(o),i.on(\"ended\",function(){n.next()})))}};t(document).on({\"aftershow.fb\":function(t,e,n){e.group.length>1&&(\"youtube\"===n.contentSource||\"vimeo\"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){\"use strict\";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?\"x\"===n?t.x-e.x:\"y\"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data(\"selectable\"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=\"t.getComputedStyle(e)[\"overflow-y\"],o=t.getComputedStyle(e)[\"overflow-x\"],i=(\"scroll\"===n||\"auto\"===n)&&e.scrollHeight\">e.clientHeight,a=(\"scroll\"===o||\"auto\"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass(\"fancybox-stage\")||t.is(\"body\"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on(\"touchstart.fb.touch mousedown.fb.touch\",n.proxy(e,\"ontouchstart\"))};d.prototype.destroy=function(){var t=this;t.$container.off(\".fb.touch\"),n(e).off(\".fb.touch\"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h=\"touchstart\"==o.type;if(h&&i.$container.off(\"mousedown.fb.touch\"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is(\"img\")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass(\"fancybox-animated\"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(\".fb.touch\").on(h?\"touchend.fb.touch touchcancel.fb.touch\":\"mouseup.fb.touch mouseleave.fb.touch\",n.proxy(i,\"ontouchend\")).on(h?\"touchmove.fb.touch\":\"mousemove.fb.touch\",n.proxy(i,\"ontouchmove\")),n.fancybox.isMobile&&e.addEventListener(\"scroll\",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(\".fancybox-image\")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(\".fancybox-caption\").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass(\"fancybox-is-grabbing\")),2===i.startPoints.length&&\"image\"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener(\"scroll\",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],\"x\"),e.distanceY=s(e.newPoints[0],e.startPoints[0],\"y\"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)\"x\"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=\"e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass(\"fancybox-is-sliding\"))});else\" if(math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()>800?s.isSwiping=\"x\":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isscrolling=\"!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var\" o,i;n.fancybox.stop(e.$slide),o=\"n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:\"\",opacity:\"\",\"transition-duration\":\"\"}).removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\"\" \")}),e.pos=\"==r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var\" t=\"this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return\" void(t.startpoints=\"t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var\" t,e,n,o,i,a,s=\"this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return\" i=\"h\">r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=\"this,a=i.canvasWidth,s=i.canvasHeight;return\" n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a 2-n 2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s 2-o 2),{top:e,left:t}},d.prototype.onzoom=\"function(){var\" e=\"this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var\" o=\"this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new\" date).gettime()-o.starttime,1),o.$container.removeclass(\"fancybox-is-grabbing\"),n(e).off(\".fb.touch\"),e.removeeventlistener(\"scroll\",o.onscroll,!0),o.requestid&&(i(o.requestid),o.requestid=\"null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return\" o.ontap(t);o.speed=\"100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var\">1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,\"y\"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var t,e,o,i=\"this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs\">350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case\"close\":r.close(i.startEvent);break;case\"toggleControls\":r.toggleControls();break;case\"next\":r.next();break;case\"nextOrClose\":r.group.length>1?r.next():r.close(i.startEvent);break;case\"zoom\":\"image\"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\"))o=\"Outside\";else if(s.is(\".fancybox-slide\"))o=\"Slide\";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o=\"Content\"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f(\"dblclick\"+o)}else i.tapX=d,i.tapY=u,c.opts[\"dblclick\"+o]&&c.opts[\"dblclick\"+o]!==c.opts[\"click\"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f(\"click\"+o)},500):f(\"click\"+o);return this}},n(e).on(\"onActivate.fb\",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on(\"beforeClose.fb\",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){\"use strict\";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class=\"fancybox-progress\"></2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div></2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d></a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r></0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var></s-o?s-o:e):e=Math.max(0,s></a-n?a-n:t):t=Math.max(0,a></0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var></0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d></135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return></2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()></2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var></i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var></d.length;++i){var></11)}(),getTranslate:function(t){var></=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i></=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var></1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=\"this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr(\"style\").hide()},start:function(){var\" n(e))},\"beforeshow.fb\":function(t,e,n,o){var i=\"e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},\"afterShow.fb\":function(t,e,n){var\" o=\"e&&e.SlideShow;o&&o.isActive&&o.set()},\"afterKeydown.fb\":function(n,o,i,a,s){var\" r=\"o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is(\"button,a,input\")||(a.preventDefault(),r.toggle())},\"beforeClose.fb\" ondeactivate.fb\":function(t,e){var n=\"e&&e.SlideShow;n&&n.stop()}}),e(t).on(\"visibilitychange\",function(){var\" strict\";var e=\"[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n={},o=0;o<e.length;o++){var\" t){for(var a=\"0;a<i.length;a++)n[e[0][a]]=i[a];return\" n}}return!1}();if(n){var boolean(t[n.fullscreenelement])},enabled:function(){return boolean(t[n.fullscreenenabled])}};e.extend(!0,e.fancybox.defaults,{btntpl:{fullscreen:'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&\"image\"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger(\"onFullscreenChange\",t),n.$refs.container.toggleClass(\"fancybox-is-fullscreen\",t),n.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").toggleClass(\"fancybox-button--fsenter\",!t).toggleClass(\"fancybox-button--fsexit\",t))})}e(t).on({\"onInit.fb\":function(t,e){var i;if(!n)return void e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on(\"click.fb-fullscreen\",\"[data-fancybox-fullscreen]\",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide()},\"afterKeydown.fb\":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},\"beforeClose.fb\":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass(\"fancybox-is-fullscreen\")&&o.exit()}})}(document,jQuery),function(t,e){\"use strict\";var n=\"fancybox-thumbs\";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find(\"[data-fancybox-thumbs]\");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr(\"style\").on(\"click\",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class=\"'+n+\" \"+n+\"-\"+o.opts.axis+'\"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on(\"click\",\"a\",function(){i.jumpTo(e(this).attr(\"data-index\"))})),o.$list||(o.$list=e('<div class=\"'+n+'__list\">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||\"image\"!==n.type||(t=n.src),s.push('<a href=\"javascript:;\" tabindex=\"0\" data-index=\"'+e+'\" '+(t&&t.length?' style=\"background-image:url('+t+')\" ':'class=\"fancybox-thumbs-missing\" ')+\"></a>\")}),o.$list[0].innerHTML=s.join(\"\"),\"x\"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css(\"padding-right\"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass(\"fancybox-thumbs-active\").filter('[data-index=\"'+o.instance.current.index+'\"]').addClass(\"fancybox-thumbs-active\"),n=e.position(),\"y\"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):\"x\"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger(\"onThumbsShow\"),t.focus(0)):t.$grid&&t.instance.trigger(\"onThumbsHide\"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({\"onInit.fb\":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},\"afterKeydown.fb\":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},\"beforeClose.fb\":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){\"use strict\";function n(t){var e={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"};return String(t).replace(/[&<>\"'`=\\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&\"inline\"!==e.type&&\"html\"!==e.type&&(e.origSrc||e.src)||window.location},\ntpl:'<div class=\"fancybox-share\"><h1></h1><p><a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\"/></svg><span>Facebook</span></a><a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url=&text=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\"/></svg><span>Twitter</span></a><a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url=&description=&media=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg><span>Pinterest</span></a></p><p><input class=\"fancybox-share__input\" type=\"text\" value onclick=\"select()\"></p></div>'}}),e(t).on(\"click\",\"[data-fancybox-share]\",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&(\"function\"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\\{\\{media\\}\\}/g,\"image\"===a.type?encodeURIComponent(a.src):\"\").replace(/\\{\\{url\\}\\}/g,encodeURIComponent(t)).replace(/\\{\\{url_raw\\}\\}/g,n(t)).replace(/\\{\\{descr\\}\\}/g,i.$caption?encodeURIComponent(i.$caption.text()):\"\"),e.fancybox.open({src:i.translate(i,o),type:\"html\",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one(\"beforeClose.fb\",function(){t.close(null,0)}),e.$content.find(\".fancybox-share__button\").click(function(){return window.open(this.href,\"Share\",\"width=550, height=450\"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){\"use strict\";function o(){var e=t.location.hash.substr(1),n=e.split(\"-\"),o=n.length>1&&/^\\+?\\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join(\"-\");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){\"\"!=\"=t.gallery&&n(\"[data-fancybox='\"+n.escapeSelector(t.gallery)+\"']\").eq(t.index-1).focus().trigger(\"click.fb-start\")}function\" a(t){var e,n;return!!t&&(e=\"t.current?t.current.opts:t.opts,\"\"!==(n=e.hash||(e.$orig?e.$orig.data(\"fancybox\")||e.$orig.data(\"fancybox-trigger\"):\"\"))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+\"\").replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,function(t,e){return\" e?\"\\0\"=\"==t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\"\" \":\"\\\\\"+t})}),n(function(){!1!=\"=n.fancybox.defaults.hash&&(n(e).on({\"onInit.fb\":function(t,e){var\" n,i;!1!=\"=e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},\"beforeShow.fb\":function(n,o,i,s){var\" r;i&&!1!=\"=i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length\">1?\"-\"+(i.index+1):\"\"),t.location.hash!==\"#\"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){\"replaceState\"in t.history?(t.history[s?\"pushState\":\"replaceState\"]({},e.title,t.location.pathname+t.location.search+\"#\"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},\"beforeClose.fb\":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&(\"replaceState\"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||\"\")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on(\"hashchange.fb\",function(){var t=o(),e=null;n.each(n(\".fancybox-container\").get().reverse(),function(t,o){var i=n(o).data(\"FancyBox\");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+\"-\"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):\"\"!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){\"use strict\";var n=(new Date).getTime();e(t).on({\"onInit.fb\":function(t,e,o){e.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\",function(t){var o=e.current,i=(new Date).getTime();e.group.length</1?1:o,gallery:i}}function></\":\"&lt;\",\"></a.scrollLeft()||n.left></0||n.top></div></a&&(n[i].thumb&&o++,!(o></o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var></div></div></o.length;r++){var></a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var></p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var></f-h&&(a=f-h)),g></0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div></h-1)&&f.createSlide(t+1),(a||s.index></0||t></0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return>","site":{"data":{}},"excerpt":"","more":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n!function(t,e,n,o){\"use strict\";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger(\"blur\"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr(\"data-fancybox\")||\"\",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox=\"'+i+'\"]'):n('[data-fancybox=\"'+i+'\"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info(\"fancybox already initialized\");var a=\"{closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:\"auto\",toolbar:\"auto\",buttons:[\"zoom\",\"slideShow\",\"thumbs\",\"close\"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe\" id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src>',preload:!0,css:{},attr:{scrolling:\"auto\"}},video:{tpl:'<video class=\"fancybox-video\" controls controlslist=\"nodownload\" poster><source src type>Sorry, your browser doesn\\'t support embedded videos, <a href>download</a> and watch with your favorite video player!</video>',format:\"\",autoStart:!0},defaultType:\"image\",animationEffect:\"zoom\",animationDuration:366,zoomOpacity:\"auto\",transitionEffect:\"fade\",transitionDuration:366,slideClass:\"\",baseClass:\"\",baseTpl:'<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-inner\"><div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class=\"fancybox-toolbar\"></div><div class=\"fancybox-navigation\"></div><div class=\"fancybox-stage\"></div><div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div></div></div>',spinnerTpl:'<div class=\"fancybox-loading\"></div>',errorTpl:'<div class=\"fancybox-error\"><p></p></div>',btnTpl:{download:'<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title href=\"javascript:;\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg></a>',zoom:'<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg></button>',close:'<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg></button>',arrowLeft:'<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div></button>',arrowRight:'<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div></button>',smallBtn:'<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title><svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewbox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg></button>'},parentEl:\"body\",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"},wheel:\"auto\",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},clickSlide:\"close\",clickOutside:\"close\",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return\"image\"===t.type&&\"toggleControls\"},clickSlide:function(t,e){return\"image\"===t.type?\"toggleControls\":\"close\"},dblclickContent:function(t,e){return\"image\"===t.type&&\"zoom\"},dblclickSlide:function(t,e){return\"image\"===t.type&&\"zoom\"}},lang:\"en\",i18n:{en:{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",ERROR:\"The requested content cannot be loaded. <br> Please try again later.\",PLAY_START:\"Start slideshow\",PLAY_STOP:\"Pause slideshow\",FULL_SCREEN:\"Full screen\",THUMBS:\"Thumbnails\",DOWNLOAD:\"Download\",SHARE:\"Share\",ZOOM:\"Zoom\"},de:{CLOSE:\"Schlie&szlig;en\",NEXT:\"Weiter\",PREV:\"Zur&uuml;ck\",ERROR:\"Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.\",PLAY_START:\"Diaschau starten\",PLAY_STOP:\"Diaschau beenden\",FULL_SCREEN:\"Vollbild\",THUMBS:\"Vorschaubilder\",DOWNLOAD:\"Herunterladen\",SHARE:\"Teilen\",ZOOM:\"Vergr&ouml;&szlig;ern\"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement(\"fakeelement\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(t in o)if(void 0!==n.style[t])return o[t];return\"transitionend\"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(\".fancybox-container\").css(\"pointer-events\",\"none\"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(\".fancybox-container\").css(\"pointer-events\",\"\"),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n(\"body\").addClass(\"fancybox-active\"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n(\"head\").append('<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+\"px;}</style>\"),n(\"body\").addClass(\"compensate-for-scrollbar\")),i=\"\",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||\"\"}),o=n(a.translate(a,r.baseTpl.replace(\"\",i).replace(\"\",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr(\"id\",\"fancybox-container-\"+a.id).addClass(r.baseClass).data(\"FancyBox\",a).appendTo(r.parentEl),a.$refs={container:o},[\"bg\",\"inner\",\"infobar\",\"toolbar\",\"stage\",\"caption\",\"navigation\"].forEach(function(t){a.$refs[t]=o.find(\".fancybox-\"+t)}),a.trigger(\"onInit\"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\\{\\{(\\w+)\\}\\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):\"object\"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr(\"href\"),l.type||l.src||(l.type=\"inline\",l.src=e)):l={type:\"html\",src:e+\"\"},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||\"\",!a&&r&&((s=r.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(a=\"video\",l.opts.video.format||(l.opts.video.format=\"video/\"+(\"ogv\"===s[1]?\"ogg\":s[1]))):r.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?a=\"image\":r.match(/\\.(pdf)((\\?|#).*)?$/i)?(a=\"iframe\",l=n.extend(!0,l,{contentType:\"pdf\",opts:{iframe:{preload:!1}}})):\"#\"===r.charAt(0)&&(a=\"inline\")),a?l.type=a:o.trigger(\"objectNeedsType\",l),l.contentType||(l.contentType=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1?\"html\":l.type),l.index=o.group.length,\"auto\"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,[\"html\",\"inline\",\"ajax\"])>-1),\"auto\"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find(\"img:first\"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find(\"img:first\")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),\"function\"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),\"function\"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?\"\":l.opts.caption+\"\"),\"ajax\"===l.type&&(c=r.split(/\\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on(\"click.fb-close\",\"[data-fancybox-close]\",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on(\"touchstart.fb-prev click.fb-prev\",\"[data-fancybox-prev]\",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on(\"touchstart.fb-next click.fb-next\",\"[data-fancybox-next]\",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on(\"click.fb\",\"[data-fancybox-zoom]\",function(t){e[e.isScaledDown()?\"scaleToActual\":\"scaleToFit\"]()}),s.on(\"orientationchange.fb resize.fb\",function(t){t&&t.originalEvent&&\"resize\"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&\"iframe\"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on(\"keydown.fb\",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is(\"input,textarea,video,audio,select\")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger(\"afterKeydown\",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on(\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off(\"orientationchange.fb resize.fb\"),r.off(\"keydown.fb .fb-idle\"),this.$refs.container.off(\".fb-close .fb-prev .fb-next\"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger(\"beforeShow\",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?\"animationDuration\":\"transitionDuration\"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass(\"fancybox-slide--current\"),o)return s.opts.animationEffect&&e&&f.$refs.container.css(\"transition-duration\",e+\"ms\"),f.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\"),f.loadSlide(s),void f.preload(\"image\");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\" \")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass(\"fancybox-slide--\"+(o.pos>s.pos?\"next\":\"previous\")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:\"\",opacity:\"\"}).removeClass(\"fancybox-slide--next fancybox-slide--previous\"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d=\"fancybox-animated fancybox-fx-\"+s.opts.transitionEffect,r.$slide.addClass(\"fancybox-slide--\"+(r.pos>s.pos?\"next\":\"previous\")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass(\"fancybox-slide--next fancybox-slide--previous\")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload(\"image\")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class=\"fancybox-slide\">').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||\"image\"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=\"this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||\"image\"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var\" e,o,i,a,s=\"this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css(\"paddingLeft\"))+parseFloat(c.css(\"paddingRight\"))+parseFloat(r.css(\"marginLeft\"))+parseFloat(r.css(\"marginRight\")),o-=parseFloat(c.css(\"paddingTop\"))+parseFloat(c.css(\"paddingBottom\"))+parseFloat(r.css(\"marginTop\"))+parseFloat(r.css(\"marginBottom\")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l\">e-.5&&(l=e),d>o-.5&&(d=o),\"image\"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css(\"paddingTop\")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css(\"paddingLeft\"))):\"video\"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||\"video\"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger(\"refresh\"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(\".fancybox-button--arrow_right\")).toggleClass(\"compensate-for-scrollbar\",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger(\"onUpdate\",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:\"\",opacity:\"\"}),i.parent().children().removeClass(\"fancybox-slide--previous fancybox-slide--next\"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:\"\",opacity:\"\"}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass(\"fancybox-animated\")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass(\"fancybox-is-zoomable\",i),n(\"[data-fancybox-zoom]\").prop(\"disabled\",!i),o?r.addClass(\"fancybox-can-pan\"):i&&(\"zoom\"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&\"zoom\"==s.opts.clickContent(s))?r.addClass(\"fancybox-can-zoomIn\"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&\"video\"!==s.contentType&&r.addClass(\"fancybox-can-swipe\"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&\"image\"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=\"this,i=o.current,a=null,s=!1;return\"image\"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void\" 0!=\"=t&&void\">1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger(\"beforeLoad\",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off(\"refresh\").trigger(\"onReset\").addClass(t.opts.slideClass),e){case\"image\":a.setImage(t);break;case\"iframe\":a.setIframe(t);break;case\"html\":a.setContent(t,t.src||t.content);break;case\"video\":a.setContent(t,t.opts.video.tpl.replace(/\\{\\{src\\}\\}/gi,t.src).replace(\"\",t.opts.videoFormat||t.opts.video.format||\"\").replace(\"\",t.thumb||\"\"));break;case\"inline\":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case\"ajax\":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){\"success\"===n&&a.setContent(t,e)},error:function(e,n){e&&\"abort\"!==n&&a.setError(t)}})),o.one(\"onReset\",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class=\"fancybox-content\"></div>').addClass(\"fancybox-is-hidden\").appendTo(t.$slide.addClass(\"fancybox-slide--image\")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement(\"img\"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass(\"fancybox-image\").appendTo(t.$content).attr(\"src\",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(\",\").map(function(t){var e={};return t.trim().split(/\\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=\"o[r];if(\"w\"===c.postfix&&c.value\">=a||\"x\"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&\"w\"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement(\"img\"),a=n(i);t.$image=a.one(\"error\",function(){o.setError(t)}).one(\"load\",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&\"auto\"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?\"100\":Math.round(t.width/t.height*100))+\"vw\"),a.attr(\"sizes\",e).attr(\"srcset\",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass(\"fancybox-image\").attr(\"src\",t.src).appendTo(t.$content),(i.complete||\"complete\"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger(\"load\"):i.error&&a.trigger(\"error\")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class=\"fancybox-content'+(i.preload?\" fancybox-is-hidden\":\"\")+'\"></div>').css(i.css).appendTo(a),a.addClass(\"fancybox-slide--\"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on(\"load.fb error.fb\",function(e){this.isReady=1,t.$slide.trigger(\"refresh\"),o.afterLoad(t)}),a.on(\"refresh.fb\",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find(\"body\")}catch(t){}o&&o.length&&o.children().length&&(a.css(\"overflow\",\"visible\"),s.css({width:\"100%\",\"max-width\":\"100%\",height:\"9999px\"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css(\"width\",r||\"\").css(\"max-width\",\"\"),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css(\"height\",c||\"\"),a.css(\"overflow\",\"auto\")),s.removeClass(\"fancybox-is-hidden\")}})):o.afterLoad(t),e.attr(\"src\",t.src),a.one(\"onReset\",function(){try{n(this).find(\"iframe\").hide().unbind().attr(\"src\",\"//about:blank\")}catch(t){}n(this).off(\"refresh.fb\").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass(\"fancybox-content\")||e.parent().hasClass(\"fancybox-content\"))&&e.parents(\".fancybox-slide\").trigger(\"onReset\"),t.$placeholder=n(\"<div>\").hide().insertAfter(e),e.css(\"display\",\"inline-block\")):t.hasError||(\"string\"===n.type(e)&&(e=n(\"<div>\").append(n.trim(e)).contents()),t.opts.filter&&(e=n(\"<div>\").html(e).find(t.opts.filter))),t.$slide.one(\"onReset\",function(){n(this).find(\"video,audio\").trigger(\"pause\"),t.$placeholder&&(t.$placeholder.after(e.removeClass(\"fancybox-content\").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is(\"video,audio\")&&(n(e).addClass(\"fancybox-video\"),n(e).wrap(\"<div></div>\"),t.contentType=\"video\",t.opts.width=t.opts.width||n(e).attr(\"width\"),t.opts.height=t.opts.height||n(e).attr(\"height\")),t.$content=t.$slide.children().filter(\"div,form,main,video,audio,article,.fancybox-content\").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner(\"<div></div>\").children().first()),t.$content.addClass(\"fancybox-content\"),t.$slide.addClass(\"fancybox-slide--\"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger(\"onReset\").removeClass(\"fancybox-slide--\"+t.contentType).addClass(\"fancybox-slide--error\"),t.contentType=\"html\",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn(\"fast\"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger(\"afterLoad\",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on(\"contextmenu.fb\",function(t){return 2==t.button&&t.preventDefault(),!0}),\"image\"===t.type&&n('<div class=\"fancybox-spaceball\"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass(\"fancybox-caption--separate\",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css(\"padding-bottom\",r||\"\"))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css(\"margin-bottom\",\"\"),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style[\"padding-bottom\"],i=s.$slide.css(\"padding-bottom\"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css(\"padding-bottom\",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var 0=\"==t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),\"zoom\"===e&&(t.pos===s.currPos&&i&&\"image\"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e=\"fade\"),\"zoom\"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,\"auto\"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)\" e,o,i,a,s=\"this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return\" t.isrevealed=\"!0,e=t.opts[s.firstRun?\"animationEffect\":\"transitionEffect\"],i=t.opts[s.firstRun?\"animationDuration\":\"transitionDuration\"],i=parseInt(void\">.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass(\"fancybox-is-hidden\"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o=\"fancybox-slide--\"+(t.pos>=s.prevPos?\"next\":\"previous\")+\" fancybox-animated fancybox-fx-\"+e,r.addClass(o).removeClass(\"fancybox-slide--current\"),t.$content.removeClass(\"fancybox-is-hidden\"),p(r),\"image\"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,\"fancybox-slide--current\",i,function(){r.removeClass(o).css({transform:\"\",opacity:\"\"}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass(\"fancybox-is-hidden\"),u||!d||\"image\"!==t.type||t.hasError||t.$content.hide().fadeIn(\"fast\"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css(\"border-top-width\")||0),i=parseFloat(c.css(\"border-right-width\")||0),a=parseFloat(c.css(\"border-bottom-width\")||0),s=parseFloat(c.css(\"border-left-width\")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger(\"onReset\"),e.preload(\"inline\"),p(o.$slide),o.$slide.addClass(\"fancybox-slide--complete\"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=\"this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var\" i,a,s=\"this,r=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'].join(\",\");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find(\"*:visible\"+(o?\":not(.fancybox-close-small)\":\"\")):s.$refs.container.find(\"*:visible\"),i=i.filter(r).filter(function(){return\"hidden\"!==n(this).css(\"visibility\")&&!n(this).hasClass(\"disabled\")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger(\"focus\")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger(\"focus\"))):s.$refs.container.trigger(\"focus\"))},activate:function(){var\" t=\"this;n(\".fancybox-container\").each(function(){var\" e=\"n(this).data(\"FancyBox\");e&&e.id!==t.id&&!e.isClosing&&(e.trigger(\"onDeactivate\"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger(\"onActivate\"),t.addEvents()},close:function(t,e){var\" o,i,a,s,r,c,l,u=\"this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger(\"beforeClose\",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass(\"fancybox-slide--complete\" fancybox-slide--next fancybox-slide--previous fancybox-animated\"),!0!=\"=t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger(\"onReset\").remove(),i&&u.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\").css(\"transition-duration\",i+\"ms\"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),\"zoom\"!==o||a&&i&&\"image\"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o=\"fade\"),\"zoom\"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,\" \"auto\"=\"=r&&(r=Math.abs(f.width/f.height-l.width/l.height)\">.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\"fancybox-animated fancybox-fx-\"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger(\"onReset\"),s.$refs.container.empty().remove(),s.trigger(\"afterClose\",e),s.current.opts.backFocus&&(r&&r.length&&r.is(\":visible\")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger(\"focus\"),n(\"html, body\").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\"),n(\"#fancybox-style-noscroll\").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;\"afterClose\"!==t&&a.$refs?a.$refs.container.trigger(t+\".fb\",i):r.trigger(t+\".fb\",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger(\"refresh\"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find(\"[data-fancybox-count]\").html(t.group.length),a.find(\"[data-fancybox-index]\").html(i+1),a.find(\"[data-fancybox-prev]\").prop(\"disabled\",!o.opts.loop&&i<=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i>=t.group.length-1),\"image\"===o.type?a.find(\"[data-fancybox-zoom]\").show().end().find(\"[data-fancybox-download]\").attr(\"href\",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide(),n(e.activeElement).is(\":hidden,[disabled]\")&&t.$refs.container.trigger(\"focus\")},hideControls:function(t){var e=this,n=[\"infobar\",\"toolbar\",\"nav\"];!t&&e.current.opts.preventCaptionOverlap||n.push(\"caption\"),this.$refs.container.removeClass(n.map(function(t){return\"fancybox-show-\"+t}).join(\" \")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass(\"fancybox-show-toolbar\",!(!e.toolbar||!e.buttons)).toggleClass(\"fancybox-show-infobar\",!!(e.infobar&&t.group.length>1)).toggleClass(\"fancybox-show-caption\",!!t.$caption).toggleClass(\"fancybox-show-nav\",!!(e.arrows&&t.group.length>1)).toggleClass(\"fancybox-is-modal\",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:\"3.5.7\",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&(\"string\"===n.type(t)?e[t].apply(e,o):\"function\"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add(\"body\").off(\"click.fb-start\",\"**\")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement(\"div\");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue(\"transform\")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var 0=\"==e.left&&void\" e;return!(!t||!t.length)&&(e=\"t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css(\"opacity\"))})},setTranslate:function(t,e){var\" n ,o=\"{};if(t&&e)return\" void \"+(void 0px)\":\"translate(\"+n+\")\"),void 0!=\"=e.scaleX&&void\" scale(\"+e.scalex+\", \"+e.scaley+\")\":void scalex(\"+e.scalex+\")\"),n.length&&(o.transform=\"n),void\" s,r=\"this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&\"z-index\"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css(\"transition-duration\",\"\"),n.isPlainObject(e)?void\" e.width,delete e.height,t.parent().hasclass(\"fancybox-slide--image\")&&t.parent().addclass(\"fancybox-is-scaling\")),n.fancybox.settranslate(t,e)):t.addclass(e),t.data(\"timer\",settimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(cleartimeout(t.data(\"timer\")),e&&t.trigger(f),t.off(f).css(\"transition-duration\",\"\"),t.parent().removeclass(\"fancybox-is-scaling\"))}},n.fn.fancybox=\"function(t){var\" e;return t=\"t||{},e=t.selector||!1,e?n(\"body\").off(\"click.fb-start\",e).on(\"click.fb-start\",e,{options:t},i):this.off(\"click.fb-start\").on(\"click.fb-start\",{items:this,options:t},i),this},r.on(\"click.fb-start\",\"[data-fancybox]\",i),r.on(\"click.fb-start\",\"[data-fancybox-trigger]\",function(t){n('[data-fancybox=\"'+n(this).attr(\"data-fancybox-trigger\")+'\"]').eq(n(this).attr(\"data-fancybox-index\")||0).trigger(\"click.fb-start\",{$trigger:n(this)})}),function(){var\" mouseup focus blur\",\".fancybox-button\",function(e){switch(e.type){case\"mousedown\":t=\"n(this);break;case\"mouseup\":t=null;break;case\"focusin\":n(\".fancybox-button\").removeClass(\"fancybox-focus\"),n(this).is(t)||n(this).is(\"[disabled]\")||n(this).addClass(\"fancybox-focus\");break;case\"focusout\":n(\".fancybox-button\").removeClass(\"fancybox-focus\")}})}()}}(window,document,jQuery),function(t){\"use\" strict\";var e=\"{youtube:{matcher:/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:\"transparent\",enablejsapi:1,html5:1},paramPlace:8,type:\"iframe\",url:\"https://www.youtube-nocookie.com/embed/$4\",thumb:\"https://img.youtube.com/vi/$4/hqdefault.jpg\"},vimeo:{matcher:/^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:\"iframe\",url:\"//player.vimeo.com/video/$2\"},instagram:{matcher:/(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,type:\"image\",url:\"//$1/p/$2/media/?size=l\"},gmap_place:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/?ll=\"+(t[9]?t[9]+\"&z=\"+Math.floor(t[10])+(t[12]?t[12].replace(/^\\//,\"&\"):\"\"):t[12]+\"\").replace(/\\?/,\"&\")+\"&output=\"+(t[12]&&t[12].indexOf(\"layer=c\")\">0?\"svembed\":\"embed\")}},gmap_search:{matcher:/(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,type:\"iframe\",url:function(t){return\"//maps.google.\"+t[2]+\"/maps?q=\"+t[5].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")+\"&output=embed\"}}},n=function(e,n,o){if(e)return o=o||\"\",\"object\"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace(\"$\"+t,n||\"\")}),o.length&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+o),e};t(document).on(\"objectNeedsType.fb\",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||\"\",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],\"?\"==d[0]&&(d=d.substring(1)),d=d.split(\"&\");for(var i=0;i<d.length;++i){var s=\"d[i].split(\"=\",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\\+/g,\"\" \")))}}return l=\"t.extend(!0,{},o.params,a.opts[e],u),p=\"function\"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r=\"function\"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),\"youtube\"===e?p=p.replace(/&t=((\\d+)m)?(\\d+)s/,function(t,e,n,o){return\"&start=\"+((n?60*parseInt(n,10):0)+parseInt(o,10))}):\"vimeo\"===e&&(p=p.replace(\"&%23\",\"#\")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),\"iframe\"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:\"no\"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:\"image\"===h?\"image\":\"gmap_place\"==f||\"gmap_search\"==f?\"map\":\"video\"})):p&&(a.type=a.opts.defaultType)});var\" o=\"{youtube:{src:\"https://www.youtube.com/iframe_api\",class:\"YT\",loading:!1,loaded:!1},vimeo:{src:\"https://player.vimeo.com/api/player.js\",class:\"Vimeo\",loading:!1,loaded:!1},load:function(t){var\" e,n=\"this;if(this[t].loaded)return\" void settimeout(function(){n.done(t)});this[t].loading||(this[t].loading=\"!0,e=document.createElement(\"script\"),e.type=\"text/javascript\",e.src=this[t].src,\"youtube\"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var\" n,o,i;\"youtube\"=\"==e&&delete\" window.onyoutubeiframeapiready,(n=\"t.fancybox.getInstance())&&(o=n.current.$content.find(\"iframe\"),\"youtube\"===e&&void\" 0!=\"=YT&&YT?i=new\" yt.player(o.attr(\"id\"),{events:{onstatechange:function(t){0=\"=t.data&&n.next()}}}):\"vimeo\"===e&&void\" vimeo.player(o),i.on(\"ended\",function(){n.next()})))}};t(document).on({\"aftershow.fb\":function(t,e,n){e.group.length>1&&(\"youtube\"===n.contentSource||\"vimeo\"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){\"use strict\";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?\"x\"===n?t.x-e.x:\"y\"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data(\"selectable\"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=\"t.getComputedStyle(e)[\"overflow-y\"],o=t.getComputedStyle(e)[\"overflow-x\"],i=(\"scroll\"===n||\"auto\"===n)&&e.scrollHeight\">e.clientHeight,a=(\"scroll\"===o||\"auto\"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass(\"fancybox-stage\")||t.is(\"body\"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on(\"touchstart.fb.touch mousedown.fb.touch\",n.proxy(e,\"ontouchstart\"))};d.prototype.destroy=function(){var t=this;t.$container.off(\".fb.touch\"),n(e).off(\".fb.touch\"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h=\"touchstart\"==o.type;if(h&&i.$container.off(\"mousedown.fb.touch\"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is(\"img\")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass(\"fancybox-animated\"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(\".fb.touch\").on(h?\"touchend.fb.touch touchcancel.fb.touch\":\"mouseup.fb.touch mouseleave.fb.touch\",n.proxy(i,\"ontouchend\")).on(h?\"touchmove.fb.touch\":\"mousemove.fb.touch\",n.proxy(i,\"ontouchmove\")),n.fancybox.isMobile&&e.addEventListener(\"scroll\",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(\".fancybox-image\")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(\".fancybox-caption\").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass(\"fancybox-is-grabbing\")),2===i.startPoints.length&&\"image\"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener(\"scroll\",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],\"x\"),e.distanceY=s(e.newPoints[0],e.startPoints[0],\"y\"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)\"x\"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=\"e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass(\"fancybox-is-sliding\"))});else\" if(math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()>800?s.isSwiping=\"x\":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isscrolling=\"!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var\" o,i;n.fancybox.stop(e.$slide),o=\"n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:\"\",opacity:\"\",\"transition-duration\":\"\"}).removeClass(\"fancybox-animated\").removeClass(function(t,e){return(e.match(/(^|\\s)fancybox-fx-\\S+/g)||[]).join(\"\" \")}),e.pos=\"==r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var\" t=\"this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return\" void(t.startpoints=\"t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var\" t,e,n,o,i,a,s=\"this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return\" i=\"h\">r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=\"this,a=i.canvasWidth,s=i.canvasHeight;return\" n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a 2-n 2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s 2-o 2),{top:e,left:t}},d.prototype.onzoom=\"function(){var\" e=\"this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var\" o=\"this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new\" date).gettime()-o.starttime,1),o.$container.removeclass(\"fancybox-is-grabbing\"),n(e).off(\".fb.touch\"),e.removeeventlistener(\"scroll\",o.onscroll,!0),o.requestid&&(i(o.requestid),o.requestid=\"null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return\" o.ontap(t);o.speed=\"100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var\">1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,\"y\"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var t,e,o,i=\"this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs\">350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case\"close\":r.close(i.startEvent);break;case\"toggleControls\":r.toggleControls();break;case\"next\":r.next();break;case\"nextOrClose\":r.group.length>1?r.next():r.close(i.startEvent);break;case\"zoom\":\"image\"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\"))o=\"Outside\";else if(s.is(\".fancybox-slide\"))o=\"Slide\";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o=\"Content\"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f(\"dblclick\"+o)}else i.tapX=d,i.tapY=u,c.opts[\"dblclick\"+o]&&c.opts[\"dblclick\"+o]!==c.opts[\"click\"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f(\"click\"+o)},500):f(\"click\"+o);return this}},n(e).on(\"onActivate.fb\",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on(\"beforeClose.fb\",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){\"use strict\";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class=\"fancybox-progress\"></2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div></2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is(\"img\")||!(d></a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r></0&&(i=o.instance.next(300)),!1!==i||\"x\"!=t&&\"y\"!=t||o.instance.centerSlide(200),o.$container.removeClass(\"fancybox-is-sliding\")},d.prototype.endPanning=function(){var></s-o?s-o:e):e=Math.max(0,s></a-n?a-n:t):t=Math.max(0,a></0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var></0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d></135?\"y\":\"x\"),\"y\"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return></2&&s.opts.vertical?s.isSwiping=\"y\":r.isDragging||!1===s.opts.vertical||\"auto\"===s.opts.vertical&&n(t).width()></2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:\"x\"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var></i;e++)if(\"data-fancybox-\"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var></d.length;++i){var></11)}(),getTranslate:function(t){var></=0),a.find(\"[data-fancybox-next]\").prop(\"disabled\",!o.opts.loop&&i></=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger(\"afterShow\"),o.opts.video.autoStart&&o.$slide.find(\"video,audio\").filter(\":visible:first\").trigger(\"play\").one(\"ended\",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&\"html\"===o.contentType&&(t=o.$content.find(\"input[autofocus]:enabled:visible:first\"),t.length?t.trigger(\"focus\"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var></1&&(n=i),s.$slide.css(\"padding-bottom\",o))),s.$content.css(\"margin-bottom\",n))},revealContent:function(t){var></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=\"this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr(\"style\").hide()},start:function(){var\" n(e))},\"beforeshow.fb\":function(t,e,n,o){var i=\"e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},\"afterShow.fb\":function(t,e,n){var\" o=\"e&&e.SlideShow;o&&o.isActive&&o.set()},\"afterKeydown.fb\":function(n,o,i,a,s){var\" r=\"o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is(\"button,a,input\")||(a.preventDefault(),r.toggle())},\"beforeClose.fb\" ondeactivate.fb\":function(t,e){var n=\"e&&e.SlideShow;n&&n.stop()}}),e(t).on(\"visibilitychange\",function(){var\" strict\";var e=\"[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n={},o=0;o<e.length;o++){var\" t){for(var a=\"0;a<i.length;a++)n[e[0][a]]=i[a];return\" n}}return!1}();if(n){var boolean(t[n.fullscreenelement])},enabled:function(){return boolean(t[n.fullscreenenabled])}};e.extend(!0,e.fancybox.defaults,{btntpl:{fullscreen:'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&\"image\"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger(\"onFullscreenChange\",t),n.$refs.container.toggleClass(\"fancybox-is-fullscreen\",t),n.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").toggleClass(\"fancybox-button--fsenter\",!t).toggleClass(\"fancybox-button--fsexit\",t))})}e(t).on({\"onInit.fb\":function(t,e){var i;if(!n)return void e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on(\"click.fb-fullscreen\",\"[data-fancybox-fullscreen]\",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide()},\"afterKeydown.fb\":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},\"beforeClose.fb\":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass(\"fancybox-is-fullscreen\")&&o.exit()}})}(document,jQuery),function(t,e){\"use strict\";var n=\"fancybox-thumbs\";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:\".fancybox-container\",axis:\"y\"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find(\"[data-fancybox-thumbs]\");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr(\"style\").on(\"click\",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class=\"'+n+\" \"+n+\"-\"+o.opts.axis+'\"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on(\"click\",\"a\",function(){i.jumpTo(e(this).attr(\"data-index\"))})),o.$list||(o.$list=e('<div class=\"'+n+'__list\">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||\"image\"!==n.type||(t=n.src),s.push('<a href=\"javascript:;\" tabindex=\"0\" data-index=\"'+e+'\" '+(t&&t.length?' style=\"background-image:url('+t+')\" ':'class=\"fancybox-thumbs-missing\" ')+\"></a>\")}),o.$list[0].innerHTML=s.join(\"\"),\"x\"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css(\"padding-right\"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass(\"fancybox-thumbs-active\").filter('[data-index=\"'+o.instance.current.index+'\"]').addClass(\"fancybox-thumbs-active\"),n=e.position(),\"y\"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):\"x\"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger(\"onThumbsShow\"),t.focus(0)):t.$grid&&t.instance.trigger(\"onThumbsHide\"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({\"onInit.fb\":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},\"beforeShow.fb\":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},\"afterKeydown.fb\":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},\"beforeClose.fb\":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){\"use strict\";function n(t){var e={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"};return String(t).replace(/[&<>\"'`=\\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&\"inline\"!==e.type&&\"html\"!==e.type&&(e.origSrc||e.src)||window.location},\ntpl:'<div class=\"fancybox-share\"><h1></h1><p><a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\"/></svg><span>Facebook</span></a><a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url=&text=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\"/></svg><span>Twitter</span></a><a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url=&description=&media=\"><svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg><span>Pinterest</span></a></p><p><input class=\"fancybox-share__input\" type=\"text\" value onclick=\"select()\"></p></div>'}}),e(t).on(\"click\",\"[data-fancybox-share]\",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&(\"function\"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\\{\\{media\\}\\}/g,\"image\"===a.type?encodeURIComponent(a.src):\"\").replace(/\\{\\{url\\}\\}/g,encodeURIComponent(t)).replace(/\\{\\{url_raw\\}\\}/g,n(t)).replace(/\\{\\{descr\\}\\}/g,i.$caption?encodeURIComponent(i.$caption.text()):\"\"),e.fancybox.open({src:i.translate(i,o),type:\"html\",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one(\"beforeClose.fb\",function(){t.close(null,0)}),e.$content.find(\".fancybox-share__button\").click(function(){return window.open(this.href,\"Share\",\"width=550, height=450\"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){\"use strict\";function o(){var e=t.location.hash.substr(1),n=e.split(\"-\"),o=n.length>1&&/^\\+?\\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join(\"-\");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){\"\"!=\"=t.gallery&&n(\"[data-fancybox='\"+n.escapeSelector(t.gallery)+\"']\").eq(t.index-1).focus().trigger(\"click.fb-start\")}function\" a(t){var e,n;return!!t&&(e=\"t.current?t.current.opts:t.opts,\"\"!==(n=e.hash||(e.$orig?e.$orig.data(\"fancybox\")||e.$orig.data(\"fancybox-trigger\"):\"\"))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+\"\").replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,function(t,e){return\" e?\"\\0\"=\"==t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\"\" \":\"\\\\\"+t})}),n(function(){!1!=\"=n.fancybox.defaults.hash&&(n(e).on({\"onInit.fb\":function(t,e){var\" n,i;!1!=\"=e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},\"beforeShow.fb\":function(n,o,i,s){var\" r;i&&!1!=\"=i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length\">1?\"-\"+(i.index+1):\"\"),t.location.hash!==\"#\"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){\"replaceState\"in t.history?(t.history[s?\"pushState\":\"replaceState\"]({},e.title,t.location.pathname+t.location.search+\"#\"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},\"beforeClose.fb\":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&(\"replaceState\"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||\"\")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on(\"hashchange.fb\",function(){var t=o(),e=null;n.each(n(\".fancybox-container\").get().reverse(),function(t,o){var i=n(o).data(\"FancyBox\");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+\"-\"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):\"\"!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){\"use strict\";var n=(new Date).getTime();e(t).on({\"onInit.fb\":function(t,e,o){e.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\",function(t){var o=e.current,i=(new Date).getTime();e.group.length</1?1:o,gallery:i}}function></\":\"&lt;\",\"></a.scrollLeft()||n.left></0||n.top></div></a&&(n[i].thumb&&o++,!(o></o.group.length-1)?n.isActive&&\"video\"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var></div></div></o.length;r++){var></a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var></p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var></f-h&&(a=f-h)),g></0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div></h-1)&&f.createSlide(t+1),(a||s.index></0||t></0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return>"},{"_content":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function (stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Close existing modals\n    // Set this to false if you do not need to stack multiple instances\n    closeExisting: false,\n\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should allow caption to overlap the content\n    preventCaptionOverlap: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      \"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // For HTML5 video only\n    video: {\n      tpl: '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\">' +\n        '<source src=\"{{src}}\" type=\"{{format}}\" />' +\n        'Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!' +\n        \"</video>\",\n      format: \"\", // custom video format\n      autoStart: true\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\n\n    btnTpl: {\n      download: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n        \"</a>\",\n\n      zoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n        \"</button>\",\n\n      close: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n        \"</button>\",\n\n      // Arrows\n      arrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n        \"</button>\",\n\n      arrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n        \"</button>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Hide browser vertical scrollbars; use at your own risk\n    hideScrollbar: true,\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: true,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable panning/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n      media : {\n        youtube : {\n          params : {\n            autoplay : 0\n          }\n        }\n      }\n    */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n      afterShow: function( instance, current ) {\n        console.info( 'Clicked element:' );\n        console.info( current.opts.$orig );\n      }\n    */\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function (current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      preventCaptionOverlap: false,\n      idleTime: false,\n      clickContent: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schlie&szlig;en\",\n        NEXT: \"Weiter\",\n        PREV: \"Zur&uuml;ck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Vergr&ouml;&szlig;ern\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function (obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function () {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function ($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function (opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function (key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // How much of an element is visible in viewport\n  // =============================================\n\n  var inViewport = function (elem) {\n    var elemCenter, rez;\n\n    if (!elem || elem.ownerDocument !== document) {\n      return false;\n    }\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n\n    elemCenter = {\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function (content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({\n      index: index\n    }, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function () {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        $container,\n        buttonStr;\n\n      if (firstItemOpts.closeExisting) {\n        $.fancybox.close(true);\n      }\n\n      // Hide scrollbars\n      // ===============\n\n      $(\"body\").addClass(\"fancybox-active\");\n\n      if (\n        !$.fancybox.getInstance() &&\n        firstItemOpts.hideScrollbar !== false &&\n        !$.fancybox.isMobile &&\n        document.body.scrollHeight > window.innerHeight\n      ) {\n        $(\"head\").append(\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n          (window.innerWidth - document.documentElement.clientWidth) +\n          \"px;}</style>\"\n        );\n\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function (index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n          self.translate(\n            self,\n            firstItemOpts.baseTpl\n            .replace(\"{{buttons}}\", buttonStr)\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n          )\n        )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function (obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n        return arr[n] === undefined ? match : arr[n];\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function (content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function (i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        if ($.fancybox.isMobile && obj.opts.mobile) {\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.video.format) {\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n            obj = $.extend(true, obj, {\n              contentType: \"pdf\",\n              opts: {\n                iframe: {\n                  preload: false\n                }\n              }\n            });\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image, check if exists and if is in the viewport\n        obj.$thumb = obj.opts.$thumb || null;\n\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\n\n          if (obj.$thumb.length) {\n            obj.opts.$orig = obj.opts.$trigger;\n          }\n        }\n\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        if (obj.$thumb && !obj.$thumb.length) {\n          obj.$thumb = null;\n        }\n\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            trapFocus: true,\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detecting inactivity\n    // ======================================\n\n    addEvents: function () {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      // ==================================\n\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      // ==========================================\n\n      $W.on(\"orientationchange.fb resize.fb\", function (e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          if (self.requestId) {\n            cancelAFrame(self.requestId);\n          }\n\n          self.requestId = requestAFrame(function () {\n            self.update(e);\n          });\n        } else {\n          if (self.current && self.current.type === \"iframe\") {\n            self.$refs.stage.hide();\n          }\n\n          setTimeout(\n            function () {\n              self.$refs.stage.show();\n\n              self.update(e);\n            },\n            $.fancybox.isMobile ? 600 : 250\n          );\n        }\n      });\n\n      $D.on(\"keydown.fb\", function (e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\n          current = instance.current,\n          keycode = e.keyCode || e.which;\n\n        // Trap keyboard focus inside of the modal\n        // =======================================\n\n        if (keycode == 9) {\n          if (current.opts.trapFocus) {\n            self.focus(e);\n          }\n\n          return;\n        }\n\n        // Enable keyboard navigation\n        // ==========================\n\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function (e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function () {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function () {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function (duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function (duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function (pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        isMoved,\n        loop,\n        current,\n        previous,\n        slidePos,\n        stagePos,\n        prop,\n        diff;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      // Should loop?\n      pos = parseInt(pos, 10);\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      // Check if opening for the first time; this helps to speed things up\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      // Create slides\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Check if user has swiped the slides or if still animating\n      isMoved = self.isMoved(current);\n\n      // Make sure current slide is visible\n      current.$slide.addClass(\"fancybox-slide--current\");\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n\n        // Attempt to load content into slide\n        // This will later call `afterLoad` -> `revealContent`\n        self.loadSlide(current);\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Get actual slide/stage positions (before cleaning up)\n      slidePos = $.fancybox.getTranslate(previous.$slide);\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\n\n      // Clean up all slides\n      $.each(self.slides, function (index, slide) {\n        $.fancybox.stop(slide.$slide, true);\n      });\n\n      if (previous.pos !== current.pos) {\n        previous.isComplete = false;\n      }\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n\n      // If slides are out of place, then animate them to correct position\n      if (isMoved) {\n        // Calculate horizontal swipe distance\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n\n        $.each(self.slides, function (index, slide) {\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n          });\n\n          // Make sure that each slide is in equal distance\n          // This is mostly needed for freshly added slides, because they are not yet positioned\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: 0,\n            left: leftPos - stagePos.left + diff\n          });\n\n          if (slide.pos !== current.pos) {\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n          }\n\n          // Redraw to make sure that transition will start\n          forceRedraw(slide.$slide);\n\n          // Animate the slide\n          $.fancybox.animate(\n            slide.$slide, {\n              top: 0,\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n            },\n            duration,\n            function () {\n              slide.$slide\n                .css({\n                  transform: \"\",\n                  opacity: \"\"\n                })\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                self.complete();\n              }\n            }\n          );\n        });\n      } else if (duration && current.opts.transitionEffect) {\n        // Set transition effect for previously active slide\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n\n        $.fancybox.animate(\n          previous.$slide,\n          prop,\n          duration,\n          function () {\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n          },\n          false\n        );\n      }\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function (pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function (x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content, {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function (duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content, {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function (slide) {\n      var self = this,\n        $content = slide.$content,\n        $slide = slide.$slide,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n\n      maxWidth -=\n        parseFloat($slide.css(\"paddingLeft\")) +\n        parseFloat($slide.css(\"paddingRight\")) +\n        parseFloat($content.css(\"marginLeft\")) +\n        parseFloat($content.css(\"marginRight\"));\n\n      maxHeight -=\n        parseFloat($slide.css(\"paddingTop\")) +\n        parseFloat($slide.css(\"paddingBottom\")) +\n        parseFloat($content.css(\"marginTop\")) +\n        parseFloat($content.css(\"marginBottom\"));\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      width = minRatio * width;\n      height = minRatio * height;\n\n      // Adjust width/height to precisely fit into container\n      if (width > maxWidth - 0.5) {\n        width = maxWidth;\n      }\n\n      if (height > maxHeight - 0.5) {\n        height = maxHeight;\n      }\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function (e) {\n      var self = this;\n\n      $.each(self.slides, function (key, slide) {\n        self.updateSlide(slide, e);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function (slide, e) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        $slide = slide.$slide;\n\n      // First, prevent caption overlap, if needed\n      self.adjustCaption(slide);\n\n      // Then resize content to fit inside the slide\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      // Then some adjustments\n      self.adjustLayout(slide);\n\n      if ($slide.length) {\n        $slide.trigger(\"refresh\");\n\n        if (slide.pos === self.currPos) {\n          self.$refs.toolbar\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n        }\n      }\n\n      self.trigger(\"onUpdate\", slide, e);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function (duration) {\n      var self = this,\n        current = self.current,\n        $slide = current.$slide;\n\n      if (self.isClosing || !current) {\n        return;\n      }\n\n      $slide.siblings().css({\n        transform: \"\",\n        opacity: \"\"\n      });\n\n      $slide\n        .parent()\n        .children()\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n\n      $.fancybox.animate(\n        $slide, {\n          top: 0,\n          left: 0,\n          opacity: 1\n        },\n        duration === undefined ? 0 : duration,\n        function () {\n          // Clean up\n          $slide.css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (!current.isComplete) {\n            self.complete();\n          }\n        },\n        false\n      );\n    },\n\n    // Check if current slide is moved (swiped)\n    // ========================================\n\n    isMoved: function (slide) {\n      var current = slide || this.current,\n        slidePos,\n        stagePos;\n\n      if (!current) {\n        return false;\n      }\n\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\n      slidePos = $.fancybox.getTranslate(current.$slide);\n\n      return (\n        !current.$slide.hasClass(\"fancybox-animated\") &&\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n      );\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container,\n        canPan,\n        isZoomable;\n\n      if (!current || self.isClosing || !self.Guestures) {\n        return;\n      }\n\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n\n      canPan = self.canPan(nextWidth, nextHeight);\n\n      isZoomable = canPan ? true : self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      if (canPan) {\n        $container.addClass(\"fancybox-can-pan\");\n      } else if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n      ) {\n        $container.addClass(\"fancybox-can-zoomIn\");\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-swipe\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function () {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function (nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        pos = null,\n        rez = false;\n\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n        rez = self.getFitPos(current);\n\n        if (nextWidth !== undefined && nextHeight !== undefined) {\n          pos = {\n            width: nextWidth,\n            height: nextHeight\n          };\n        } else if (current.isComplete) {\n          pos = $.fancybox.getTranslate(current.$content);\n        }\n\n        if (pos && rez) {\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n        }\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function (slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      if (self.trigger(\"beforeLoad\", slide) === false) {\n        slide.isLoading = false;\n\n        return false;\n      }\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            slide.opts.video.tpl\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n            .replace(\"{{poster}}\", slide.thumb || \"\")\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function (data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function (jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function () {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function (slide) {\n      var self = this,\n        ghost;\n\n      // Check if need to show loading icon\n      setTimeout(function () {\n        var $img = slide.$image;\n\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 50);\n\n      //Check if image has srcset\n      self.checkSrcset(slide);\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        ghost = document.createElement(\"img\");\n\n        ghost.onerror = function () {\n          $(this).remove();\n\n          slide.$ghost = null;\n        };\n\n        ghost.onload = function () {\n          self.afterLoad(slide);\n        };\n\n        slide.$ghost = $(ghost)\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", slide.thumb);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Check if image has srcset and get the source\n    // ============================================\n    checkSrcset: function (slide) {\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function (el) {\n          var ret = {};\n\n          el.trim()\n            .split(/\\s+/)\n            .forEach(function (el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function (a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = (slide.width / slide.height) * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function (slide) {\n      var self = this,\n        img = document.createElement(\"img\"),\n        $img = $(img);\n\n      slide.$image = $img\n        .one(\"error\", function () {\n          self.setError(slide);\n        })\n        .one(\"load\", function () {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function () {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n        $img.trigger(\"load\");\n      } else if (img.error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function (slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function (e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function () {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate content dimensions, if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            // Avoid scrolling to top (if multiple instances)\n            $slide.css(\"overflow\", \"visible\");\n\n            $content.css({\n              width: \"100%\",\n              \"max-width\": \"100%\",\n              height: \"9999px\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\n\n            $slide.css(\"overflow\", \"auto\");\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        self.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function () {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n        slide.isRevealed = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function (slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\n        }\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function () {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n          slide.isRevealed = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n        .first();\n\n      slide.$content.siblings().hide();\n\n      // Re-check if there is a valid content\n      // (in some cases, ajax response can contain various elements or plain text)\n      if (!slide.$content.length) {\n        slide.$content = slide.$slide\n          .wrapInner(\"<div></div>\")\n          .children()\n          .first();\n      }\n\n      slide.$content.addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      self.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function (slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n          .appendTo(slide.$slide)\n          .hide()\n          .fadeIn(\"fast\");\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.stop().remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function (slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      // Add small close button\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n      }\n\n      // Disable right click\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        slide.$content.on(\"contextmenu.fb\", function (e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.adjustCaption(slide);\n\n      self.adjustLayout(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Prevent caption overlap,\n    // fix css inconsistency across browsers\n    // =====================================\n\n    adjustCaption: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        caption = current.opts.caption,\n        preventOverlap = current.opts.preventCaptionOverlap,\n        $caption = self.$refs.caption,\n        $clone,\n        captionH = false;\n\n      $caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n\n      if (preventOverlap && caption && caption.length) {\n        if (current.pos !== self.currPos) {\n          $clone = $caption.clone().appendTo($caption.parent());\n\n          $clone\n            .children()\n            .eq(0)\n            .empty()\n            .html(caption);\n\n          captionH = $clone.outerHeight(true);\n\n          $clone.empty().remove();\n        } else if (self.$caption) {\n          captionH = self.$caption.outerHeight(true);\n        }\n\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\n      }\n    },\n\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n    // ====================================================================================\n\n    adjustLayout: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        scrollHeight,\n        marginBottom,\n        inlinePadding,\n        actualPadding;\n\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\n        current.$content.css(\"margin-bottom\", \"\");\n\n        // If we would always set margin-bottom for the content,\n        // then it would potentially break vertical align\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\n          actualPadding = current.$slide.css(\"padding-bottom\");\n\n          if (parseFloat(actualPadding) > 0) {\n            scrollHeight = current.$slide[0].scrollHeight;\n\n            current.$slide.css(\"padding-bottom\", 0);\n\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n              marginBottom = actualPadding;\n            }\n\n            current.$slide.css(\"padding-bottom\", inlinePadding);\n          }\n        }\n\n        current.$content.css(\"margin-bottom\", marginBottom);\n      }\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function (slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        isMoved = self.isMoved(slide),\n        isRevealed = slide.isRevealed,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      slide.isRevealed = true;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      if (isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        self.isAnimating = true;\n\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function () {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content if no effect\n      // ================================\n      if (!effect) {\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n          slide.$content.hide().fadeIn(\"fast\");\n        }\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      // Prepare for CSS transiton\n      // =========================\n      $.fancybox.stop($slide);\n\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow\n      forceRedraw($slide);\n\n      if (slide.type !== \"image\") {\n        slide.$content.hide().show(0);\n      }\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function () {\n          $slide.removeClass(effectClassName).css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function (slide) {\n      var rez = false,\n        $thumb = slide.$thumb,\n        thumbPos,\n        btw,\n        brw,\n        bbw,\n        blw;\n\n      if (!$thumb || !inViewport($thumb[0])) {\n        return false;\n      }\n\n      thumbPos = $.fancybox.getTranslate($thumb);\n\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\n\n      rez = {\n        top: thumbPos.top + btw,\n        left: thumbPos.left + blw,\n        width: thumbPos.width - brw - blw,\n        height: thumbPos.height - btw - bbw,\n        scaleX: 1,\n        scaleY: 1\n      };\n\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function () {\n      var self = this,\n        current = self.current,\n        slides = {},\n        $el;\n\n      if (self.isMoved() || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function (key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\n            slides[slide.pos] = slide;\n          } else if (slide) {\n            $.fancybox.stop(slide.$slide);\n\n            slide.$slide.off().remove();\n          }\n        });\n\n        self.slides = slides;\n      }\n\n      self.isAnimating = false;\n\n      self.updateCursor();\n\n      self.trigger(\"afterShow\");\n\n      // Autoplay first html5 video/audio\n      if (!!current.opts.video.autoStart) {\n        current.$slide\n          .find(\"video,audio\")\n          .filter(\":visible:first\")\n          .trigger(\"play\")\n          .one(\"ended\", function () {\n            if (Document.exitFullscreen) {\n              Document.exitFullscreen();\n            } else if (this.webkitExitFullscreen) {\n              this.webkitExitFullscreen();\n            }\n\n            self.next();\n          });\n      }\n\n      // Try to focus on the first focusable element\n      if (current.opts.autoFocus && current.contentType === \"html\") {\n        // Look for the first input with autofocus attribute\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\n\n        if ($el.length) {\n          $el.trigger(\"focus\");\n        } else {\n          self.focus(null, true);\n        }\n      }\n\n      // Avoid jumping\n      current.$slide.scrollTop(0).scrollLeft(0);\n    },\n\n    // Preload next and previous slides\n    // ================================\n\n    preload: function (type) {\n      var self = this,\n        prev,\n        next;\n\n      if (self.group.length < 2) {\n        return;\n      }\n\n      next = self.slides[self.currPos + 1];\n      prev = self.slides[self.currPos - 1];\n\n      if (prev && prev.type === type) {\n        self.loadSlide(prev);\n      }\n\n      if (next && next.type === type) {\n        self.loadSlide(next);\n      }\n    },\n\n    // Try to find and focus on the first focusable element\n    // ====================================================\n\n    focus: function (e, firstRun) {\n      var self = this,\n        focusableStr = [\n          \"a[href]\",\n          \"area[href]\",\n          'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n          \"select:not([disabled]):not([aria-hidden])\",\n          \"textarea:not([disabled]):not([aria-hidden])\",\n          \"button:not([disabled]):not([aria-hidden])\",\n          \"iframe\",\n          \"object\",\n          \"embed\",\n          \"video\",\n          \"audio\",\n          \"[contenteditable]\",\n          '[tabindex]:not([tabindex^=\"-\"])'\n        ].join(\",\"),\n        focusableItems,\n        focusedItemIndex;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      if (e || !self.current || !self.current.isComplete) {\n        // Focus on any element inside fancybox\n        focusableItems = self.$refs.container.find(\"*:visible\");\n      } else {\n        // Focus inside current slide\n        focusableItems = self.current.$slide.find(\"*:visible\" + (firstRun ? \":not(.fancybox-close-small)\" : \"\"));\n      }\n\n      focusableItems = focusableItems.filter(focusableStr).filter(function () {\n        return $(this).css(\"visibility\") !== \"hidden\" && !$(this).hasClass(\"disabled\");\n      });\n\n      if (focusableItems.length) {\n        focusedItemIndex = focusableItems.index(document.activeElement);\n\n        if (e && e.shiftKey) {\n          // Back tab\n          if (focusedItemIndex < 0 || focusedItemIndex == 0) {\n            e.preventDefault();\n\n            focusableItems.eq(focusableItems.length - 1).trigger(\"focus\");\n          }\n        } else {\n          // Outside or Forward tab\n          if (focusedItemIndex < 0 || focusedItemIndex == focusableItems.length - 1) {\n            if (e) {\n              e.preventDefault();\n            }\n\n            focusableItems.eq(0).trigger(\"focus\");\n          }\n        }\n      } else {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Activates current instance - brings container to the front and enables keyboard,\n    // notifies other instances about deactivating\n    // =================================================================================\n\n    activate: function () {\n      var self = this;\n\n      // Deactivate all instances\n      $(\".fancybox-container\").each(function () {\n        var instance = $(this).data(\"FancyBox\");\n\n        // Skip self and closing instances\n        if (instance && instance.id !== self.id && !instance.isClosing) {\n          instance.trigger(\"onDeactivate\");\n\n          instance.removeEvents();\n\n          instance.isVisible = false;\n        }\n      });\n\n      self.isVisible = true;\n\n      if (self.current || self.isIdle) {\n        self.update();\n\n        self.updateControls();\n      }\n\n      self.trigger(\"onActivate\");\n\n      self.addEvents();\n    },\n\n    // Start closing procedure\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n    // =================================================================================\n\n    close: function (e, d) {\n      var self = this,\n        current = self.current,\n        effect,\n        duration,\n        $content,\n        domRect,\n        opacity,\n        start,\n        end;\n\n      var done = function () {\n        self.cleanUp(e);\n      };\n\n      if (self.isClosing) {\n        return false;\n      }\n\n      self.isClosing = true;\n\n      // If beforeClose callback prevents closing, make sure content is centered\n      if (self.trigger(\"beforeClose\", e) === false) {\n        self.isClosing = false;\n\n        requestAFrame(function () {\n          self.update();\n        });\n\n        return false;\n      }\n\n      // Remove all events\n      // If there are multiple instances, they will be set again by \"activate\" method\n      self.removeEvents();\n\n      $content = current.$content;\n      effect = current.opts.animationEffect;\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\n\n      current.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\n\n      if (e !== true) {\n        $.fancybox.stop(current.$slide);\n      } else {\n        effect = false;\n      }\n\n      // Remove other slides\n      current.$slide\n        .siblings()\n        .trigger(\"onReset\")\n        .remove();\n\n      // Trigger animations\n      if (duration) {\n        self.$refs.container\n          .removeClass(\"fancybox-is-open\")\n          .addClass(\"fancybox-is-closing\")\n          .css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Clean up\n      self.hideLoading(current);\n\n      self.hideControls(true);\n\n      self.updateCursor();\n\n      // Check if possible to zoom-out\n      if (\n        effect === \"zoom\" &&\n        !($content && duration && current.type === \"image\" && !self.isMoved() && !current.hasError && (end = self.getThumbPos(current)))\n      ) {\n        effect = \"fade\";\n      }\n\n      if (effect === \"zoom\") {\n        $.fancybox.stop($content);\n\n        domRect = $.fancybox.getTranslate($content);\n\n        start = {\n          top: domRect.top,\n          left: domRect.left,\n          scaleX: domRect.width / end.width,\n          scaleY: domRect.height / end.height,\n          width: end.width,\n          height: end.height\n        };\n\n        // Check if we need to animate opacity\n        opacity = current.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        $.fancybox.animate(\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n          \"fancybox-animated fancybox-fx-\" + effect,\n          duration,\n          done\n        );\n      } else {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          done();\n        }\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function (e) {\n      var self = this,\n        instance,\n        $focus = self.current.opts.$orig,\n        x,\n        y;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (!!self.current.opts.backFocus) {\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n          $focus = self.$trigger;\n        }\n\n        if ($focus && $focus.length) {\n          x = window.scrollX;\n          y = window.scrollY;\n\n          $focus.trigger(\"focus\");\n\n          $(\"html, body\")\n            .scrollTop(y)\n            .scrollLeft(x);\n        }\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function (name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function () {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption,\n        caption = current.opts.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      // Set caption\n      if (caption && caption.length) {\n        self.$caption = $caption;\n\n        $caption\n          .children()\n          .eq(0)\n          .html(caption);\n      } else {\n        self.$caption = null;\n      }\n\n      if (!self.hasHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0);\n      $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n\n      // Make sure focus is not on disabled button/element\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function (andCaption) {\n      var self = this,\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\n\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\n        arr.push(\"caption\");\n      }\n\n      this.$refs.container.removeClass(\n        arr\n        .map(function (i) {\n          return \"fancybox-show-\" + i;\n        })\n        .join(\" \")\n      );\n\n      this.hasHiddenControls = true;\n    },\n\n    showControls: function () {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.hasHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function () {\n      if (this.hasHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.5.7\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function (command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function (items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function (all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n        if (all === true) {\n          this.close(all);\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function () {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function () {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function ($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function ($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      } else if (props.scaleX !== undefined) {\n        str += \" scaleX(\" + props.scaleX + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function ($el, to, duration, callback, leaveAnimationName) {\n      var self = this,\n        from;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      self.stop($el);\n\n      from = self.getTranslate($el);\n\n      $el.on(transitionEnd, function (e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        self.stop($el);\n\n        if ($.isNumeric(duration)) {\n          $el.css(\"transition-duration\", \"\");\n        }\n\n        if ($.isPlainObject(to)) {\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\n            self.setTranslate($el, {\n              top: to.top,\n              left: to.left,\n              width: from.width * to.scaleX,\n              height: from.height * to.scaleY,\n              scaleX: 1,\n              scaleY: 1\n            });\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function () {\n          $el.trigger(transitionEnd);\n        }, duration + 33)\n      );\n    },\n\n    stop: function ($el, callCallback) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        if (callCallback) {\n          $el.trigger(transitionEnd);\n        }\n\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value,\n      instance;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = opts || {};\n\n    if (e && e.data) {\n      opts = mergeOpts(e.data.options, opts);\n    }\n\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n    instance = $.fancybox.getInstance();\n\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\n      return;\n    }\n\n    if (opts.selector) {\n      items = $(opts.selector);\n    } else {\n      // Get all related items and find index for clicked one\n      value = $target.attr(\"data-fancybox\") || \"\";\n\n      if (value) {\n        items = e.data ? e.data.items : [];\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n      } else {\n        items = [$target];\n      }\n    }\n\n    index = $(items).index($target);\n\n    // Sometimes current item can not be found\n    if (index < 0) {\n      index = 0;\n    }\n\n    instance = $.fancybox.open(items, opts, index);\n\n    // Save last active element\n    instance.$trigger = $target;\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function (options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {\n          options: options\n        }, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\", {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\n      .trigger(\"click.fb-start\", {\n        $trigger: $(this)\n      });\n  });\n\n  // Track focus event for better accessibility styling\n  // ==================================================\n  (function () {\n    var buttonStr = \".fancybox-button\",\n      focusStr = \"fancybox-focus\",\n      $pressed = null;\n\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n      switch (e.type) {\n        case \"mousedown\":\n          $pressed = $(this);\n          break;\n        case \"mouseup\":\n          $pressed = null;\n          break;\n        case \"focusin\":\n          $(buttonStr).removeClass(focusStr);\n\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n            $(this).addClass(focusStr);\n          }\n          break;\n        case \"focusout\":\n          $(buttonStr).removeClass(focusStr);\n          break;\n      }\n    });\n  })();\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function ($) {\n  \"use strict\";\n\n  // Object containing properties for each media type\n  var defaults = {\n    youtube: {\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: \"transparent\",\n        enablejsapi: 1,\n        html5: 1\n      },\n      paramPlace: 8,\n      type: \"iframe\",\n      url: \"https://www.youtube-nocookie.com/embed/$4\",\n      thumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\"\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1\n      },\n      paramPlace: 3,\n      type: \"iframe\",\n      url: \"//player.vimeo.com/video/$2\"\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: \"image\",\n      url: \"//$1/p/$2/media/?size=l\"\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return (\n          \"//maps.google.\" +\n          rez[2] +\n          \"/?ll=\" +\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n          \"&output=\" +\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n        );\n      }\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n      }\n    }\n  };\n\n  // Formats matching url to final form\n  var format = function (url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || \"\";\n\n    if ($.type(params) === \"object\") {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function (key, value) {\n      url = url.replace(\"$\" + key, value || \"\");\n    });\n\n    if (params.length) {\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n    }\n\n    return url;\n  };\n\n  $(document).on(\"objectNeedsType.fb\", function (e, instance, item) {\n    var url = item.src || \"\",\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function (providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == \"?\") {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split(\"&\");\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split(\"=\", 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n          }\n        }\n      }\n\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n\n      url =\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n\n      if (providerName === \"youtube\") {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === \"vimeo\") {\n        url = url.replace(\"&%23\", \"#\");\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === \"iframe\") {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: \"no\"\n            }\n          }\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n\n  // Load YouTube/Video API on request to detect when video finished playing\n  var VideoAPILoader = {\n    youtube: {\n      src: \"https://www.youtube.com/iframe_api\",\n      class: \"YT\",\n      loading: false,\n      loaded: false\n    },\n\n    vimeo: {\n      src: \"https://player.vimeo.com/api/player.js\",\n      class: \"Vimeo\",\n      loading: false,\n      loaded: false\n    },\n\n    load: function (vendor) {\n      var _this = this,\n        script;\n\n      if (this[vendor].loaded) {\n        setTimeout(function () {\n          _this.done(vendor);\n        });\n        return;\n      }\n\n      if (this[vendor].loading) {\n        return;\n      }\n\n      this[vendor].loading = true;\n\n      script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = this[vendor].src;\n\n      if (vendor === \"youtube\") {\n        window.onYouTubeIframeAPIReady = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      } else {\n        script.onload = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      }\n\n      document.body.appendChild(script);\n    },\n    done: function (vendor) {\n      var instance, $el, player;\n\n      if (vendor === \"youtube\") {\n        delete window.onYouTubeIframeAPIReady;\n      }\n\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        $el = instance.current.$content.find(\"iframe\");\n\n        if (vendor === \"youtube\" && YT !== undefined && YT) {\n          player = new YT.Player($el.attr(\"id\"), {\n            events: {\n              onStateChange: function (e) {\n                if (e.data == 0) {\n                  instance.next();\n                }\n              }\n            }\n          });\n        } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\n          player = new Vimeo.Player($el);\n\n          player.on(\"ended\", function () {\n            instance.next();\n          });\n        }\n      }\n    }\n  };\n\n  $(document).on({\n    \"afterShow.fb\": function (e, instance, current) {\n      if (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\n        VideoAPILoader.load(current.contentSource);\n      }\n    }\n  });\n})(jQuery);\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function (e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function (point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function ($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function (el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function ($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function (instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function () {\n    var self = this;\n\n    self.$container.off(\".fb.touch\");\n\n    $(document).off(\".fb.touch\");\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n      self.requestId = null;\n    }\n\n    if (self.tapped) {\n      clearTimeout(self.tapped);\n      self.tapped = null;\n    }\n  };\n\n  Guestures.prototype.ontouchstart = function (e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $slide = current.$slide,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    // Allow other scripts to catch touch event if \"touch\" is set to false\n    if (current.touch) {\n      e.stopPropagation();\n    }\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n    self.canPan = instance.canPan();\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round($slide[0].clientWidth);\n    self.canvasHeight = Math.round($slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n      top: 0,\n      left: 0\n    };\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    // Skip if clicked outside the sliding area\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      if (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n        return;\n      }\n    }\n\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\n    if (!($.fancybox.isMobile && self.isScrollable)) {\n      e.preventDefault();\n    }\n\n    // One finger or mouse click - swipe or pan an image\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.canPan) {\n        $.fancybox.stop(self.$content);\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-is-grabbing\");\n    }\n\n    // Two fingers - zoom image\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function (e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function (e) {\n    var self = this;\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling) {\n      self.canTap = false;\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function (e) {\n    var self = this,\n      instance = self.instance,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(instance.slides, function (index, slide) {\n          var slidePos, stagePos;\n\n          $.fancybox.stop(slide.$slide);\n\n          slidePos = $.fancybox.getTranslate(slide.$slide);\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n          slide.$slide\n            .css({\n              transform: \"\",\n              opacity: \"\",\n              \"transition-duration\": \"\"\n            })\n            .removeClass(\"fancybox-animated\")\n            .removeClass(function (index, className) {\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n            });\n\n          if (slide.pos === instance.current.pos) {\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\n          }\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: slidePos.top - stagePos.top,\n            left: slidePos.left - stagePos.left\n          });\n        });\n\n        // Stop slideshow\n        if (instance.SlideShow && instance.SlideShow.isActive) {\n          instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function () {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function (index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function () {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function () {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <-\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\n    }\n\n    //   \\/\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function () {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function (e) {\n    var self = this;\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    self.$container.removeClass(\"fancybox-is-grabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 100;\n\n    // Speed in px/ms\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function (swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length,\n      distanceX = Math.abs(self.distanceX),\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n      speedX = 300;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide, {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n      ret = self.instance.close(true, 250);\n    } else if (canAdvance && self.distanceX > 0) {\n      ret = self.instance.previous(speedX);\n    } else if (canAdvance && self.distanceX < 0) {\n      ret = self.instance.next(speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      self.instance.centerSlide(200);\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function () {\n    var self = this,\n      newOffsetX,\n      newOffsetY,\n      newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false || self.dMs > 350) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 366);\n  };\n\n  Guestures.prototype.endZooming = function () {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function (e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function (prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls();\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n      .find($target)\n      .addBack()\n      .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function () {\n          self.tapped = null;\n\n          if (!instance.isAnimating) {\n            process(\"click\" + where);\n          }\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document)\n    .on(\"onActivate.fb\", function (e, instance) {\n      if (instance && !instance.Guestures) {\n        instance.Guestures = new Guestures(instance);\n      }\n    })\n    .on(\"beforeClose.fb\", function (e, instance) {\n      if (instance && instance.Guestures) {\n        instance.Guestures.destroy();\n      }\n    });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000,\n      progress: true\n    }\n  });\n\n  var SlideShow = function (instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function () {\n      var self = this,\n        instance = self.instance,\n        opts = instance.group[instance.currIndex].opts.slideShow;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n        self.toggle();\n      });\n\n      if (instance.group.length < 2 || !opts) {\n        self.$button.hide();\n      } else if (opts.progress) {\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n      }\n    },\n\n    set: function (force) {\n      var self = this,\n        instance = self.instance,\n        current = instance.current;\n\n      // Check if reached last element\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n        if (self.isActive && current.contentType !== \"video\") {\n          if (self.$progress) {\n            $.fancybox.animate(self.$progress.show(), {\n              scaleX: 1\n            }, current.opts.slideShow.speed);\n          }\n\n          self.timer = setTimeout(function () {\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n              instance.jumpTo(0);\n            } else {\n              instance.next();\n            }\n          }, current.opts.slideShow.speed);\n        }\n      } else {\n        self.stop();\n        instance.idleSecondsCounter = 0;\n        instance.showControls();\n      }\n    },\n\n    clear: function () {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    start: function () {\n      var self = this,\n        current = self.instance.current;\n\n      if (current) {\n        self.$button\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.isActive = true;\n\n        if (current.isComplete) {\n          self.set(true);\n        }\n\n        self.instance.trigger(\"onSlideShowChange\", true);\n      }\n    },\n\n    stop: function () {\n      var self = this,\n        current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n\n      self.instance.trigger(\"onSlideShowChange\", false);\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    toggle: function () {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function (e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function () {\n    var instance = $.fancybox.getInstance(),\n      SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function () {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  if (fn) {\n    var FullScreen = {\n      request: function (elem) {\n        elem = elem || document.documentElement;\n\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n      },\n      exit: function () {\n        document[fn.exitFullscreen]();\n      },\n      toggle: function (elem) {\n        elem = elem || document.documentElement;\n\n        if (this.isFullscreen()) {\n          this.exit();\n        } else {\n          this.request(elem);\n        }\n      },\n      isFullscreen: function () {\n        return Boolean(document[fn.fullscreenElement]);\n      },\n      enabled: function () {\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    };\n\n    $.extend(true, $.fancybox.defaults, {\n      btnTpl: {\n        fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n          \"</button>\"\n      },\n      fullScreen: {\n        autoStart: false\n      }\n    });\n\n    $(document).on(fn.fullscreenchange, function () {\n      var isFullscreen = FullScreen.isFullscreen(),\n        instance = $.fancybox.getInstance();\n\n      if (instance) {\n        // If image is zooming, then force to stop and reposition properly\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n          instance.isAnimating = false;\n\n          instance.update(true, true, 0);\n\n          if (!instance.isComplete) {\n            instance.complete();\n          }\n        }\n\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n\n        instance.$refs.toolbar\n          .find(\"[data-fancybox-fullscreen]\")\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n      }\n    });\n  }\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var $container;\n\n      if (!fn) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n\n        return;\n      }\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true, {\n      btnTpl: {\n        thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function (instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function (instance) {\n      var self = this,\n        group = instance.group,\n        enabled = 0;\n\n      self.instance = instance;\n      self.opts = group[instance.currIndex].opts.thumbs;\n\n      instance.Thumbs = self;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      // Enable thumbs if at least two group items have thumbnails\n      for (var i = 0, len = group.length; i < len; i++) {\n        if (group[i].thumb) {\n          enabled++;\n        }\n\n        if (enabled > 1) {\n          break;\n        }\n      }\n\n      if (enabled > 1 && !!self.opts) {\n        self.$button.removeAttr(\"style\").on(\"click\", function () {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function () {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\n          instance.$refs.container\n          .find(parentEl)\n          .addBack()\n          .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"a\", function () {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function (i, item) {\n        src = item.thumb;\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n          i +\n          '\"' +\n          (src && src.length ? ' style=\"background-image:url(' + src + ')\"' : 'class=\"fancybox-thumbs-missing\"') +\n          \"></a>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n          instance.group.length *\n          self.$list\n          .children()\n          .eq(0)\n          .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function (duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate({\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate({\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function () {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function () {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function () {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function () {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, jQuery);\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      share: '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\n        \"</button>\"\n    },\n    share: {\n      url: function (instance, item) {\n        return (\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n        );\n      },\n      tpl: '<div class=\"fancybox-share\">' +\n        \"<h1>{{SHARE}}</h1>\" +\n        \"<p>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\n        \"<span>Facebook</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\n        \"<span>Twitter</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n        \"<span>Pinterest</span>\" +\n        \"</a>\" +\n        \"</p>\" +\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p>' +\n        \"</div>\"\n    }\n  });\n\n  function escapeHtml(string) {\n    var entityMap = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#x2F;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    };\n\n    return String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n      return entityMap[s];\n    });\n  }\n\n  $(document).on(\"click\", \"[data-fancybox-share]\", function () {\n    var instance = $.fancybox.getInstance(),\n      current = instance.current || null,\n      url,\n      tpl;\n\n    if (!current) {\n      return;\n    }\n\n    if ($.type(current.opts.share.url) === \"function\") {\n      url = current.opts.share.url.apply(current, [instance, current]);\n    }\n\n    tpl = current.opts.share.tpl\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n\n    $.fancybox.open({\n      src: instance.translate(instance, tpl),\n      type: \"html\",\n      opts: {\n        touch: false,\n        animationEffect: false,\n        afterLoad: function (shareInstance, shareCurrent) {\n          // Close self if parent instance is closing\n          instance.$refs.container.one(\"beforeClose.fb\", function () {\n            shareInstance.close(null, 0);\n          });\n\n          // Opening links in a popup window\n          shareCurrent.$content.find(\".fancybox-share__button\").click(function () {\n            window.open(this.href, \"Share\", \"width=550, height=450\");\n            return false;\n          });\n        },\n        mobile: {\n          autoFocus: false\n        }\n      }\n    });\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function (sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function (ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute,\n      // then triggering click event should start fancyBox\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .focus()\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function () {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function (e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function (e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (firstRun && !instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function () {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function (e, instance, current) {\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        clearTimeout(instance.hashTimer);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function () {\n      var url = parseUrl(),\n        fb = null;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n        .get()\n        .reverse(),\n        function (index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n\n          if (tmp && tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function () {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, jQuery);","source":"lib/fancybox/source/jquery.fancybox.pack.js","raw":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function (stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Close existing modals\n    // Set this to false if you do not need to stack multiple instances\n    closeExisting: false,\n\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should allow caption to overlap the content\n    preventCaptionOverlap: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      \"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // For HTML5 video only\n    video: {\n      tpl: '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\">' +\n        '<source src=\"{{src}}\" type=\"{{format}}\" />' +\n        'Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!' +\n        \"</video>\",\n      format: \"\", // custom video format\n      autoStart: true\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\n\n    btnTpl: {\n      download: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n        \"</a>\",\n\n      zoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n        \"</button>\",\n\n      close: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n        \"</button>\",\n\n      // Arrows\n      arrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n        \"</button>\",\n\n      arrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n        \"</button>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Hide browser vertical scrollbars; use at your own risk\n    hideScrollbar: true,\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: true,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable panning/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n      media : {\n        youtube : {\n          params : {\n            autoplay : 0\n          }\n        }\n      }\n    */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n      afterShow: function( instance, current ) {\n        console.info( 'Clicked element:' );\n        console.info( current.opts.$orig );\n      }\n    */\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function (current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      preventCaptionOverlap: false,\n      idleTime: false,\n      clickContent: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schlie&szlig;en\",\n        NEXT: \"Weiter\",\n        PREV: \"Zur&uuml;ck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Vergr&ouml;&szlig;ern\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function (obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function () {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function ($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function (opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function (key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // How much of an element is visible in viewport\n  // =============================================\n\n  var inViewport = function (elem) {\n    var elemCenter, rez;\n\n    if (!elem || elem.ownerDocument !== document) {\n      return false;\n    }\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n\n    elemCenter = {\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function (content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({\n      index: index\n    }, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function () {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        $container,\n        buttonStr;\n\n      if (firstItemOpts.closeExisting) {\n        $.fancybox.close(true);\n      }\n\n      // Hide scrollbars\n      // ===============\n\n      $(\"body\").addClass(\"fancybox-active\");\n\n      if (\n        !$.fancybox.getInstance() &&\n        firstItemOpts.hideScrollbar !== false &&\n        !$.fancybox.isMobile &&\n        document.body.scrollHeight > window.innerHeight\n      ) {\n        $(\"head\").append(\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n          (window.innerWidth - document.documentElement.clientWidth) +\n          \"px;}</style>\"\n        );\n\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function (index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n          self.translate(\n            self,\n            firstItemOpts.baseTpl\n            .replace(\"{{buttons}}\", buttonStr)\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n          )\n        )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function (obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n        return arr[n] === undefined ? match : arr[n];\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function (content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function (i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        if ($.fancybox.isMobile && obj.opts.mobile) {\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.video.format) {\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n            obj = $.extend(true, obj, {\n              contentType: \"pdf\",\n              opts: {\n                iframe: {\n                  preload: false\n                }\n              }\n            });\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image, check if exists and if is in the viewport\n        obj.$thumb = obj.opts.$thumb || null;\n\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\n\n          if (obj.$thumb.length) {\n            obj.opts.$orig = obj.opts.$trigger;\n          }\n        }\n\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        if (obj.$thumb && !obj.$thumb.length) {\n          obj.$thumb = null;\n        }\n\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            trapFocus: true,\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detecting inactivity\n    // ======================================\n\n    addEvents: function () {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      // ==================================\n\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      // ==========================================\n\n      $W.on(\"orientationchange.fb resize.fb\", function (e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          if (self.requestId) {\n            cancelAFrame(self.requestId);\n          }\n\n          self.requestId = requestAFrame(function () {\n            self.update(e);\n          });\n        } else {\n          if (self.current && self.current.type === \"iframe\") {\n            self.$refs.stage.hide();\n          }\n\n          setTimeout(\n            function () {\n              self.$refs.stage.show();\n\n              self.update(e);\n            },\n            $.fancybox.isMobile ? 600 : 250\n          );\n        }\n      });\n\n      $D.on(\"keydown.fb\", function (e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\n          current = instance.current,\n          keycode = e.keyCode || e.which;\n\n        // Trap keyboard focus inside of the modal\n        // =======================================\n\n        if (keycode == 9) {\n          if (current.opts.trapFocus) {\n            self.focus(e);\n          }\n\n          return;\n        }\n\n        // Enable keyboard navigation\n        // ==========================\n\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function (e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function () {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function () {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function (duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function (duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function (pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        isMoved,\n        loop,\n        current,\n        previous,\n        slidePos,\n        stagePos,\n        prop,\n        diff;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      // Should loop?\n      pos = parseInt(pos, 10);\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      // Check if opening for the first time; this helps to speed things up\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      // Create slides\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Check if user has swiped the slides or if still animating\n      isMoved = self.isMoved(current);\n\n      // Make sure current slide is visible\n      current.$slide.addClass(\"fancybox-slide--current\");\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n\n        // Attempt to load content into slide\n        // This will later call `afterLoad` -> `revealContent`\n        self.loadSlide(current);\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Get actual slide/stage positions (before cleaning up)\n      slidePos = $.fancybox.getTranslate(previous.$slide);\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\n\n      // Clean up all slides\n      $.each(self.slides, function (index, slide) {\n        $.fancybox.stop(slide.$slide, true);\n      });\n\n      if (previous.pos !== current.pos) {\n        previous.isComplete = false;\n      }\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n\n      // If slides are out of place, then animate them to correct position\n      if (isMoved) {\n        // Calculate horizontal swipe distance\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n\n        $.each(self.slides, function (index, slide) {\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n          });\n\n          // Make sure that each slide is in equal distance\n          // This is mostly needed for freshly added slides, because they are not yet positioned\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: 0,\n            left: leftPos - stagePos.left + diff\n          });\n\n          if (slide.pos !== current.pos) {\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n          }\n\n          // Redraw to make sure that transition will start\n          forceRedraw(slide.$slide);\n\n          // Animate the slide\n          $.fancybox.animate(\n            slide.$slide, {\n              top: 0,\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n            },\n            duration,\n            function () {\n              slide.$slide\n                .css({\n                  transform: \"\",\n                  opacity: \"\"\n                })\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                self.complete();\n              }\n            }\n          );\n        });\n      } else if (duration && current.opts.transitionEffect) {\n        // Set transition effect for previously active slide\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n\n        $.fancybox.animate(\n          previous.$slide,\n          prop,\n          duration,\n          function () {\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n          },\n          false\n        );\n      }\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function (pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function (x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content, {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function (duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content, {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function (slide) {\n      var self = this,\n        $content = slide.$content,\n        $slide = slide.$slide,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n\n      maxWidth -=\n        parseFloat($slide.css(\"paddingLeft\")) +\n        parseFloat($slide.css(\"paddingRight\")) +\n        parseFloat($content.css(\"marginLeft\")) +\n        parseFloat($content.css(\"marginRight\"));\n\n      maxHeight -=\n        parseFloat($slide.css(\"paddingTop\")) +\n        parseFloat($slide.css(\"paddingBottom\")) +\n        parseFloat($content.css(\"marginTop\")) +\n        parseFloat($content.css(\"marginBottom\"));\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      width = minRatio * width;\n      height = minRatio * height;\n\n      // Adjust width/height to precisely fit into container\n      if (width > maxWidth - 0.5) {\n        width = maxWidth;\n      }\n\n      if (height > maxHeight - 0.5) {\n        height = maxHeight;\n      }\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function (e) {\n      var self = this;\n\n      $.each(self.slides, function (key, slide) {\n        self.updateSlide(slide, e);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function (slide, e) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        $slide = slide.$slide;\n\n      // First, prevent caption overlap, if needed\n      self.adjustCaption(slide);\n\n      // Then resize content to fit inside the slide\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      // Then some adjustments\n      self.adjustLayout(slide);\n\n      if ($slide.length) {\n        $slide.trigger(\"refresh\");\n\n        if (slide.pos === self.currPos) {\n          self.$refs.toolbar\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n        }\n      }\n\n      self.trigger(\"onUpdate\", slide, e);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function (duration) {\n      var self = this,\n        current = self.current,\n        $slide = current.$slide;\n\n      if (self.isClosing || !current) {\n        return;\n      }\n\n      $slide.siblings().css({\n        transform: \"\",\n        opacity: \"\"\n      });\n\n      $slide\n        .parent()\n        .children()\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n\n      $.fancybox.animate(\n        $slide, {\n          top: 0,\n          left: 0,\n          opacity: 1\n        },\n        duration === undefined ? 0 : duration,\n        function () {\n          // Clean up\n          $slide.css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (!current.isComplete) {\n            self.complete();\n          }\n        },\n        false\n      );\n    },\n\n    // Check if current slide is moved (swiped)\n    // ========================================\n\n    isMoved: function (slide) {\n      var current = slide || this.current,\n        slidePos,\n        stagePos;\n\n      if (!current) {\n        return false;\n      }\n\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\n      slidePos = $.fancybox.getTranslate(current.$slide);\n\n      return (\n        !current.$slide.hasClass(\"fancybox-animated\") &&\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n      );\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container,\n        canPan,\n        isZoomable;\n\n      if (!current || self.isClosing || !self.Guestures) {\n        return;\n      }\n\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n\n      canPan = self.canPan(nextWidth, nextHeight);\n\n      isZoomable = canPan ? true : self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      if (canPan) {\n        $container.addClass(\"fancybox-can-pan\");\n      } else if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n      ) {\n        $container.addClass(\"fancybox-can-zoomIn\");\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-swipe\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function () {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function (nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        pos = null,\n        rez = false;\n\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n        rez = self.getFitPos(current);\n\n        if (nextWidth !== undefined && nextHeight !== undefined) {\n          pos = {\n            width: nextWidth,\n            height: nextHeight\n          };\n        } else if (current.isComplete) {\n          pos = $.fancybox.getTranslate(current.$content);\n        }\n\n        if (pos && rez) {\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n        }\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function (slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      if (self.trigger(\"beforeLoad\", slide) === false) {\n        slide.isLoading = false;\n\n        return false;\n      }\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            slide.opts.video.tpl\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n            .replace(\"{{poster}}\", slide.thumb || \"\")\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function (data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function (jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function () {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function (slide) {\n      var self = this,\n        ghost;\n\n      // Check if need to show loading icon\n      setTimeout(function () {\n        var $img = slide.$image;\n\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 50);\n\n      //Check if image has srcset\n      self.checkSrcset(slide);\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        ghost = document.createElement(\"img\");\n\n        ghost.onerror = function () {\n          $(this).remove();\n\n          slide.$ghost = null;\n        };\n\n        ghost.onload = function () {\n          self.afterLoad(slide);\n        };\n\n        slide.$ghost = $(ghost)\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", slide.thumb);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Check if image has srcset and get the source\n    // ============================================\n    checkSrcset: function (slide) {\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function (el) {\n          var ret = {};\n\n          el.trim()\n            .split(/\\s+/)\n            .forEach(function (el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function (a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = (slide.width / slide.height) * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function (slide) {\n      var self = this,\n        img = document.createElement(\"img\"),\n        $img = $(img);\n\n      slide.$image = $img\n        .one(\"error\", function () {\n          self.setError(slide);\n        })\n        .one(\"load\", function () {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function () {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n        $img.trigger(\"load\");\n      } else if (img.error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function (slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function (e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function () {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate content dimensions, if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            // Avoid scrolling to top (if multiple instances)\n            $slide.css(\"overflow\", \"visible\");\n\n            $content.css({\n              width: \"100%\",\n              \"max-width\": \"100%\",\n              height: \"9999px\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\n\n            $slide.css(\"overflow\", \"auto\");\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        self.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function () {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n        slide.isRevealed = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function (slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\n        }\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function () {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n          slide.isRevealed = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n        .first();\n\n      slide.$content.siblings().hide();\n\n      // Re-check if there is a valid content\n      // (in some cases, ajax response can contain various elements or plain text)\n      if (!slide.$content.length) {\n        slide.$content = slide.$slide\n          .wrapInner(\"<div></div>\")\n          .children()\n          .first();\n      }\n\n      slide.$content.addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      self.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function (slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n          .appendTo(slide.$slide)\n          .hide()\n          .fadeIn(\"fast\");\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.stop().remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function (slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      // Add small close button\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n      }\n\n      // Disable right click\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        slide.$content.on(\"contextmenu.fb\", function (e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.adjustCaption(slide);\n\n      self.adjustLayout(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Prevent caption overlap,\n    // fix css inconsistency across browsers\n    // =====================================\n\n    adjustCaption: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        caption = current.opts.caption,\n        preventOverlap = current.opts.preventCaptionOverlap,\n        $caption = self.$refs.caption,\n        $clone,\n        captionH = false;\n\n      $caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n\n      if (preventOverlap && caption && caption.length) {\n        if (current.pos !== self.currPos) {\n          $clone = $caption.clone().appendTo($caption.parent());\n\n          $clone\n            .children()\n            .eq(0)\n            .empty()\n            .html(caption);\n\n          captionH = $clone.outerHeight(true);\n\n          $clone.empty().remove();\n        } else if (self.$caption) {\n          captionH = self.$caption.outerHeight(true);\n        }\n\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\n      }\n    },\n\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n    // ====================================================================================\n\n    adjustLayout: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        scrollHeight,\n        marginBottom,\n        inlinePadding,\n        actualPadding;\n\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\n        current.$content.css(\"margin-bottom\", \"\");\n\n        // If we would always set margin-bottom for the content,\n        // then it would potentially break vertical align\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\n          actualPadding = current.$slide.css(\"padding-bottom\");\n\n          if (parseFloat(actualPadding) > 0) {\n            scrollHeight = current.$slide[0].scrollHeight;\n\n            current.$slide.css(\"padding-bottom\", 0);\n\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n              marginBottom = actualPadding;\n            }\n\n            current.$slide.css(\"padding-bottom\", inlinePadding);\n          }\n        }\n\n        current.$content.css(\"margin-bottom\", marginBottom);\n      }\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function (slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        isMoved = self.isMoved(slide),\n        isRevealed = slide.isRevealed,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      slide.isRevealed = true;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      if (isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        self.isAnimating = true;\n\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function () {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content if no effect\n      // ================================\n      if (!effect) {\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n          slide.$content.hide().fadeIn(\"fast\");\n        }\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      // Prepare for CSS transiton\n      // =========================\n      $.fancybox.stop($slide);\n\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow\n      forceRedraw($slide);\n\n      if (slide.type !== \"image\") {\n        slide.$content.hide().show(0);\n      }\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function () {\n          $slide.removeClass(effectClassName).css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function (slide) {\n      var rez = false,\n        $thumb = slide.$thumb,\n        thumbPos,\n        btw,\n        brw,\n        bbw,\n        blw;\n\n      if (!$thumb || !inViewport($thumb[0])) {\n        return false;\n      }\n\n      thumbPos = $.fancybox.getTranslate($thumb);\n\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\n\n      rez = {\n        top: thumbPos.top + btw,\n        left: thumbPos.left + blw,\n        width: thumbPos.width - brw - blw,\n        height: thumbPos.height - btw - bbw,\n        scaleX: 1,\n        scaleY: 1\n      };\n\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function () {\n      var self = this,\n        current = self.current,\n        slides = {},\n        $el;\n\n      if (self.isMoved() || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function (key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\n            slides[slide.pos] = slide;\n          } else if (slide) {\n            $.fancybox.stop(slide.$slide);\n\n            slide.$slide.off().remove();\n          }\n        });\n\n        self.slides = slides;\n      }\n\n      self.isAnimating = false;\n\n      self.updateCursor();\n\n      self.trigger(\"afterShow\");\n\n      // Autoplay first html5 video/audio\n      if (!!current.opts.video.autoStart) {\n        current.$slide\n          .find(\"video,audio\")\n          .filter(\":visible:first\")\n          .trigger(\"play\")\n          .one(\"ended\", function () {\n            if (Document.exitFullscreen) {\n              Document.exitFullscreen();\n            } else if (this.webkitExitFullscreen) {\n              this.webkitExitFullscreen();\n            }\n\n            self.next();\n          });\n      }\n\n      // Try to focus on the first focusable element\n      if (current.opts.autoFocus && current.contentType === \"html\") {\n        // Look for the first input with autofocus attribute\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\n\n        if ($el.length) {\n          $el.trigger(\"focus\");\n        } else {\n          self.focus(null, true);\n        }\n      }\n\n      // Avoid jumping\n      current.$slide.scrollTop(0).scrollLeft(0);\n    },\n\n    // Preload next and previous slides\n    // ================================\n\n    preload: function (type) {\n      var self = this,\n        prev,\n        next;\n\n      if (self.group.length < 2) {\n        return;\n      }\n\n      next = self.slides[self.currPos + 1];\n      prev = self.slides[self.currPos - 1];\n\n      if (prev && prev.type === type) {\n        self.loadSlide(prev);\n      }\n\n      if (next && next.type === type) {\n        self.loadSlide(next);\n      }\n    },\n\n    // Try to find and focus on the first focusable element\n    // ====================================================\n\n    focus: function (e, firstRun) {\n      var self = this,\n        focusableStr = [\n          \"a[href]\",\n          \"area[href]\",\n          'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n          \"select:not([disabled]):not([aria-hidden])\",\n          \"textarea:not([disabled]):not([aria-hidden])\",\n          \"button:not([disabled]):not([aria-hidden])\",\n          \"iframe\",\n          \"object\",\n          \"embed\",\n          \"video\",\n          \"audio\",\n          \"[contenteditable]\",\n          '[tabindex]:not([tabindex^=\"-\"])'\n        ].join(\",\"),\n        focusableItems,\n        focusedItemIndex;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      if (e || !self.current || !self.current.isComplete) {\n        // Focus on any element inside fancybox\n        focusableItems = self.$refs.container.find(\"*:visible\");\n      } else {\n        // Focus inside current slide\n        focusableItems = self.current.$slide.find(\"*:visible\" + (firstRun ? \":not(.fancybox-close-small)\" : \"\"));\n      }\n\n      focusableItems = focusableItems.filter(focusableStr).filter(function () {\n        return $(this).css(\"visibility\") !== \"hidden\" && !$(this).hasClass(\"disabled\");\n      });\n\n      if (focusableItems.length) {\n        focusedItemIndex = focusableItems.index(document.activeElement);\n\n        if (e && e.shiftKey) {\n          // Back tab\n          if (focusedItemIndex < 0 || focusedItemIndex == 0) {\n            e.preventDefault();\n\n            focusableItems.eq(focusableItems.length - 1).trigger(\"focus\");\n          }\n        } else {\n          // Outside or Forward tab\n          if (focusedItemIndex < 0 || focusedItemIndex == focusableItems.length - 1) {\n            if (e) {\n              e.preventDefault();\n            }\n\n            focusableItems.eq(0).trigger(\"focus\");\n          }\n        }\n      } else {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Activates current instance - brings container to the front and enables keyboard,\n    // notifies other instances about deactivating\n    // =================================================================================\n\n    activate: function () {\n      var self = this;\n\n      // Deactivate all instances\n      $(\".fancybox-container\").each(function () {\n        var instance = $(this).data(\"FancyBox\");\n\n        // Skip self and closing instances\n        if (instance && instance.id !== self.id && !instance.isClosing) {\n          instance.trigger(\"onDeactivate\");\n\n          instance.removeEvents();\n\n          instance.isVisible = false;\n        }\n      });\n\n      self.isVisible = true;\n\n      if (self.current || self.isIdle) {\n        self.update();\n\n        self.updateControls();\n      }\n\n      self.trigger(\"onActivate\");\n\n      self.addEvents();\n    },\n\n    // Start closing procedure\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n    // =================================================================================\n\n    close: function (e, d) {\n      var self = this,\n        current = self.current,\n        effect,\n        duration,\n        $content,\n        domRect,\n        opacity,\n        start,\n        end;\n\n      var done = function () {\n        self.cleanUp(e);\n      };\n\n      if (self.isClosing) {\n        return false;\n      }\n\n      self.isClosing = true;\n\n      // If beforeClose callback prevents closing, make sure content is centered\n      if (self.trigger(\"beforeClose\", e) === false) {\n        self.isClosing = false;\n\n        requestAFrame(function () {\n          self.update();\n        });\n\n        return false;\n      }\n\n      // Remove all events\n      // If there are multiple instances, they will be set again by \"activate\" method\n      self.removeEvents();\n\n      $content = current.$content;\n      effect = current.opts.animationEffect;\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\n\n      current.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\n\n      if (e !== true) {\n        $.fancybox.stop(current.$slide);\n      } else {\n        effect = false;\n      }\n\n      // Remove other slides\n      current.$slide\n        .siblings()\n        .trigger(\"onReset\")\n        .remove();\n\n      // Trigger animations\n      if (duration) {\n        self.$refs.container\n          .removeClass(\"fancybox-is-open\")\n          .addClass(\"fancybox-is-closing\")\n          .css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Clean up\n      self.hideLoading(current);\n\n      self.hideControls(true);\n\n      self.updateCursor();\n\n      // Check if possible to zoom-out\n      if (\n        effect === \"zoom\" &&\n        !($content && duration && current.type === \"image\" && !self.isMoved() && !current.hasError && (end = self.getThumbPos(current)))\n      ) {\n        effect = \"fade\";\n      }\n\n      if (effect === \"zoom\") {\n        $.fancybox.stop($content);\n\n        domRect = $.fancybox.getTranslate($content);\n\n        start = {\n          top: domRect.top,\n          left: domRect.left,\n          scaleX: domRect.width / end.width,\n          scaleY: domRect.height / end.height,\n          width: end.width,\n          height: end.height\n        };\n\n        // Check if we need to animate opacity\n        opacity = current.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        $.fancybox.animate(\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n          \"fancybox-animated fancybox-fx-\" + effect,\n          duration,\n          done\n        );\n      } else {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          done();\n        }\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function (e) {\n      var self = this,\n        instance,\n        $focus = self.current.opts.$orig,\n        x,\n        y;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (!!self.current.opts.backFocus) {\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n          $focus = self.$trigger;\n        }\n\n        if ($focus && $focus.length) {\n          x = window.scrollX;\n          y = window.scrollY;\n\n          $focus.trigger(\"focus\");\n\n          $(\"html, body\")\n            .scrollTop(y)\n            .scrollLeft(x);\n        }\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function (name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function () {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption,\n        caption = current.opts.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      // Set caption\n      if (caption && caption.length) {\n        self.$caption = $caption;\n\n        $caption\n          .children()\n          .eq(0)\n          .html(caption);\n      } else {\n        self.$caption = null;\n      }\n\n      if (!self.hasHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0);\n      $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n\n      // Make sure focus is not on disabled button/element\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function (andCaption) {\n      var self = this,\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\n\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\n        arr.push(\"caption\");\n      }\n\n      this.$refs.container.removeClass(\n        arr\n        .map(function (i) {\n          return \"fancybox-show-\" + i;\n        })\n        .join(\" \")\n      );\n\n      this.hasHiddenControls = true;\n    },\n\n    showControls: function () {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.hasHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function () {\n      if (this.hasHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.5.7\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function (command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function (items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function (all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n        if (all === true) {\n          this.close(all);\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function () {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function () {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function ($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function ($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      } else if (props.scaleX !== undefined) {\n        str += \" scaleX(\" + props.scaleX + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function ($el, to, duration, callback, leaveAnimationName) {\n      var self = this,\n        from;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      self.stop($el);\n\n      from = self.getTranslate($el);\n\n      $el.on(transitionEnd, function (e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        self.stop($el);\n\n        if ($.isNumeric(duration)) {\n          $el.css(\"transition-duration\", \"\");\n        }\n\n        if ($.isPlainObject(to)) {\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\n            self.setTranslate($el, {\n              top: to.top,\n              left: to.left,\n              width: from.width * to.scaleX,\n              height: from.height * to.scaleY,\n              scaleX: 1,\n              scaleY: 1\n            });\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function () {\n          $el.trigger(transitionEnd);\n        }, duration + 33)\n      );\n    },\n\n    stop: function ($el, callCallback) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        if (callCallback) {\n          $el.trigger(transitionEnd);\n        }\n\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value,\n      instance;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = opts || {};\n\n    if (e && e.data) {\n      opts = mergeOpts(e.data.options, opts);\n    }\n\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n    instance = $.fancybox.getInstance();\n\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\n      return;\n    }\n\n    if (opts.selector) {\n      items = $(opts.selector);\n    } else {\n      // Get all related items and find index for clicked one\n      value = $target.attr(\"data-fancybox\") || \"\";\n\n      if (value) {\n        items = e.data ? e.data.items : [];\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n      } else {\n        items = [$target];\n      }\n    }\n\n    index = $(items).index($target);\n\n    // Sometimes current item can not be found\n    if (index < 0) {\n      index = 0;\n    }\n\n    instance = $.fancybox.open(items, opts, index);\n\n    // Save last active element\n    instance.$trigger = $target;\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function (options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {\n          options: options\n        }, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\", {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\n      .trigger(\"click.fb-start\", {\n        $trigger: $(this)\n      });\n  });\n\n  // Track focus event for better accessibility styling\n  // ==================================================\n  (function () {\n    var buttonStr = \".fancybox-button\",\n      focusStr = \"fancybox-focus\",\n      $pressed = null;\n\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n      switch (e.type) {\n        case \"mousedown\":\n          $pressed = $(this);\n          break;\n        case \"mouseup\":\n          $pressed = null;\n          break;\n        case \"focusin\":\n          $(buttonStr).removeClass(focusStr);\n\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n            $(this).addClass(focusStr);\n          }\n          break;\n        case \"focusout\":\n          $(buttonStr).removeClass(focusStr);\n          break;\n      }\n    });\n  })();\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function ($) {\n  \"use strict\";\n\n  // Object containing properties for each media type\n  var defaults = {\n    youtube: {\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: \"transparent\",\n        enablejsapi: 1,\n        html5: 1\n      },\n      paramPlace: 8,\n      type: \"iframe\",\n      url: \"https://www.youtube-nocookie.com/embed/$4\",\n      thumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\"\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1\n      },\n      paramPlace: 3,\n      type: \"iframe\",\n      url: \"//player.vimeo.com/video/$2\"\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: \"image\",\n      url: \"//$1/p/$2/media/?size=l\"\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return (\n          \"//maps.google.\" +\n          rez[2] +\n          \"/?ll=\" +\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n          \"&output=\" +\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n        );\n      }\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n      }\n    }\n  };\n\n  // Formats matching url to final form\n  var format = function (url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || \"\";\n\n    if ($.type(params) === \"object\") {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function (key, value) {\n      url = url.replace(\"$\" + key, value || \"\");\n    });\n\n    if (params.length) {\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n    }\n\n    return url;\n  };\n\n  $(document).on(\"objectNeedsType.fb\", function (e, instance, item) {\n    var url = item.src || \"\",\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function (providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == \"?\") {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split(\"&\");\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split(\"=\", 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n          }\n        }\n      }\n\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n\n      url =\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n\n      if (providerName === \"youtube\") {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === \"vimeo\") {\n        url = url.replace(\"&%23\", \"#\");\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === \"iframe\") {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: \"no\"\n            }\n          }\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n\n  // Load YouTube/Video API on request to detect when video finished playing\n  var VideoAPILoader = {\n    youtube: {\n      src: \"https://www.youtube.com/iframe_api\",\n      class: \"YT\",\n      loading: false,\n      loaded: false\n    },\n\n    vimeo: {\n      src: \"https://player.vimeo.com/api/player.js\",\n      class: \"Vimeo\",\n      loading: false,\n      loaded: false\n    },\n\n    load: function (vendor) {\n      var _this = this,\n        script;\n\n      if (this[vendor].loaded) {\n        setTimeout(function () {\n          _this.done(vendor);\n        });\n        return;\n      }\n\n      if (this[vendor].loading) {\n        return;\n      }\n\n      this[vendor].loading = true;\n\n      script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = this[vendor].src;\n\n      if (vendor === \"youtube\") {\n        window.onYouTubeIframeAPIReady = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      } else {\n        script.onload = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      }\n\n      document.body.appendChild(script);\n    },\n    done: function (vendor) {\n      var instance, $el, player;\n\n      if (vendor === \"youtube\") {\n        delete window.onYouTubeIframeAPIReady;\n      }\n\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        $el = instance.current.$content.find(\"iframe\");\n\n        if (vendor === \"youtube\" && YT !== undefined && YT) {\n          player = new YT.Player($el.attr(\"id\"), {\n            events: {\n              onStateChange: function (e) {\n                if (e.data == 0) {\n                  instance.next();\n                }\n              }\n            }\n          });\n        } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\n          player = new Vimeo.Player($el);\n\n          player.on(\"ended\", function () {\n            instance.next();\n          });\n        }\n      }\n    }\n  };\n\n  $(document).on({\n    \"afterShow.fb\": function (e, instance, current) {\n      if (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\n        VideoAPILoader.load(current.contentSource);\n      }\n    }\n  });\n})(jQuery);\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function (e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function (point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function ($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function (el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function ($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function (instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function () {\n    var self = this;\n\n    self.$container.off(\".fb.touch\");\n\n    $(document).off(\".fb.touch\");\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n      self.requestId = null;\n    }\n\n    if (self.tapped) {\n      clearTimeout(self.tapped);\n      self.tapped = null;\n    }\n  };\n\n  Guestures.prototype.ontouchstart = function (e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $slide = current.$slide,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    // Allow other scripts to catch touch event if \"touch\" is set to false\n    if (current.touch) {\n      e.stopPropagation();\n    }\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n    self.canPan = instance.canPan();\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round($slide[0].clientWidth);\n    self.canvasHeight = Math.round($slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n      top: 0,\n      left: 0\n    };\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    // Skip if clicked outside the sliding area\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      if (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n        return;\n      }\n    }\n\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\n    if (!($.fancybox.isMobile && self.isScrollable)) {\n      e.preventDefault();\n    }\n\n    // One finger or mouse click - swipe or pan an image\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.canPan) {\n        $.fancybox.stop(self.$content);\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-is-grabbing\");\n    }\n\n    // Two fingers - zoom image\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function (e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function (e) {\n    var self = this;\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling) {\n      self.canTap = false;\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function (e) {\n    var self = this,\n      instance = self.instance,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(instance.slides, function (index, slide) {\n          var slidePos, stagePos;\n\n          $.fancybox.stop(slide.$slide);\n\n          slidePos = $.fancybox.getTranslate(slide.$slide);\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n          slide.$slide\n            .css({\n              transform: \"\",\n              opacity: \"\",\n              \"transition-duration\": \"\"\n            })\n            .removeClass(\"fancybox-animated\")\n            .removeClass(function (index, className) {\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n            });\n\n          if (slide.pos === instance.current.pos) {\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\n          }\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: slidePos.top - stagePos.top,\n            left: slidePos.left - stagePos.left\n          });\n        });\n\n        // Stop slideshow\n        if (instance.SlideShow && instance.SlideShow.isActive) {\n          instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function () {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function (index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function () {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function () {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <-\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\n    }\n\n    //   \\/\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function () {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function (e) {\n    var self = this;\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    self.$container.removeClass(\"fancybox-is-grabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 100;\n\n    // Speed in px/ms\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function (swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length,\n      distanceX = Math.abs(self.distanceX),\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n      speedX = 300;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide, {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n      ret = self.instance.close(true, 250);\n    } else if (canAdvance && self.distanceX > 0) {\n      ret = self.instance.previous(speedX);\n    } else if (canAdvance && self.distanceX < 0) {\n      ret = self.instance.next(speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      self.instance.centerSlide(200);\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function () {\n    var self = this,\n      newOffsetX,\n      newOffsetY,\n      newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false || self.dMs > 350) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 366);\n  };\n\n  Guestures.prototype.endZooming = function () {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function (e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function (prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls();\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n      .find($target)\n      .addBack()\n      .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function () {\n          self.tapped = null;\n\n          if (!instance.isAnimating) {\n            process(\"click\" + where);\n          }\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document)\n    .on(\"onActivate.fb\", function (e, instance) {\n      if (instance && !instance.Guestures) {\n        instance.Guestures = new Guestures(instance);\n      }\n    })\n    .on(\"beforeClose.fb\", function (e, instance) {\n      if (instance && instance.Guestures) {\n        instance.Guestures.destroy();\n      }\n    });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000,\n      progress: true\n    }\n  });\n\n  var SlideShow = function (instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function () {\n      var self = this,\n        instance = self.instance,\n        opts = instance.group[instance.currIndex].opts.slideShow;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n        self.toggle();\n      });\n\n      if (instance.group.length < 2 || !opts) {\n        self.$button.hide();\n      } else if (opts.progress) {\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n      }\n    },\n\n    set: function (force) {\n      var self = this,\n        instance = self.instance,\n        current = instance.current;\n\n      // Check if reached last element\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n        if (self.isActive && current.contentType !== \"video\") {\n          if (self.$progress) {\n            $.fancybox.animate(self.$progress.show(), {\n              scaleX: 1\n            }, current.opts.slideShow.speed);\n          }\n\n          self.timer = setTimeout(function () {\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n              instance.jumpTo(0);\n            } else {\n              instance.next();\n            }\n          }, current.opts.slideShow.speed);\n        }\n      } else {\n        self.stop();\n        instance.idleSecondsCounter = 0;\n        instance.showControls();\n      }\n    },\n\n    clear: function () {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    start: function () {\n      var self = this,\n        current = self.instance.current;\n\n      if (current) {\n        self.$button\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.isActive = true;\n\n        if (current.isComplete) {\n          self.set(true);\n        }\n\n        self.instance.trigger(\"onSlideShowChange\", true);\n      }\n    },\n\n    stop: function () {\n      var self = this,\n        current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n\n      self.instance.trigger(\"onSlideShowChange\", false);\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    toggle: function () {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function (e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function () {\n    var instance = $.fancybox.getInstance(),\n      SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function () {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  if (fn) {\n    var FullScreen = {\n      request: function (elem) {\n        elem = elem || document.documentElement;\n\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n      },\n      exit: function () {\n        document[fn.exitFullscreen]();\n      },\n      toggle: function (elem) {\n        elem = elem || document.documentElement;\n\n        if (this.isFullscreen()) {\n          this.exit();\n        } else {\n          this.request(elem);\n        }\n      },\n      isFullscreen: function () {\n        return Boolean(document[fn.fullscreenElement]);\n      },\n      enabled: function () {\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    };\n\n    $.extend(true, $.fancybox.defaults, {\n      btnTpl: {\n        fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n          \"</button>\"\n      },\n      fullScreen: {\n        autoStart: false\n      }\n    });\n\n    $(document).on(fn.fullscreenchange, function () {\n      var isFullscreen = FullScreen.isFullscreen(),\n        instance = $.fancybox.getInstance();\n\n      if (instance) {\n        // If image is zooming, then force to stop and reposition properly\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n          instance.isAnimating = false;\n\n          instance.update(true, true, 0);\n\n          if (!instance.isComplete) {\n            instance.complete();\n          }\n        }\n\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n\n        instance.$refs.toolbar\n          .find(\"[data-fancybox-fullscreen]\")\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n      }\n    });\n  }\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var $container;\n\n      if (!fn) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n\n        return;\n      }\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true, {\n      btnTpl: {\n        thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function (instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function (instance) {\n      var self = this,\n        group = instance.group,\n        enabled = 0;\n\n      self.instance = instance;\n      self.opts = group[instance.currIndex].opts.thumbs;\n\n      instance.Thumbs = self;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      // Enable thumbs if at least two group items have thumbnails\n      for (var i = 0, len = group.length; i < len; i++) {\n        if (group[i].thumb) {\n          enabled++;\n        }\n\n        if (enabled > 1) {\n          break;\n        }\n      }\n\n      if (enabled > 1 && !!self.opts) {\n        self.$button.removeAttr(\"style\").on(\"click\", function () {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function () {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\n          instance.$refs.container\n          .find(parentEl)\n          .addBack()\n          .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"a\", function () {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function (i, item) {\n        src = item.thumb;\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n          i +\n          '\"' +\n          (src && src.length ? ' style=\"background-image:url(' + src + ')\"' : 'class=\"fancybox-thumbs-missing\"') +\n          \"></a>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n          instance.group.length *\n          self.$list\n          .children()\n          .eq(0)\n          .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function (duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate({\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate({\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function () {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function () {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function () {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function () {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, jQuery);\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      share: '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\n        \"</button>\"\n    },\n    share: {\n      url: function (instance, item) {\n        return (\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n        );\n      },\n      tpl: '<div class=\"fancybox-share\">' +\n        \"<h1>{{SHARE}}</h1>\" +\n        \"<p>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\n        \"<span>Facebook</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\n        \"<span>Twitter</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n        \"<span>Pinterest</span>\" +\n        \"</a>\" +\n        \"</p>\" +\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p>' +\n        \"</div>\"\n    }\n  });\n\n  function escapeHtml(string) {\n    var entityMap = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#x2F;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    };\n\n    return String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n      return entityMap[s];\n    });\n  }\n\n  $(document).on(\"click\", \"[data-fancybox-share]\", function () {\n    var instance = $.fancybox.getInstance(),\n      current = instance.current || null,\n      url,\n      tpl;\n\n    if (!current) {\n      return;\n    }\n\n    if ($.type(current.opts.share.url) === \"function\") {\n      url = current.opts.share.url.apply(current, [instance, current]);\n    }\n\n    tpl = current.opts.share.tpl\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n\n    $.fancybox.open({\n      src: instance.translate(instance, tpl),\n      type: \"html\",\n      opts: {\n        touch: false,\n        animationEffect: false,\n        afterLoad: function (shareInstance, shareCurrent) {\n          // Close self if parent instance is closing\n          instance.$refs.container.one(\"beforeClose.fb\", function () {\n            shareInstance.close(null, 0);\n          });\n\n          // Opening links in a popup window\n          shareCurrent.$content.find(\".fancybox-share__button\").click(function () {\n            window.open(this.href, \"Share\", \"width=550, height=450\");\n            return false;\n          });\n        },\n        mobile: {\n          autoFocus: false\n        }\n      }\n    });\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function (sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function (ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute,\n      // then triggering click event should start fancyBox\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .focus()\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function () {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function (e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function (e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (firstRun && !instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function () {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function (e, instance, current) {\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        clearTimeout(instance.hashTimer);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function () {\n      var url = parseUrl(),\n        fb = null;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n        .get()\n        .reverse(),\n        function (index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n\n          if (tmp && tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function () {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, jQuery);","date":"2020-03-24T01:50:36.148Z","updated":"2020-03-24T01:50:36.148Z","path":"lib/fancybox/source/jquery.fancybox.pack.js","layout":"false","title":"","comments":1,"_id":"ck85lu6t300064s1zhbk51anv","content":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function (stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Close existing modals\n    // Set this to false if you do not need to stack multiple instances\n    closeExisting: false,\n\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should allow caption to overlap the content\n    preventCaptionOverlap: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      \"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // For HTML5 video only\n    video: {\n      tpl: '<video class=\"fancybox-video\" controls controlslist=\"nodownload\" poster>' +\n        '<source src type>' +\n        'Sorry, your browser doesn\\'t support embedded videos, <a href>download</a> and watch with your favorite video player!' +\n        \"</video>\",\n      format: \"\", // custom video format\n      autoStart: true\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n      '<div class=\"fancybox-toolbar\"></div>' +\n      '<div class=\"fancybox-navigation\"></div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p></p></div>',\n\n    btnTpl: {\n      download: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title href=\"javascript:;\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n        \"</a>\",\n\n      zoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n        \"</button>\",\n\n      close: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n        \"</button>\",\n\n      // Arrows\n      arrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title>' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n        \"</button>\",\n\n      arrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title>' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewbox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n        \"</button>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Hide browser vertical scrollbars; use at your own risk\n    hideScrollbar: true,\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: true,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable panning/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n      media : {\n        youtube : {\n          params : {\n            autoplay : 0\n          }\n        }\n      }\n    */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n      afterShow: function( instance, current ) {\n        console.info( 'Clicked element:' );\n        console.info( current.opts.$orig );\n      }\n    */\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function (current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      preventCaptionOverlap: false,\n      idleTime: false,\n      clickContent: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schlie&szlig;en\",\n        NEXT: \"Weiter\",\n        PREV: \"Zur&uuml;ck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Vergr&ouml;&szlig;ern\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function (obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function () {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function ($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function (opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function (key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // How much of an element is visible in viewport\n  // =============================================\n\n  var inViewport = function (elem) {\n    var elemCenter, rez;\n\n    if (!elem || elem.ownerDocument !== document) {\n      return false;\n    }\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n\n    elemCenter = {\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function (content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({\n      index: index\n    }, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function () {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        $container,\n        buttonStr;\n\n      if (firstItemOpts.closeExisting) {\n        $.fancybox.close(true);\n      }\n\n      // Hide scrollbars\n      // ===============\n\n      $(\"body\").addClass(\"fancybox-active\");\n\n      if (\n        !$.fancybox.getInstance() &&\n        firstItemOpts.hideScrollbar !== false &&\n        !$.fancybox.isMobile &&\n        document.body.scrollHeight > window.innerHeight\n      ) {\n        $(\"head\").append(\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n          (window.innerWidth - document.documentElement.clientWidth) +\n          \"px;}</style>\"\n        );\n\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function (index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n          self.translate(\n            self,\n            firstItemOpts.baseTpl\n            .replace(\"\", buttonStr)\n            .replace(\"\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n          )\n        )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function (obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n        return arr[n] === undefined ? match : arr[n];\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function (content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function (i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        if ($.fancybox.isMobile && obj.opts.mobile) {\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.video.format) {\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n            obj = $.extend(true, obj, {\n              contentType: \"pdf\",\n              opts: {\n                iframe: {\n                  preload: false\n                }\n              }\n            });\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image, check if exists and if is in the viewport\n        obj.$thumb = obj.opts.$thumb || null;\n\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\n\n          if (obj.$thumb.length) {\n            obj.opts.$orig = obj.opts.$trigger;\n          }\n        }\n\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        if (obj.$thumb && !obj.$thumb.length) {\n          obj.$thumb = null;\n        }\n\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            trapFocus: true,\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detecting inactivity\n    // ======================================\n\n    addEvents: function () {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      // ==================================\n\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      // ==========================================\n\n      $W.on(\"orientationchange.fb resize.fb\", function (e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          if (self.requestId) {\n            cancelAFrame(self.requestId);\n          }\n\n          self.requestId = requestAFrame(function () {\n            self.update(e);\n          });\n        } else {\n          if (self.current && self.current.type === \"iframe\") {\n            self.$refs.stage.hide();\n          }\n\n          setTimeout(\n            function () {\n              self.$refs.stage.show();\n\n              self.update(e);\n            },\n            $.fancybox.isMobile ? 600 : 250\n          );\n        }\n      });\n\n      $D.on(\"keydown.fb\", function (e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\n          current = instance.current,\n          keycode = e.keyCode || e.which;\n\n        // Trap keyboard focus inside of the modal\n        // =======================================\n\n        if (keycode == 9) {\n          if (current.opts.trapFocus) {\n            self.focus(e);\n          }\n\n          return;\n        }\n\n        // Enable keyboard navigation\n        // ==========================\n\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function (e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function () {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function () {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function (duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function (duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function (pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        isMoved,\n        loop,\n        current,\n        previous,\n        slidePos,\n        stagePos,\n        prop,\n        diff;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      // Should loop?\n      pos = parseInt(pos, 10);\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      // Check if opening for the first time; this helps to speed things up\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      // Create slides\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Check if user has swiped the slides or if still animating\n      isMoved = self.isMoved(current);\n\n      // Make sure current slide is visible\n      current.$slide.addClass(\"fancybox-slide--current\");\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n\n        // Attempt to load content into slide\n        // This will later call `afterLoad` -> `revealContent`\n        self.loadSlide(current);\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Get actual slide/stage positions (before cleaning up)\n      slidePos = $.fancybox.getTranslate(previous.$slide);\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\n\n      // Clean up all slides\n      $.each(self.slides, function (index, slide) {\n        $.fancybox.stop(slide.$slide, true);\n      });\n\n      if (previous.pos !== current.pos) {\n        previous.isComplete = false;\n      }\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n\n      // If slides are out of place, then animate them to correct position\n      if (isMoved) {\n        // Calculate horizontal swipe distance\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n\n        $.each(self.slides, function (index, slide) {\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n          });\n\n          // Make sure that each slide is in equal distance\n          // This is mostly needed for freshly added slides, because they are not yet positioned\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: 0,\n            left: leftPos - stagePos.left + diff\n          });\n\n          if (slide.pos !== current.pos) {\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n          }\n\n          // Redraw to make sure that transition will start\n          forceRedraw(slide.$slide);\n\n          // Animate the slide\n          $.fancybox.animate(\n            slide.$slide, {\n              top: 0,\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n            },\n            duration,\n            function () {\n              slide.$slide\n                .css({\n                  transform: \"\",\n                  opacity: \"\"\n                })\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                self.complete();\n              }\n            }\n          );\n        });\n      } else if (duration && current.opts.transitionEffect) {\n        // Set transition effect for previously active slide\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n\n        $.fancybox.animate(\n          previous.$slide,\n          prop,\n          duration,\n          function () {\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n          },\n          false\n        );\n      }\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function (pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function (x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content, {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function (duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content, {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function (slide) {\n      var self = this,\n        $content = slide.$content,\n        $slide = slide.$slide,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n\n      maxWidth -=\n        parseFloat($slide.css(\"paddingLeft\")) +\n        parseFloat($slide.css(\"paddingRight\")) +\n        parseFloat($content.css(\"marginLeft\")) +\n        parseFloat($content.css(\"marginRight\"));\n\n      maxHeight -=\n        parseFloat($slide.css(\"paddingTop\")) +\n        parseFloat($slide.css(\"paddingBottom\")) +\n        parseFloat($content.css(\"marginTop\")) +\n        parseFloat($content.css(\"marginBottom\"));\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      width = minRatio * width;\n      height = minRatio * height;\n\n      // Adjust width/height to precisely fit into container\n      if (width > maxWidth - 0.5) {\n        width = maxWidth;\n      }\n\n      if (height > maxHeight - 0.5) {\n        height = maxHeight;\n      }\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function (e) {\n      var self = this;\n\n      $.each(self.slides, function (key, slide) {\n        self.updateSlide(slide, e);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function (slide, e) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        $slide = slide.$slide;\n\n      // First, prevent caption overlap, if needed\n      self.adjustCaption(slide);\n\n      // Then resize content to fit inside the slide\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      // Then some adjustments\n      self.adjustLayout(slide);\n\n      if ($slide.length) {\n        $slide.trigger(\"refresh\");\n\n        if (slide.pos === self.currPos) {\n          self.$refs.toolbar\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n        }\n      }\n\n      self.trigger(\"onUpdate\", slide, e);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function (duration) {\n      var self = this,\n        current = self.current,\n        $slide = current.$slide;\n\n      if (self.isClosing || !current) {\n        return;\n      }\n\n      $slide.siblings().css({\n        transform: \"\",\n        opacity: \"\"\n      });\n\n      $slide\n        .parent()\n        .children()\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n\n      $.fancybox.animate(\n        $slide, {\n          top: 0,\n          left: 0,\n          opacity: 1\n        },\n        duration === undefined ? 0 : duration,\n        function () {\n          // Clean up\n          $slide.css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (!current.isComplete) {\n            self.complete();\n          }\n        },\n        false\n      );\n    },\n\n    // Check if current slide is moved (swiped)\n    // ========================================\n\n    isMoved: function (slide) {\n      var current = slide || this.current,\n        slidePos,\n        stagePos;\n\n      if (!current) {\n        return false;\n      }\n\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\n      slidePos = $.fancybox.getTranslate(current.$slide);\n\n      return (\n        !current.$slide.hasClass(\"fancybox-animated\") &&\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n      );\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container,\n        canPan,\n        isZoomable;\n\n      if (!current || self.isClosing || !self.Guestures) {\n        return;\n      }\n\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n\n      canPan = self.canPan(nextWidth, nextHeight);\n\n      isZoomable = canPan ? true : self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      if (canPan) {\n        $container.addClass(\"fancybox-can-pan\");\n      } else if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n      ) {\n        $container.addClass(\"fancybox-can-zoomIn\");\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-swipe\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function () {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function (nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        pos = null,\n        rez = false;\n\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n        rez = self.getFitPos(current);\n\n        if (nextWidth !== undefined && nextHeight !== undefined) {\n          pos = {\n            width: nextWidth,\n            height: nextHeight\n          };\n        } else if (current.isComplete) {\n          pos = $.fancybox.getTranslate(current.$content);\n        }\n\n        if (pos && rez) {\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n        }\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function (slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      if (self.trigger(\"beforeLoad\", slide) === false) {\n        slide.isLoading = false;\n\n        return false;\n      }\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            slide.opts.video.tpl\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n            .replace(\"\", slide.thumb || \"\")\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function (data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function (jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function () {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function (slide) {\n      var self = this,\n        ghost;\n\n      // Check if need to show loading icon\n      setTimeout(function () {\n        var $img = slide.$image;\n\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 50);\n\n      //Check if image has srcset\n      self.checkSrcset(slide);\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        ghost = document.createElement(\"img\");\n\n        ghost.onerror = function () {\n          $(this).remove();\n\n          slide.$ghost = null;\n        };\n\n        ghost.onload = function () {\n          self.afterLoad(slide);\n        };\n\n        slide.$ghost = $(ghost)\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", slide.thumb);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Check if image has srcset and get the source\n    // ============================================\n    checkSrcset: function (slide) {\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function (el) {\n          var ret = {};\n\n          el.trim()\n            .split(/\\s+/)\n            .forEach(function (el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function (a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = (slide.width / slide.height) * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function (slide) {\n      var self = this,\n        img = document.createElement(\"img\"),\n        $img = $(img);\n\n      slide.$image = $img\n        .one(\"error\", function () {\n          self.setError(slide);\n        })\n        .one(\"load\", function () {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function () {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n        $img.trigger(\"load\");\n      } else if (img.error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function (slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function (e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function () {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate content dimensions, if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            // Avoid scrolling to top (if multiple instances)\n            $slide.css(\"overflow\", \"visible\");\n\n            $content.css({\n              width: \"100%\",\n              \"max-width\": \"100%\",\n              height: \"9999px\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\n\n            $slide.css(\"overflow\", \"auto\");\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        self.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function () {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n        slide.isRevealed = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function (slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\n        }\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function () {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n          slide.isRevealed = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n        .first();\n\n      slide.$content.siblings().hide();\n\n      // Re-check if there is a valid content\n      // (in some cases, ajax response can contain various elements or plain text)\n      if (!slide.$content.length) {\n        slide.$content = slide.$slide\n          .wrapInner(\"<div></div>\")\n          .children()\n          .first();\n      }\n\n      slide.$content.addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      self.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function (slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n          .appendTo(slide.$slide)\n          .hide()\n          .fadeIn(\"fast\");\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.stop().remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function (slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      // Add small close button\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n      }\n\n      // Disable right click\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        slide.$content.on(\"contextmenu.fb\", function (e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.adjustCaption(slide);\n\n      self.adjustLayout(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Prevent caption overlap,\n    // fix css inconsistency across browsers\n    // =====================================\n\n    adjustCaption: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        caption = current.opts.caption,\n        preventOverlap = current.opts.preventCaptionOverlap,\n        $caption = self.$refs.caption,\n        $clone,\n        captionH = false;\n\n      $caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n\n      if (preventOverlap && caption && caption.length) {\n        if (current.pos !== self.currPos) {\n          $clone = $caption.clone().appendTo($caption.parent());\n\n          $clone\n            .children()\n            .eq(0)\n            .empty()\n            .html(caption);\n\n          captionH = $clone.outerHeight(true);\n\n          $clone.empty().remove();\n        } else if (self.$caption) {\n          captionH = self.$caption.outerHeight(true);\n        }\n\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\n      }\n    },\n\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n    // ====================================================================================\n\n    adjustLayout: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        scrollHeight,\n        marginBottom,\n        inlinePadding,\n        actualPadding;\n\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\n        current.$content.css(\"margin-bottom\", \"\");\n\n        // If we would always set margin-bottom for the content,\n        // then it would potentially break vertical align\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\n          actualPadding = current.$slide.css(\"padding-bottom\");\n\n          if (parseFloat(actualPadding) > 0) {\n            scrollHeight = current.$slide[0].scrollHeight;\n\n            current.$slide.css(\"padding-bottom\", 0);\n\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n              marginBottom = actualPadding;\n            }\n\n            current.$slide.css(\"padding-bottom\", inlinePadding);\n          }\n        }\n\n        current.$content.css(\"margin-bottom\", marginBottom);\n      }\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function (slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        isMoved = self.isMoved(slide),\n        isRevealed = slide.isRevealed,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      slide.isRevealed = true;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      if (isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        self.isAnimating = true;\n\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function () {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content if no effect\n      // ================================\n      if (!effect) {\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n          slide.$content.hide().fadeIn(\"fast\");\n        }\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      // Prepare for CSS transiton\n      // =========================\n      $.fancybox.stop($slide);\n\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow\n      forceRedraw($slide);\n\n      if (slide.type !== \"image\") {\n        slide.$content.hide().show(0);\n      }\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function () {\n          $slide.removeClass(effectClassName).css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function (slide) {\n      var rez = false,\n        $thumb = slide.$thumb,\n        thumbPos,\n        btw,\n        brw,\n        bbw,\n        blw;\n\n      if (!$thumb || !inViewport($thumb[0])) {\n        return false;\n      }\n\n      thumbPos = $.fancybox.getTranslate($thumb);\n\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\n\n      rez = {\n        top: thumbPos.top + btw,\n        left: thumbPos.left + blw,\n        width: thumbPos.width - brw - blw,\n        height: thumbPos.height - btw - bbw,\n        scaleX: 1,\n        scaleY: 1\n      };\n\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function () {\n      var self = this,\n        current = self.current,\n        slides = {},\n        $el;\n\n      if (self.isMoved() || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function (key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= 0 self.currpos + 1) { slides[slide.pos]=\"slide;\" } else if (slide) $.fancybox.stop(slide.$slide); slide.$slide.off().remove(); }); self.slides=\"slides;\" self.isanimating=\"false;\" self.updatecursor(); self.trigger(\"aftershow\"); autoplay first html5 video audio (!!current.opts.video.autostart) current.$slide .find(\"video,audio\") .filter(\":visible:first\") .trigger(\"play\") .one(\"ended\", function () (document.exitfullscreen) document.exitfullscreen(); (this.webkitexitfullscreen) this.webkitexitfullscreen(); self.next(); try to focus on the focusable element (current.opts.autofocus && current.contenttype=\"==\" \"html\") look for input with autofocus attribute $el=\"current.$content.find(\"input[autofocus]:enabled:visible:first\");\" ($el.length) $el.trigger(\"focus\"); self.focus(null, true); avoid jumping current.$slide.scrolltop(0).scrollleft(0); }, preload next and previous slides ==\"==============================\" preload: (type) var self=\"this,\" prev, next; (self.group.length < 2) return; 1]; prev=\"self.slides[self.currPos\" - (prev prev.type=\"==\" type) self.loadslide(prev); (next next.type=\"==\" self.loadslide(next); find focus: (e, firstrun) focusablestr=\"[\" \"a[href]\", \"area[href]\", 'input:not([disabled]):not([type=\"hidden\" ]):not([aria-hidden])', \"select:not([disabled]):not([aria-hidden])\", \"textarea:not([disabled]):not([aria-hidden])\", \"button:not([disabled]):not([aria-hidden])\", \"iframe\", \"object\", \"embed\", \"video\", \"audio\", \"[contenteditable]\", '[tabindex]:not([tabindex^=\"-\" ])' ].join(\",\"), focusableitems, focuseditemindex; (self.isclosing) (e || !self.current !self.current.iscomplete) any inside fancybox focusableitems=\"self.$refs.container.find(\"*:visible\");\" current slide (firstrun ? \":not(.fancybox-close-small)\" : \"\")); return $(this).css(\"visibility\") !=\"=\" \"hidden\" !$(this).hasclass(\"disabled\"); (focusableitems.length) focuseditemindex=\"focusableItems.index(document.activeElement);\" e.shiftkey) back tab (focuseditemindex 0) e.preventdefault(); focusableitems.eq(focusableitems.length 1).trigger(\"focus\"); outside or forward focusableitems.length (e) focusableitems.eq(0).trigger(\"focus\"); self.$refs.container.trigger(\"focus\"); activates instance brings container front enables keyboard, notifies other instances about deactivating activate: deactivate all $(\".fancybox-container\").each(function skip closing (instance instance.id self.id !instance.isclosing) instance.trigger(\"ondeactivate\"); instance.removeevents(); instance.isvisible=\"false;\" self.isvisible=\"true;\" (self.current self.isidle) self.update(); self.updatecontrols(); self.trigger(\"onactivate\"); self.addevents(); start procedure this will \"zoom-out\" animation needed clean everything up afterwards close: d) effect, duration, $content, domrect, opacity, start, end; done=\"function\" self.cleanup(e); }; false; self.isclosing=\"true;\" beforeclose callback prevents closing, make sure content is centered (self.trigger(\"beforeclose\", e)=\"==\" false) requestaframe(function remove events there are multiple instances, they be set again by \"activate\" method self.removeevents(); $content=\"current.$content;\" effect=\"current.opts.animationEffect;\" duration=\"$.isNumeric(d)\" d current.opts.animationduration 0; current.$slide.removeclass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\"); true) $.fancybox.stop(current.$slide); .siblings() .trigger(\"onreset\") .remove(); trigger animations (duration) self.$refs.container .removeclass(\"fancybox-is-open\") .addclass(\"fancybox-is-closing\") .css(\"transition-duration\", \"ms\"); self.hideloading(current); self.hidecontrols(true); check possible zoom-out ( \"zoom\" !($content current.type=\"==\" \"image\" !self.ismoved() !current.haserror (end=\"self.getThumbPos(current)))\" ) ; (effect=\"==\" \"zoom\") $.fancybox.stop($content); domrect=\"$.fancybox.getTranslate($content);\" top: domrect.top, left: domrect.left, scalex: domrect.width end.width, scaley: domrect.height end.height, width: height: end.height we need animate opacity (opacity=\"=\" \"auto\") current.height end.width end.height)> 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        $.fancybox.animate(\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n          \"fancybox-animated fancybox-fx-\" + effect,\n          duration,\n          done\n        );\n      } else {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          done();\n        }\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function (e) {\n      var self = this,\n        instance,\n        $focus = self.current.opts.$orig,\n        x,\n        y;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (!!self.current.opts.backFocus) {\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n          $focus = self.$trigger;\n        }\n\n        if ($focus && $focus.length) {\n          x = window.scrollX;\n          y = window.scrollY;\n\n          $focus.trigger(\"focus\");\n\n          $(\"html, body\")\n            .scrollTop(y)\n            .scrollLeft(x);\n        }\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function (name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function () {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption,\n        caption = current.opts.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      // Set caption\n      if (caption && caption.length) {\n        self.$caption = $caption;\n\n        $caption\n          .children()\n          .eq(0)\n          .html(caption);\n      } else {\n        self.$caption = null;\n      }\n\n      if (!self.hasHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0); $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index>= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n\n      // Make sure focus is not on disabled button/element\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function (andCaption) {\n      var self = this,\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\n\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\n        arr.push(\"caption\");\n      }\n\n      this.$refs.container.removeClass(\n        arr\n        .map(function (i) {\n          return \"fancybox-show-\" + i;\n        })\n        .join(\" \")\n      );\n\n      this.hasHiddenControls = true;\n    },\n\n    showControls: function () {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.hasHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function () {\n      if (this.hasHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.5.7\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function (command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function (items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function (all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n        if (all === true) {\n          this.close(all);\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function () {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function () {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function ($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function ($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      } else if (props.scaleX !== undefined) {\n        str += \" scaleX(\" + props.scaleX + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function ($el, to, duration, callback, leaveAnimationName) {\n      var self = this,\n        from;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      self.stop($el);\n\n      from = self.getTranslate($el);\n\n      $el.on(transitionEnd, function (e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        self.stop($el);\n\n        if ($.isNumeric(duration)) {\n          $el.css(\"transition-duration\", \"\");\n        }\n\n        if ($.isPlainObject(to)) {\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\n            self.setTranslate($el, {\n              top: to.top,\n              left: to.left,\n              width: from.width * to.scaleX,\n              height: from.height * to.scaleY,\n              scaleX: 1,\n              scaleY: 1\n            });\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function () {\n          $el.trigger(transitionEnd);\n        }, duration + 33)\n      );\n    },\n\n    stop: function ($el, callCallback) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        if (callCallback) {\n          $el.trigger(transitionEnd);\n        }\n\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value,\n      instance;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = opts || {};\n\n    if (e && e.data) {\n      opts = mergeOpts(e.data.options, opts);\n    }\n\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n    instance = $.fancybox.getInstance();\n\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\n      return;\n    }\n\n    if (opts.selector) {\n      items = $(opts.selector);\n    } else {\n      // Get all related items and find index for clicked one\n      value = $target.attr(\"data-fancybox\") || \"\";\n\n      if (value) {\n        items = e.data ? e.data.items : [];\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n      } else {\n        items = [$target];\n      }\n    }\n\n    index = $(items).index($target);\n\n    // Sometimes current item can not be found\n    if (index < 0) {\n      index = 0;\n    }\n\n    instance = $.fancybox.open(items, opts, index);\n\n    // Save last active element\n    instance.$trigger = $target;\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function (options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {\n          options: options\n        }, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\", {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\n      .trigger(\"click.fb-start\", {\n        $trigger: $(this)\n      });\n  });\n\n  // Track focus event for better accessibility styling\n  // ==================================================\n  (function () {\n    var buttonStr = \".fancybox-button\",\n      focusStr = \"fancybox-focus\",\n      $pressed = null;\n\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n      switch (e.type) {\n        case \"mousedown\":\n          $pressed = $(this);\n          break;\n        case \"mouseup\":\n          $pressed = null;\n          break;\n        case \"focusin\":\n          $(buttonStr).removeClass(focusStr);\n\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n            $(this).addClass(focusStr);\n          }\n          break;\n        case \"focusout\":\n          $(buttonStr).removeClass(focusStr);\n          break;\n      }\n    });\n  })();\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function ($) {\n  \"use strict\";\n\n  // Object containing properties for each media type\n  var defaults = {\n    youtube: {\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: \"transparent\",\n        enablejsapi: 1,\n        html5: 1\n      },\n      paramPlace: 8,\n      type: \"iframe\",\n      url: \"https://www.youtube-nocookie.com/embed/$4\",\n      thumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\"\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1\n      },\n      paramPlace: 3,\n      type: \"iframe\",\n      url: \"//player.vimeo.com/video/$2\"\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: \"image\",\n      url: \"//$1/p/$2/media/?size=l\"\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return (\n          \"//maps.google.\" +\n          rez[2] +\n          \"/?ll=\" +\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n          \"&output=\" +\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n        );\n      }\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n      }\n    }\n  };\n\n  // Formats matching url to final form\n  var format = function (url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || \"\";\n\n    if ($.type(params) === \"object\") {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function (key, value) {\n      url = url.replace(\"$\" + key, value || \"\");\n    });\n\n    if (params.length) {\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n    }\n\n    return url;\n  };\n\n  $(document).on(\"objectNeedsType.fb\", function (e, instance, item) {\n    var url = item.src || \"\",\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function (providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == \"?\") {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split(\"&\");\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split(\"=\", 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n          }\n        }\n      }\n\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n\n      url =\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n\n      if (providerName === \"youtube\") {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === \"vimeo\") {\n        url = url.replace(\"&%23\", \"#\");\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === \"iframe\") {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: \"no\"\n            }\n          }\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n\n  // Load YouTube/Video API on request to detect when video finished playing\n  var VideoAPILoader = {\n    youtube: {\n      src: \"https://www.youtube.com/iframe_api\",\n      class: \"YT\",\n      loading: false,\n      loaded: false\n    },\n\n    vimeo: {\n      src: \"https://player.vimeo.com/api/player.js\",\n      class: \"Vimeo\",\n      loading: false,\n      loaded: false\n    },\n\n    load: function (vendor) {\n      var _this = this,\n        script;\n\n      if (this[vendor].loaded) {\n        setTimeout(function () {\n          _this.done(vendor);\n        });\n        return;\n      }\n\n      if (this[vendor].loading) {\n        return;\n      }\n\n      this[vendor].loading = true;\n\n      script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = this[vendor].src;\n\n      if (vendor === \"youtube\") {\n        window.onYouTubeIframeAPIReady = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      } else {\n        script.onload = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      }\n\n      document.body.appendChild(script);\n    },\n    done: function (vendor) {\n      var instance, $el, player;\n\n      if (vendor === \"youtube\") {\n        delete window.onYouTubeIframeAPIReady;\n      }\n\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        $el = instance.current.$content.find(\"iframe\");\n\n        if (vendor === \"youtube\" && YT !== undefined && YT) {\n          player = new YT.Player($el.attr(\"id\"), {\n            events: {\n              onStateChange: function (e) {\n                if (e.data == 0) {\n                  instance.next();\n                }\n              }\n            }\n          });\n        } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\n          player = new Vimeo.Player($el);\n\n          player.on(\"ended\", function () {\n            instance.next();\n          });\n        }\n      }\n    }\n  };\n\n  $(document).on({\n    \"afterShow.fb\": function (e, instance, current) {\n      if (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\n        VideoAPILoader.load(current.contentSource);\n      }\n    }\n  });\n})(jQuery);\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function (e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function (point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function ($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function (el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function ($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function (instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function () {\n    var self = this;\n\n    self.$container.off(\".fb.touch\");\n\n    $(document).off(\".fb.touch\");\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n      self.requestId = null;\n    }\n\n    if (self.tapped) {\n      clearTimeout(self.tapped);\n      self.tapped = null;\n    }\n  };\n\n  Guestures.prototype.ontouchstart = function (e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $slide = current.$slide,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    // Allow other scripts to catch touch event if \"touch\" is set to false\n    if (current.touch) {\n      e.stopPropagation();\n    }\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n    self.canPan = instance.canPan();\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round($slide[0].clientWidth);\n    self.canvasHeight = Math.round($slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n      top: 0,\n      left: 0\n    };\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    // Skip if clicked outside the sliding area\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      if (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n        return;\n      }\n    }\n\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\n    if (!($.fancybox.isMobile && self.isScrollable)) {\n      e.preventDefault();\n    }\n\n    // One finger or mouse click - swipe or pan an image\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.canPan) {\n        $.fancybox.stop(self.$content);\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-is-grabbing\");\n    }\n\n    // Two fingers - zoom image\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function (e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function (e) {\n    var self = this;\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling) {\n      self.canTap = false;\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function (e) {\n    var self = this,\n      instance = self.instance,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(instance.slides, function (index, slide) {\n          var slidePos, stagePos;\n\n          $.fancybox.stop(slide.$slide);\n\n          slidePos = $.fancybox.getTranslate(slide.$slide);\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n          slide.$slide\n            .css({\n              transform: \"\",\n              opacity: \"\",\n              \"transition-duration\": \"\"\n            })\n            .removeClass(\"fancybox-animated\")\n            .removeClass(function (index, className) {\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n            });\n\n          if (slide.pos === instance.current.pos) {\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\n          }\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: slidePos.top - stagePos.top,\n            left: slidePos.left - stagePos.left\n          });\n        });\n\n        // Stop slideshow\n        if (instance.SlideShow && instance.SlideShow.isActive) {\n          instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function () {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function (index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function () {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function () {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <- 0 1 if (distancex < && newoffsetx maxtranslatex) { + - math.pow(maxtranslatex currentoffsetx distancex, 0.8) || 0; } \\ (distancey> 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function () {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function (e) {\n    var self = this;\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    self.$container.removeClass(\"fancybox-is-grabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 100;\n\n    // Speed in px/ms\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function (swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length,\n      distanceX = Math.abs(self.distanceX),\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n      speedX = 300;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide, {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n      ret = self.instance.close(true, 250);\n    } else if (canAdvance && self.distanceX > 0) {\n      ret = self.instance.previous(speedX);\n    } else if (canAdvance && self.distanceX < 0) {\n      ret = self.instance.next(speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      self.instance.centerSlide(200);\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function () {\n    var self = this,\n      newOffsetX,\n      newOffsetY,\n      newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false || self.dMs > 350) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 366);\n  };\n\n  Guestures.prototype.endZooming = function () {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function (e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function (prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls();\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n      .find($target)\n      .addBack()\n      .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function () {\n          self.tapped = null;\n\n          if (!instance.isAnimating) {\n            process(\"click\" + where);\n          }\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document)\n    .on(\"onActivate.fb\", function (e, instance) {\n      if (instance && !instance.Guestures) {\n        instance.Guestures = new Guestures(instance);\n      }\n    })\n    .on(\"beforeClose.fb\", function (e, instance) {\n      if (instance && instance.Guestures) {\n        instance.Guestures.destroy();\n      }\n    });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000,\n      progress: true\n    }\n  });\n\n  var SlideShow = function (instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function () {\n      var self = this,\n        instance = self.instance,\n        opts = instance.group[instance.currIndex].opts.slideShow;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n        self.toggle();\n      });\n\n      if (instance.group.length < 2 || !opts) {\n        self.$button.hide();\n      } else if (opts.progress) {\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n      }\n    },\n\n    set: function (force) {\n      var self = this,\n        instance = self.instance,\n        current = instance.current;\n\n      // Check if reached last element\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n        if (self.isActive && current.contentType !== \"video\") {\n          if (self.$progress) {\n            $.fancybox.animate(self.$progress.show(), {\n              scaleX: 1\n            }, current.opts.slideShow.speed);\n          }\n\n          self.timer = setTimeout(function () {\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n              instance.jumpTo(0);\n            } else {\n              instance.next();\n            }\n          }, current.opts.slideShow.speed);\n        }\n      } else {\n        self.stop();\n        instance.idleSecondsCounter = 0;\n        instance.showControls();\n      }\n    },\n\n    clear: function () {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    start: function () {\n      var self = this,\n        current = self.instance.current;\n\n      if (current) {\n        self.$button\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.isActive = true;\n\n        if (current.isComplete) {\n          self.set(true);\n        }\n\n        self.instance.trigger(\"onSlideShowChange\", true);\n      }\n    },\n\n    stop: function () {\n      var self = this,\n        current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n\n      self.instance.trigger(\"onSlideShowChange\", false);\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    toggle: function () {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function (e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function () {\n    var instance = $.fancybox.getInstance(),\n      SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function () {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  if (fn) {\n    var FullScreen = {\n      request: function (elem) {\n        elem = elem || document.documentElement;\n\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n      },\n      exit: function () {\n        document[fn.exitFullscreen]();\n      },\n      toggle: function (elem) {\n        elem = elem || document.documentElement;\n\n        if (this.isFullscreen()) {\n          this.exit();\n        } else {\n          this.request(elem);\n        }\n      },\n      isFullscreen: function () {\n        return Boolean(document[fn.fullscreenElement]);\n      },\n      enabled: function () {\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    };\n\n    $.extend(true, $.fancybox.defaults, {\n      btnTpl: {\n        fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n          \"</button>\"\n      },\n      fullScreen: {\n        autoStart: false\n      }\n    });\n\n    $(document).on(fn.fullscreenchange, function () {\n      var isFullscreen = FullScreen.isFullscreen(),\n        instance = $.fancybox.getInstance();\n\n      if (instance) {\n        // If image is zooming, then force to stop and reposition properly\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n          instance.isAnimating = false;\n\n          instance.update(true, true, 0);\n\n          if (!instance.isComplete) {\n            instance.complete();\n          }\n        }\n\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n\n        instance.$refs.toolbar\n          .find(\"[data-fancybox-fullscreen]\")\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n      }\n    });\n  }\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var $container;\n\n      if (!fn) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n\n        return;\n      }\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true, {\n      btnTpl: {\n        thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function (instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function (instance) {\n      var self = this,\n        group = instance.group,\n        enabled = 0;\n\n      self.instance = instance;\n      self.opts = group[instance.currIndex].opts.thumbs;\n\n      instance.Thumbs = self;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      // Enable thumbs if at least two group items have thumbnails\n      for (var i = 0, len = group.length; i < len; i++) {\n        if (group[i].thumb) {\n          enabled++;\n        }\n\n        if (enabled > 1) {\n          break;\n        }\n      }\n\n      if (enabled > 1 && !!self.opts) {\n        self.$button.removeAttr(\"style\").on(\"click\", function () {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function () {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + \"-\" self.opts.axis '\"></div>').appendTo(\n          instance.$refs.container\n          .find(parentEl)\n          .addBack()\n          .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"a\", function () {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function (i, item) {\n        src = item.thumb;\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n          i +\n          '\" ' + (src && src.length ? style=\"background-image:url(' + src + ')\" : 'class=\"fancybox-thumbs-missing\" ') \"></a>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n          instance.group.length *\n          self.$list\n          .children()\n          .eq(0)\n          .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function (duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate({\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate({\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function () {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function () {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function () {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function () {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, jQuery);\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      share: '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\n        \"</button>\"\n    },\n    share: {\n      url: function (instance, item) {\n        return (\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n        );\n      },\n      tpl: '<div class=\"fancybox-share\">' +\n        \"<h1></h1>\" +\n        \"<p>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\"/></svg>' +\n        \"<span>Facebook</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url=&text=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\"/></svg>' +\n        \"<span>Twitter</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url=&description=&media=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n        \"<span>Pinterest</span>\" +\n        \"</a>\" +\n        \"</p>\" +\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value onclick=\"select()\"></p>' +\n        \"</div>\"\n    }\n  });\n\n  function escapeHtml(string) {\n    var entityMap = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\", \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#x2F;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    };\n\n    return String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n      return entityMap[s];\n    });\n  }\n\n  $(document).on(\"click\", \"[data-fancybox-share]\", function () {\n    var instance = $.fancybox.getInstance(),\n      current = instance.current || null,\n      url,\n      tpl;\n\n    if (!current) {\n      return;\n    }\n\n    if ($.type(current.opts.share.url) === \"function\") {\n      url = current.opts.share.url.apply(current, [instance, current]);\n    }\n\n    tpl = current.opts.share.tpl\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n\n    $.fancybox.open({\n      src: instance.translate(instance, tpl),\n      type: \"html\",\n      opts: {\n        touch: false,\n        animationEffect: false,\n        afterLoad: function (shareInstance, shareCurrent) {\n          // Close self if parent instance is closing\n          instance.$refs.container.one(\"beforeClose.fb\", function () {\n            shareInstance.close(null, 0);\n          });\n\n          // Opening links in a popup window\n          shareCurrent.$content.find(\".fancybox-share__button\").click(function () {\n            window.open(this.href, \"Share\", \"width=550, height=450\");\n            return false;\n          });\n        },\n        mobile: {\n          autoFocus: false\n        }\n      }\n    });\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function (sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function (ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute,\n      // then triggering click event should start fancyBox\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .focus()\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function () {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function (e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function (e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (firstRun && !instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function () {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function (e, instance, current) {\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        clearTimeout(instance.hashTimer);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function () {\n      var url = parseUrl(),\n        fb = null;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n        .get()\n        .reverse(),\n        function (index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n\n          if (tmp && tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function () {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, jQuery);</\":></div></-></=></=></div></div></div>","site":{"data":{}},"excerpt":"","more":"// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function (stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Close existing modals\n    // Set this to false if you do not need to stack multiple instances\n    closeExisting: false,\n\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should allow caption to overlap the content\n    preventCaptionOverlap: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      \"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // For HTML5 video only\n    video: {\n      tpl: '<video class=\"fancybox-video\" controls controlslist=\"nodownload\" poster>' +\n        '<source src type>' +\n        'Sorry, your browser doesn\\'t support embedded videos, <a href>download</a> and watch with your favorite video player!' +\n        \"</video>\",\n      format: \"\", // custom video format\n      autoStart: true\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n      '<div class=\"fancybox-toolbar\"></div>' +\n      '<div class=\"fancybox-navigation\"></div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p></p></div>',\n\n    btnTpl: {\n      download: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title href=\"javascript:;\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n        \"</a>\",\n\n      zoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n        \"</button>\",\n\n      close: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n        \"</button>\",\n\n      // Arrows\n      arrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title>' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n        \"</button>\",\n\n      arrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title>' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewbox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n        \"</button>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Hide browser vertical scrollbars; use at your own risk\n    hideScrollbar: true,\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: true,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable panning/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n      media : {\n        youtube : {\n          params : {\n            autoplay : 0\n          }\n        }\n      }\n    */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n      afterShow: function( instance, current ) {\n        console.info( 'Clicked element:' );\n        console.info( current.opts.$orig );\n      }\n    */\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function (current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      preventCaptionOverlap: false,\n      idleTime: false,\n      clickContent: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schlie&szlig;en\",\n        NEXT: \"Weiter\",\n        PREV: \"Zur&uuml;ck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Vergr&ouml;&szlig;ern\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function (obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function () {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function ($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function (opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function (key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // How much of an element is visible in viewport\n  // =============================================\n\n  var inViewport = function (elem) {\n    var elemCenter, rez;\n\n    if (!elem || elem.ownerDocument !== document) {\n      return false;\n    }\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n\n    elemCenter = {\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function (content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({\n      index: index\n    }, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function () {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        $container,\n        buttonStr;\n\n      if (firstItemOpts.closeExisting) {\n        $.fancybox.close(true);\n      }\n\n      // Hide scrollbars\n      // ===============\n\n      $(\"body\").addClass(\"fancybox-active\");\n\n      if (\n        !$.fancybox.getInstance() &&\n        firstItemOpts.hideScrollbar !== false &&\n        !$.fancybox.isMobile &&\n        document.body.scrollHeight > window.innerHeight\n      ) {\n        $(\"head\").append(\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n          (window.innerWidth - document.documentElement.clientWidth) +\n          \"px;}</style>\"\n        );\n\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function (index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n          self.translate(\n            self,\n            firstItemOpts.baseTpl\n            .replace(\"\", buttonStr)\n            .replace(\"\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n          )\n        )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function (obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n        return arr[n] === undefined ? match : arr[n];\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function (content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function (i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        if ($.fancybox.isMobile && obj.opts.mobile) {\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.video.format) {\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n            obj = $.extend(true, obj, {\n              contentType: \"pdf\",\n              opts: {\n                iframe: {\n                  preload: false\n                }\n              }\n            });\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image, check if exists and if is in the viewport\n        obj.$thumb = obj.opts.$thumb || null;\n\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\n\n          if (obj.$thumb.length) {\n            obj.opts.$orig = obj.opts.$trigger;\n          }\n        }\n\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        if (obj.$thumb && !obj.$thumb.length) {\n          obj.$thumb = null;\n        }\n\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            trapFocus: true,\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detecting inactivity\n    // ======================================\n\n    addEvents: function () {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      // ==================================\n\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      // ==========================================\n\n      $W.on(\"orientationchange.fb resize.fb\", function (e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          if (self.requestId) {\n            cancelAFrame(self.requestId);\n          }\n\n          self.requestId = requestAFrame(function () {\n            self.update(e);\n          });\n        } else {\n          if (self.current && self.current.type === \"iframe\") {\n            self.$refs.stage.hide();\n          }\n\n          setTimeout(\n            function () {\n              self.$refs.stage.show();\n\n              self.update(e);\n            },\n            $.fancybox.isMobile ? 600 : 250\n          );\n        }\n      });\n\n      $D.on(\"keydown.fb\", function (e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\n          current = instance.current,\n          keycode = e.keyCode || e.which;\n\n        // Trap keyboard focus inside of the modal\n        // =======================================\n\n        if (keycode == 9) {\n          if (current.opts.trapFocus) {\n            self.focus(e);\n          }\n\n          return;\n        }\n\n        // Enable keyboard navigation\n        // ==========================\n\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function (e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function () {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function () {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function (duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function (duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function (pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        isMoved,\n        loop,\n        current,\n        previous,\n        slidePos,\n        stagePos,\n        prop,\n        diff;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      // Should loop?\n      pos = parseInt(pos, 10);\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      // Check if opening for the first time; this helps to speed things up\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      // Create slides\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Check if user has swiped the slides or if still animating\n      isMoved = self.isMoved(current);\n\n      // Make sure current slide is visible\n      current.$slide.addClass(\"fancybox-slide--current\");\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n\n        // Attempt to load content into slide\n        // This will later call `afterLoad` -> `revealContent`\n        self.loadSlide(current);\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Get actual slide/stage positions (before cleaning up)\n      slidePos = $.fancybox.getTranslate(previous.$slide);\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\n\n      // Clean up all slides\n      $.each(self.slides, function (index, slide) {\n        $.fancybox.stop(slide.$slide, true);\n      });\n\n      if (previous.pos !== current.pos) {\n        previous.isComplete = false;\n      }\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n\n      // If slides are out of place, then animate them to correct position\n      if (isMoved) {\n        // Calculate horizontal swipe distance\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n\n        $.each(self.slides, function (index, slide) {\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n          });\n\n          // Make sure that each slide is in equal distance\n          // This is mostly needed for freshly added slides, because they are not yet positioned\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: 0,\n            left: leftPos - stagePos.left + diff\n          });\n\n          if (slide.pos !== current.pos) {\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n          }\n\n          // Redraw to make sure that transition will start\n          forceRedraw(slide.$slide);\n\n          // Animate the slide\n          $.fancybox.animate(\n            slide.$slide, {\n              top: 0,\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n            },\n            duration,\n            function () {\n              slide.$slide\n                .css({\n                  transform: \"\",\n                  opacity: \"\"\n                })\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                self.complete();\n              }\n            }\n          );\n        });\n      } else if (duration && current.opts.transitionEffect) {\n        // Set transition effect for previously active slide\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n\n        $.fancybox.animate(\n          previous.$slide,\n          prop,\n          duration,\n          function () {\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n          },\n          false\n        );\n      }\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function (pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function (x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content, {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function (duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content, {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function (slide) {\n      var self = this,\n        $content = slide.$content,\n        $slide = slide.$slide,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n\n      maxWidth -=\n        parseFloat($slide.css(\"paddingLeft\")) +\n        parseFloat($slide.css(\"paddingRight\")) +\n        parseFloat($content.css(\"marginLeft\")) +\n        parseFloat($content.css(\"marginRight\"));\n\n      maxHeight -=\n        parseFloat($slide.css(\"paddingTop\")) +\n        parseFloat($slide.css(\"paddingBottom\")) +\n        parseFloat($content.css(\"marginTop\")) +\n        parseFloat($content.css(\"marginBottom\"));\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      width = minRatio * width;\n      height = minRatio * height;\n\n      // Adjust width/height to precisely fit into container\n      if (width > maxWidth - 0.5) {\n        width = maxWidth;\n      }\n\n      if (height > maxHeight - 0.5) {\n        height = maxHeight;\n      }\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function (e) {\n      var self = this;\n\n      $.each(self.slides, function (key, slide) {\n        self.updateSlide(slide, e);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function (slide, e) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        $slide = slide.$slide;\n\n      // First, prevent caption overlap, if needed\n      self.adjustCaption(slide);\n\n      // Then resize content to fit inside the slide\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      // Then some adjustments\n      self.adjustLayout(slide);\n\n      if ($slide.length) {\n        $slide.trigger(\"refresh\");\n\n        if (slide.pos === self.currPos) {\n          self.$refs.toolbar\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n        }\n      }\n\n      self.trigger(\"onUpdate\", slide, e);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function (duration) {\n      var self = this,\n        current = self.current,\n        $slide = current.$slide;\n\n      if (self.isClosing || !current) {\n        return;\n      }\n\n      $slide.siblings().css({\n        transform: \"\",\n        opacity: \"\"\n      });\n\n      $slide\n        .parent()\n        .children()\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n\n      $.fancybox.animate(\n        $slide, {\n          top: 0,\n          left: 0,\n          opacity: 1\n        },\n        duration === undefined ? 0 : duration,\n        function () {\n          // Clean up\n          $slide.css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (!current.isComplete) {\n            self.complete();\n          }\n        },\n        false\n      );\n    },\n\n    // Check if current slide is moved (swiped)\n    // ========================================\n\n    isMoved: function (slide) {\n      var current = slide || this.current,\n        slidePos,\n        stagePos;\n\n      if (!current) {\n        return false;\n      }\n\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\n      slidePos = $.fancybox.getTranslate(current.$slide);\n\n      return (\n        !current.$slide.hasClass(\"fancybox-animated\") &&\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n      );\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container,\n        canPan,\n        isZoomable;\n\n      if (!current || self.isClosing || !self.Guestures) {\n        return;\n      }\n\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n\n      canPan = self.canPan(nextWidth, nextHeight);\n\n      isZoomable = canPan ? true : self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      if (canPan) {\n        $container.addClass(\"fancybox-can-pan\");\n      } else if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n      ) {\n        $container.addClass(\"fancybox-can-zoomIn\");\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-swipe\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function () {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function (nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        pos = null,\n        rez = false;\n\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n        rez = self.getFitPos(current);\n\n        if (nextWidth !== undefined && nextHeight !== undefined) {\n          pos = {\n            width: nextWidth,\n            height: nextHeight\n          };\n        } else if (current.isComplete) {\n          pos = $.fancybox.getTranslate(current.$content);\n        }\n\n        if (pos && rez) {\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n        }\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function (slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      if (self.trigger(\"beforeLoad\", slide) === false) {\n        slide.isLoading = false;\n\n        return false;\n      }\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            slide.opts.video.tpl\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n            .replace(\"\", slide.thumb || \"\")\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function (data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function (jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function () {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function (slide) {\n      var self = this,\n        ghost;\n\n      // Check if need to show loading icon\n      setTimeout(function () {\n        var $img = slide.$image;\n\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 50);\n\n      //Check if image has srcset\n      self.checkSrcset(slide);\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        ghost = document.createElement(\"img\");\n\n        ghost.onerror = function () {\n          $(this).remove();\n\n          slide.$ghost = null;\n        };\n\n        ghost.onload = function () {\n          self.afterLoad(slide);\n        };\n\n        slide.$ghost = $(ghost)\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", slide.thumb);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Check if image has srcset and get the source\n    // ============================================\n    checkSrcset: function (slide) {\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function (el) {\n          var ret = {};\n\n          el.trim()\n            .split(/\\s+/)\n            .forEach(function (el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function (a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = (slide.width / slide.height) * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function (slide) {\n      var self = this,\n        img = document.createElement(\"img\"),\n        $img = $(img);\n\n      slide.$image = $img\n        .one(\"error\", function () {\n          self.setError(slide);\n        })\n        .one(\"load\", function () {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function () {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n        $img.trigger(\"load\");\n      } else if (img.error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function (slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function (e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function () {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate content dimensions, if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            // Avoid scrolling to top (if multiple instances)\n            $slide.css(\"overflow\", \"visible\");\n\n            $content.css({\n              width: \"100%\",\n              \"max-width\": \"100%\",\n              height: \"9999px\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\n\n            $slide.css(\"overflow\", \"auto\");\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        self.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function () {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n        slide.isRevealed = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function (slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\n        }\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function () {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n          slide.isRevealed = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n        .first();\n\n      slide.$content.siblings().hide();\n\n      // Re-check if there is a valid content\n      // (in some cases, ajax response can contain various elements or plain text)\n      if (!slide.$content.length) {\n        slide.$content = slide.$slide\n          .wrapInner(\"<div></div>\")\n          .children()\n          .first();\n      }\n\n      slide.$content.addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      self.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function (slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n          .appendTo(slide.$slide)\n          .hide()\n          .fadeIn(\"fast\");\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.stop().remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function (slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      // Add small close button\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n      }\n\n      // Disable right click\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        slide.$content.on(\"contextmenu.fb\", function (e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.adjustCaption(slide);\n\n      self.adjustLayout(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Prevent caption overlap,\n    // fix css inconsistency across browsers\n    // =====================================\n\n    adjustCaption: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        caption = current.opts.caption,\n        preventOverlap = current.opts.preventCaptionOverlap,\n        $caption = self.$refs.caption,\n        $clone,\n        captionH = false;\n\n      $caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n\n      if (preventOverlap && caption && caption.length) {\n        if (current.pos !== self.currPos) {\n          $clone = $caption.clone().appendTo($caption.parent());\n\n          $clone\n            .children()\n            .eq(0)\n            .empty()\n            .html(caption);\n\n          captionH = $clone.outerHeight(true);\n\n          $clone.empty().remove();\n        } else if (self.$caption) {\n          captionH = self.$caption.outerHeight(true);\n        }\n\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\n      }\n    },\n\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n    // ====================================================================================\n\n    adjustLayout: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        scrollHeight,\n        marginBottom,\n        inlinePadding,\n        actualPadding;\n\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\n        current.$content.css(\"margin-bottom\", \"\");\n\n        // If we would always set margin-bottom for the content,\n        // then it would potentially break vertical align\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\n          actualPadding = current.$slide.css(\"padding-bottom\");\n\n          if (parseFloat(actualPadding) > 0) {\n            scrollHeight = current.$slide[0].scrollHeight;\n\n            current.$slide.css(\"padding-bottom\", 0);\n\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n              marginBottom = actualPadding;\n            }\n\n            current.$slide.css(\"padding-bottom\", inlinePadding);\n          }\n        }\n\n        current.$content.css(\"margin-bottom\", marginBottom);\n      }\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function (slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        isMoved = self.isMoved(slide),\n        isRevealed = slide.isRevealed,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      slide.isRevealed = true;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      if (isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        self.isAnimating = true;\n\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function () {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content if no effect\n      // ================================\n      if (!effect) {\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n          slide.$content.hide().fadeIn(\"fast\");\n        }\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      // Prepare for CSS transiton\n      // =========================\n      $.fancybox.stop($slide);\n\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow\n      forceRedraw($slide);\n\n      if (slide.type !== \"image\") {\n        slide.$content.hide().show(0);\n      }\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function () {\n          $slide.removeClass(effectClassName).css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function (slide) {\n      var rez = false,\n        $thumb = slide.$thumb,\n        thumbPos,\n        btw,\n        brw,\n        bbw,\n        blw;\n\n      if (!$thumb || !inViewport($thumb[0])) {\n        return false;\n      }\n\n      thumbPos = $.fancybox.getTranslate($thumb);\n\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\n\n      rez = {\n        top: thumbPos.top + btw,\n        left: thumbPos.left + blw,\n        width: thumbPos.width - brw - blw,\n        height: thumbPos.height - btw - bbw,\n        scaleX: 1,\n        scaleY: 1\n      };\n\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function () {\n      var self = this,\n        current = self.current,\n        slides = {},\n        $el;\n\n      if (self.isMoved() || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function (key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= 0 self.currpos + 1) { slides[slide.pos]=\"slide;\" } else if (slide) $.fancybox.stop(slide.$slide); slide.$slide.off().remove(); }); self.slides=\"slides;\" self.isanimating=\"false;\" self.updatecursor(); self.trigger(\"aftershow\"); autoplay first html5 video audio (!!current.opts.video.autostart) current.$slide .find(\"video,audio\") .filter(\":visible:first\") .trigger(\"play\") .one(\"ended\", function () (document.exitfullscreen) document.exitfullscreen(); (this.webkitexitfullscreen) this.webkitexitfullscreen(); self.next(); try to focus on the focusable element (current.opts.autofocus && current.contenttype=\"==\" \"html\") look for input with autofocus attribute $el=\"current.$content.find(\"input[autofocus]:enabled:visible:first\");\" ($el.length) $el.trigger(\"focus\"); self.focus(null, true); avoid jumping current.$slide.scrolltop(0).scrollleft(0); }, preload next and previous slides ==\"==============================\" preload: (type) var self=\"this,\" prev, next; (self.group.length < 2) return; 1]; prev=\"self.slides[self.currPos\" - (prev prev.type=\"==\" type) self.loadslide(prev); (next next.type=\"==\" self.loadslide(next); find focus: (e, firstrun) focusablestr=\"[\" \"a[href]\", \"area[href]\", 'input:not([disabled]):not([type=\"hidden\" ]):not([aria-hidden])', \"select:not([disabled]):not([aria-hidden])\", \"textarea:not([disabled]):not([aria-hidden])\", \"button:not([disabled]):not([aria-hidden])\", \"iframe\", \"object\", \"embed\", \"video\", \"audio\", \"[contenteditable]\", '[tabindex]:not([tabindex^=\"-\" ])' ].join(\",\"), focusableitems, focuseditemindex; (self.isclosing) (e || !self.current !self.current.iscomplete) any inside fancybox focusableitems=\"self.$refs.container.find(\"*:visible\");\" current slide (firstrun ? \":not(.fancybox-close-small)\" : \"\")); return $(this).css(\"visibility\") !=\"=\" \"hidden\" !$(this).hasclass(\"disabled\"); (focusableitems.length) focuseditemindex=\"focusableItems.index(document.activeElement);\" e.shiftkey) back tab (focuseditemindex 0) e.preventdefault(); focusableitems.eq(focusableitems.length 1).trigger(\"focus\"); outside or forward focusableitems.length (e) focusableitems.eq(0).trigger(\"focus\"); self.$refs.container.trigger(\"focus\"); activates instance brings container front enables keyboard, notifies other instances about deactivating activate: deactivate all $(\".fancybox-container\").each(function skip closing (instance instance.id self.id !instance.isclosing) instance.trigger(\"ondeactivate\"); instance.removeevents(); instance.isvisible=\"false;\" self.isvisible=\"true;\" (self.current self.isidle) self.update(); self.updatecontrols(); self.trigger(\"onactivate\"); self.addevents(); start procedure this will \"zoom-out\" animation needed clean everything up afterwards close: d) effect, duration, $content, domrect, opacity, start, end; done=\"function\" self.cleanup(e); }; false; self.isclosing=\"true;\" beforeclose callback prevents closing, make sure content is centered (self.trigger(\"beforeclose\", e)=\"==\" false) requestaframe(function remove events there are multiple instances, they be set again by \"activate\" method self.removeevents(); $content=\"current.$content;\" effect=\"current.opts.animationEffect;\" duration=\"$.isNumeric(d)\" d current.opts.animationduration 0; current.$slide.removeclass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\"); true) $.fancybox.stop(current.$slide); .siblings() .trigger(\"onreset\") .remove(); trigger animations (duration) self.$refs.container .removeclass(\"fancybox-is-open\") .addclass(\"fancybox-is-closing\") .css(\"transition-duration\", \"ms\"); self.hideloading(current); self.hidecontrols(true); check possible zoom-out ( \"zoom\" !($content current.type=\"==\" \"image\" !self.ismoved() !current.haserror (end=\"self.getThumbPos(current)))\" ) ; (effect=\"==\" \"zoom\") $.fancybox.stop($content); domrect=\"$.fancybox.getTranslate($content);\" top: domrect.top, left: domrect.left, scalex: domrect.width end.width, scaley: domrect.height end.height, width: height: end.height we need animate opacity (opacity=\"=\" \"auto\") current.height end.width end.height)> 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        $.fancybox.animate(\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n          \"fancybox-animated fancybox-fx-\" + effect,\n          duration,\n          done\n        );\n      } else {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          done();\n        }\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function (e) {\n      var self = this,\n        instance,\n        $focus = self.current.opts.$orig,\n        x,\n        y;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (!!self.current.opts.backFocus) {\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n          $focus = self.$trigger;\n        }\n\n        if ($focus && $focus.length) {\n          x = window.scrollX;\n          y = window.scrollY;\n\n          $focus.trigger(\"focus\");\n\n          $(\"html, body\")\n            .scrollTop(y)\n            .scrollLeft(x);\n        }\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function (name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function () {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption,\n        caption = current.opts.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      // Set caption\n      if (caption && caption.length) {\n        self.$caption = $caption;\n\n        $caption\n          .children()\n          .eq(0)\n          .html(caption);\n      } else {\n        self.$caption = null;\n      }\n\n      if (!self.hasHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0); $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index>= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n\n      // Make sure focus is not on disabled button/element\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function (andCaption) {\n      var self = this,\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\n\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\n        arr.push(\"caption\");\n      }\n\n      this.$refs.container.removeClass(\n        arr\n        .map(function (i) {\n          return \"fancybox-show-\" + i;\n        })\n        .join(\" \")\n      );\n\n      this.hasHiddenControls = true;\n    },\n\n    showControls: function () {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.hasHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function () {\n      if (this.hasHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.5.7\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function (command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function (items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function (all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n        if (all === true) {\n          this.close(all);\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function () {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function () {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function ($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function ($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      } else if (props.scaleX !== undefined) {\n        str += \" scaleX(\" + props.scaleX + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function ($el, to, duration, callback, leaveAnimationName) {\n      var self = this,\n        from;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      self.stop($el);\n\n      from = self.getTranslate($el);\n\n      $el.on(transitionEnd, function (e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        self.stop($el);\n\n        if ($.isNumeric(duration)) {\n          $el.css(\"transition-duration\", \"\");\n        }\n\n        if ($.isPlainObject(to)) {\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\n            self.setTranslate($el, {\n              top: to.top,\n              left: to.left,\n              width: from.width * to.scaleX,\n              height: from.height * to.scaleY,\n              scaleX: 1,\n              scaleY: 1\n            });\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function () {\n          $el.trigger(transitionEnd);\n        }, duration + 33)\n      );\n    },\n\n    stop: function ($el, callCallback) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        if (callCallback) {\n          $el.trigger(transitionEnd);\n        }\n\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value,\n      instance;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = opts || {};\n\n    if (e && e.data) {\n      opts = mergeOpts(e.data.options, opts);\n    }\n\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n    instance = $.fancybox.getInstance();\n\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\n      return;\n    }\n\n    if (opts.selector) {\n      items = $(opts.selector);\n    } else {\n      // Get all related items and find index for clicked one\n      value = $target.attr(\"data-fancybox\") || \"\";\n\n      if (value) {\n        items = e.data ? e.data.items : [];\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n      } else {\n        items = [$target];\n      }\n    }\n\n    index = $(items).index($target);\n\n    // Sometimes current item can not be found\n    if (index < 0) {\n      index = 0;\n    }\n\n    instance = $.fancybox.open(items, opts, index);\n\n    // Save last active element\n    instance.$trigger = $target;\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function (options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {\n          options: options\n        }, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\", {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\n      .trigger(\"click.fb-start\", {\n        $trigger: $(this)\n      });\n  });\n\n  // Track focus event for better accessibility styling\n  // ==================================================\n  (function () {\n    var buttonStr = \".fancybox-button\",\n      focusStr = \"fancybox-focus\",\n      $pressed = null;\n\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n      switch (e.type) {\n        case \"mousedown\":\n          $pressed = $(this);\n          break;\n        case \"mouseup\":\n          $pressed = null;\n          break;\n        case \"focusin\":\n          $(buttonStr).removeClass(focusStr);\n\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n            $(this).addClass(focusStr);\n          }\n          break;\n        case \"focusout\":\n          $(buttonStr).removeClass(focusStr);\n          break;\n      }\n    });\n  })();\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function ($) {\n  \"use strict\";\n\n  // Object containing properties for each media type\n  var defaults = {\n    youtube: {\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: \"transparent\",\n        enablejsapi: 1,\n        html5: 1\n      },\n      paramPlace: 8,\n      type: \"iframe\",\n      url: \"https://www.youtube-nocookie.com/embed/$4\",\n      thumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\"\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1\n      },\n      paramPlace: 3,\n      type: \"iframe\",\n      url: \"//player.vimeo.com/video/$2\"\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: \"image\",\n      url: \"//$1/p/$2/media/?size=l\"\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return (\n          \"//maps.google.\" +\n          rez[2] +\n          \"/?ll=\" +\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n          \"&output=\" +\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n        );\n      }\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: \"iframe\",\n      url: function (rez) {\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n      }\n    }\n  };\n\n  // Formats matching url to final form\n  var format = function (url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || \"\";\n\n    if ($.type(params) === \"object\") {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function (key, value) {\n      url = url.replace(\"$\" + key, value || \"\");\n    });\n\n    if (params.length) {\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n    }\n\n    return url;\n  };\n\n  $(document).on(\"objectNeedsType.fb\", function (e, instance, item) {\n    var url = item.src || \"\",\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function (providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == \"?\") {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split(\"&\");\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split(\"=\", 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n          }\n        }\n      }\n\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n\n      url =\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n\n      if (providerName === \"youtube\") {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === \"vimeo\") {\n        url = url.replace(\"&%23\", \"#\");\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === \"iframe\") {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: \"no\"\n            }\n          }\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n\n  // Load YouTube/Video API on request to detect when video finished playing\n  var VideoAPILoader = {\n    youtube: {\n      src: \"https://www.youtube.com/iframe_api\",\n      class: \"YT\",\n      loading: false,\n      loaded: false\n    },\n\n    vimeo: {\n      src: \"https://player.vimeo.com/api/player.js\",\n      class: \"Vimeo\",\n      loading: false,\n      loaded: false\n    },\n\n    load: function (vendor) {\n      var _this = this,\n        script;\n\n      if (this[vendor].loaded) {\n        setTimeout(function () {\n          _this.done(vendor);\n        });\n        return;\n      }\n\n      if (this[vendor].loading) {\n        return;\n      }\n\n      this[vendor].loading = true;\n\n      script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = this[vendor].src;\n\n      if (vendor === \"youtube\") {\n        window.onYouTubeIframeAPIReady = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      } else {\n        script.onload = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      }\n\n      document.body.appendChild(script);\n    },\n    done: function (vendor) {\n      var instance, $el, player;\n\n      if (vendor === \"youtube\") {\n        delete window.onYouTubeIframeAPIReady;\n      }\n\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        $el = instance.current.$content.find(\"iframe\");\n\n        if (vendor === \"youtube\" && YT !== undefined && YT) {\n          player = new YT.Player($el.attr(\"id\"), {\n            events: {\n              onStateChange: function (e) {\n                if (e.data == 0) {\n                  instance.next();\n                }\n              }\n            }\n          });\n        } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\n          player = new Vimeo.Player($el);\n\n          player.on(\"ended\", function () {\n            instance.next();\n          });\n        }\n      }\n    }\n  };\n\n  $(document).on({\n    \"afterShow.fb\": function (e, instance, current) {\n      if (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\n        VideoAPILoader.load(current.contentSource);\n      }\n    }\n  });\n})(jQuery);\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function (e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function (point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function ($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function (el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function ($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function (instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function () {\n    var self = this;\n\n    self.$container.off(\".fb.touch\");\n\n    $(document).off(\".fb.touch\");\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n      self.requestId = null;\n    }\n\n    if (self.tapped) {\n      clearTimeout(self.tapped);\n      self.tapped = null;\n    }\n  };\n\n  Guestures.prototype.ontouchstart = function (e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $slide = current.$slide,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    // Allow other scripts to catch touch event if \"touch\" is set to false\n    if (current.touch) {\n      e.stopPropagation();\n    }\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n    self.canPan = instance.canPan();\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round($slide[0].clientWidth);\n    self.canvasHeight = Math.round($slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n      top: 0,\n      left: 0\n    };\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    // Skip if clicked outside the sliding area\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      if (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n        return;\n      }\n    }\n\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\n    if (!($.fancybox.isMobile && self.isScrollable)) {\n      e.preventDefault();\n    }\n\n    // One finger or mouse click - swipe or pan an image\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.canPan) {\n        $.fancybox.stop(self.$content);\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-is-grabbing\");\n    }\n\n    // Two fingers - zoom image\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function (e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function (e) {\n    var self = this;\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling) {\n      self.canTap = false;\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function (e) {\n    var self = this,\n      instance = self.instance,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(instance.slides, function (index, slide) {\n          var slidePos, stagePos;\n\n          $.fancybox.stop(slide.$slide);\n\n          slidePos = $.fancybox.getTranslate(slide.$slide);\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n          slide.$slide\n            .css({\n              transform: \"\",\n              opacity: \"\",\n              \"transition-duration\": \"\"\n            })\n            .removeClass(\"fancybox-animated\")\n            .removeClass(function (index, className) {\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n            });\n\n          if (slide.pos === instance.current.pos) {\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\n          }\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: slidePos.top - stagePos.top,\n            left: slidePos.left - stagePos.left\n          });\n        });\n\n        // Stop slideshow\n        if (instance.SlideShow && instance.SlideShow.isActive) {\n          instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function () {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function (index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function () {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function () {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <- 0 1 if (distancex < && newoffsetx maxtranslatex) { + - math.pow(maxtranslatex currentoffsetx distancex, 0.8) || 0; } \\ (distancey> 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function () {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function (e) {\n    var self = this;\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    self.$container.removeClass(\"fancybox-is-grabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 100;\n\n    // Speed in px/ms\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function (swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length,\n      distanceX = Math.abs(self.distanceX),\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n      speedX = 300;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide, {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n      ret = self.instance.close(true, 250);\n    } else if (canAdvance && self.distanceX > 0) {\n      ret = self.instance.previous(speedX);\n    } else if (canAdvance && self.distanceX < 0) {\n      ret = self.instance.next(speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      self.instance.centerSlide(200);\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function () {\n    var self = this,\n      newOffsetX,\n      newOffsetY,\n      newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false || self.dMs > 350) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 366);\n  };\n\n  Guestures.prototype.endZooming = function () {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function (e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function (prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls();\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n      .find($target)\n      .addBack()\n      .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function () {\n          self.tapped = null;\n\n          if (!instance.isAnimating) {\n            process(\"click\" + where);\n          }\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document)\n    .on(\"onActivate.fb\", function (e, instance) {\n      if (instance && !instance.Guestures) {\n        instance.Guestures = new Guestures(instance);\n      }\n    })\n    .on(\"beforeClose.fb\", function (e, instance) {\n      if (instance && instance.Guestures) {\n        instance.Guestures.destroy();\n      }\n    });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000,\n      progress: true\n    }\n  });\n\n  var SlideShow = function (instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function () {\n      var self = this,\n        instance = self.instance,\n        opts = instance.group[instance.currIndex].opts.slideShow;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n        self.toggle();\n      });\n\n      if (instance.group.length < 2 || !opts) {\n        self.$button.hide();\n      } else if (opts.progress) {\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n      }\n    },\n\n    set: function (force) {\n      var self = this,\n        instance = self.instance,\n        current = instance.current;\n\n      // Check if reached last element\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n        if (self.isActive && current.contentType !== \"video\") {\n          if (self.$progress) {\n            $.fancybox.animate(self.$progress.show(), {\n              scaleX: 1\n            }, current.opts.slideShow.speed);\n          }\n\n          self.timer = setTimeout(function () {\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n              instance.jumpTo(0);\n            } else {\n              instance.next();\n            }\n          }, current.opts.slideShow.speed);\n        }\n      } else {\n        self.stop();\n        instance.idleSecondsCounter = 0;\n        instance.showControls();\n      }\n    },\n\n    clear: function () {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    start: function () {\n      var self = this,\n        current = self.instance.current;\n\n      if (current) {\n        self.$button\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.isActive = true;\n\n        if (current.isComplete) {\n          self.set(true);\n        }\n\n        self.instance.trigger(\"onSlideShowChange\", true);\n      }\n    },\n\n    stop: function () {\n      var self = this,\n        current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n\n      self.instance.trigger(\"onSlideShowChange\", false);\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    toggle: function () {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function (e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function () {\n    var instance = $.fancybox.getInstance(),\n      SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function () {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  if (fn) {\n    var FullScreen = {\n      request: function (elem) {\n        elem = elem || document.documentElement;\n\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n      },\n      exit: function () {\n        document[fn.exitFullscreen]();\n      },\n      toggle: function (elem) {\n        elem = elem || document.documentElement;\n\n        if (this.isFullscreen()) {\n          this.exit();\n        } else {\n          this.request(elem);\n        }\n      },\n      isFullscreen: function () {\n        return Boolean(document[fn.fullscreenElement]);\n      },\n      enabled: function () {\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    };\n\n    $.extend(true, $.fancybox.defaults, {\n      btnTpl: {\n        fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n          \"</button>\"\n      },\n      fullScreen: {\n        autoStart: false\n      }\n    });\n\n    $(document).on(fn.fullscreenchange, function () {\n      var isFullscreen = FullScreen.isFullscreen(),\n        instance = $.fancybox.getInstance();\n\n      if (instance) {\n        // If image is zooming, then force to stop and reposition properly\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n          instance.isAnimating = false;\n\n          instance.update(true, true, 0);\n\n          if (!instance.isComplete) {\n            instance.complete();\n          }\n        }\n\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n\n        instance.$refs.toolbar\n          .find(\"[data-fancybox-fullscreen]\")\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n      }\n    });\n  }\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var $container;\n\n      if (!fn) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n\n        return;\n      }\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true, {\n      btnTpl: {\n        thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function (instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function (instance) {\n      var self = this,\n        group = instance.group,\n        enabled = 0;\n\n      self.instance = instance;\n      self.opts = group[instance.currIndex].opts.thumbs;\n\n      instance.Thumbs = self;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      // Enable thumbs if at least two group items have thumbnails\n      for (var i = 0, len = group.length; i < len; i++) {\n        if (group[i].thumb) {\n          enabled++;\n        }\n\n        if (enabled > 1) {\n          break;\n        }\n      }\n\n      if (enabled > 1 && !!self.opts) {\n        self.$button.removeAttr(\"style\").on(\"click\", function () {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function () {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + \"-\" self.opts.axis '\"></div>').appendTo(\n          instance.$refs.container\n          .find(parentEl)\n          .addBack()\n          .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"a\", function () {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function (i, item) {\n        src = item.thumb;\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n          i +\n          '\" ' + (src && src.length ? style=\"background-image:url(' + src + ')\" : 'class=\"fancybox-thumbs-missing\" ') \"></a>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n          instance.group.length *\n          self.$list\n          .children()\n          .eq(0)\n          .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function (duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate({\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate({\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function () {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function () {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function () {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function () {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, jQuery);\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      share: '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\n        \"</button>\"\n    },\n    share: {\n      url: function (instance, item) {\n        return (\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n        );\n      },\n      tpl: '<div class=\"fancybox-share\">' +\n        \"<h1></h1>\" +\n        \"<p>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\"/></svg>' +\n        \"<span>Facebook</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url=&text=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\"/></svg>' +\n        \"<span>Twitter</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url=&description=&media=\">' +\n        '<svg viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n        \"<span>Pinterest</span>\" +\n        \"</a>\" +\n        \"</p>\" +\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value onclick=\"select()\"></p>' +\n        \"</div>\"\n    }\n  });\n\n  function escapeHtml(string) {\n    var entityMap = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\", \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#x2F;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    };\n\n    return String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n      return entityMap[s];\n    });\n  }\n\n  $(document).on(\"click\", \"[data-fancybox-share]\", function () {\n    var instance = $.fancybox.getInstance(),\n      current = instance.current || null,\n      url,\n      tpl;\n\n    if (!current) {\n      return;\n    }\n\n    if ($.type(current.opts.share.url) === \"function\") {\n      url = current.opts.share.url.apply(current, [instance, current]);\n    }\n\n    tpl = current.opts.share.tpl\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n\n    $.fancybox.open({\n      src: instance.translate(instance, tpl),\n      type: \"html\",\n      opts: {\n        touch: false,\n        animationEffect: false,\n        afterLoad: function (shareInstance, shareCurrent) {\n          // Close self if parent instance is closing\n          instance.$refs.container.one(\"beforeClose.fb\", function () {\n            shareInstance.close(null, 0);\n          });\n\n          // Opening links in a popup window\n          shareCurrent.$content.find(\".fancybox-share__button\").click(function () {\n            window.open(this.href, \"Share\", \"width=550, height=450\");\n            return false;\n          });\n        },\n        mobile: {\n          autoFocus: false\n        }\n      }\n    });\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function (sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function (ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute,\n      // then triggering click event should start fancyBox\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .focus()\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function () {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function (e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function (e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (firstRun && !instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function () {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function (e, instance, current) {\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        clearTimeout(instance.hashTimer);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function () {\n      var url = parseUrl(),\n        fb = null;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n        .get()\n        .reverse(),\n        function (index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n\n          if (tmp && tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function () {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, jQuery);</\":></div></-></=></=></div></div></div>"}],"Post":[{"title":"Hello World","date":"2020-03-16T02:00:00.000Z","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n<!--more-->\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2020-03-16 10:00:00\ntags:\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n<!--more-->\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"updated":"2020-03-23T01:35:42.658Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck85lu6s100004s1z7ac7er64","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><a id=\"more\"></a>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3>","more":"<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>"},{"_content":"<img src=\"../images/electron_background.png\" width=\"640px\"/>\n\nElectron：主进程\n3个新的 Helper 应用程序变体\n1.Electron Helper(GPU)：用于 GPU 进程\n2.Electron Helper(Renderer).app：用于渲染器\n3.Electron Helper(Plugin).app：用于插件\n\n### 四、main.js详解\n    \n### 打包\n---\ntitle: electron开发入门\ndate: 2020-03-16 10:24:42\ntags:\n---\n\n### 一、准备工作\n1.安装node.js，[地址](https://nodejs.org/zh-cn/)\n\n    1. 安装完毕后执行:node -v 查看node版本 \n    \n    2. node会同时帮你安装npm包管理工具，你也可以使用yarn来管理包，执行npm -v查看npm的版本\n    \n    注：npm和yarn的区别：npm是目录树包管理方式，yarn是平级包管理方式)\n\n2.安装electron\n\n    npm install -g electron\n    \n     -g：全局，没有权限的话前面加sudo\n\n### 二、创建项目\n方式一：\n```\n1. mkdir demo\n2. cd demo\n3. npm init\n4. npm install electron\n```\n##### 关键步骤：\n1. npm init，执行这个命令后会在项目的根目录创建一个package.json，这个是项目的配置文件，包括项目的名称、版本、脚本、依赖、构建脚本；\n2. npm install electron执行这个命令后会在自动在devDependencies中添加electron的依赖；\n\n这种方式需要你自己手动创建index.html，main.js和render.js等脚本\n\n方式二：\n```\n1. git clone https://github.com/electron/electron-quick-start\n2. cd electron-quick-start\n3. npm install && npm start\n```\n这种方式对初学者比较友好，你只需要3步就能完成项目的创建及启动\n\n### 三、主进程及渲染进程\n前言：electron的本质是一个chromium\n#### 1.主进程\n    入口：main.js\n只有一个，electron将nodejs结合起来，提供了操作访问和操作本地资源的API，这些API原本是在浏览器中不存在的，比如：磁盘、文件访问等，同时它管理着渲染进程窗口的创建和销毁；\n    \n#### 2.渲染进程\n    入口：render.js\nElectron本质是浏览器，它的界面是用html展示的，渲染进程是负责渲染html的，它可以有多个，比如：\n```$xslt\n//main.js\nconst {BrowserWindow} = require('electron');\nconst window1 = new BrowserWindow({width: 200, height: 200})\nconst window2 = new BrowserWindow({width: 200, height: 200})\n\nwindow1.loadURL('https://baidu.com');\nwindow2.loadURL(`file://${__dirname}/index.html`)\n```\n这两个窗口一个加载的是外部url，一个是本地的文件，两者是相互独立的进程，如果window1出现崩溃的话，window2是不受影响的；\n\n#### 3.任务管理器的展示\n\n","source":"_posts/electron开发入门.md","raw":"<img src=\"../images/electron_background.png\" width=\"640px\"/>\n\nElectron：主进程\n3个新的 Helper 应用程序变体\n1.Electron Helper(GPU)：用于 GPU 进程\n2.Electron Helper(Renderer).app：用于渲染器\n3.Electron Helper(Plugin).app：用于插件\n\n### 四、main.js详解\n    \n### 打包\n---\ntitle: electron开发入门\ndate: 2020-03-16 10:24:42\ntags:\n---\n\n### 一、准备工作\n1.安装node.js，[地址](https://nodejs.org/zh-cn/)\n\n    1. 安装完毕后执行:node -v 查看node版本 \n    \n    2. node会同时帮你安装npm包管理工具，你也可以使用yarn来管理包，执行npm -v查看npm的版本\n    \n    注：npm和yarn的区别：npm是目录树包管理方式，yarn是平级包管理方式)\n\n2.安装electron\n\n    npm install -g electron\n    \n     -g：全局，没有权限的话前面加sudo\n\n### 二、创建项目\n方式一：\n```\n1. mkdir demo\n2. cd demo\n3. npm init\n4. npm install electron\n```\n##### 关键步骤：\n1. npm init，执行这个命令后会在项目的根目录创建一个package.json，这个是项目的配置文件，包括项目的名称、版本、脚本、依赖、构建脚本；\n2. npm install electron执行这个命令后会在自动在devDependencies中添加electron的依赖；\n\n这种方式需要你自己手动创建index.html，main.js和render.js等脚本\n\n方式二：\n```\n1. git clone https://github.com/electron/electron-quick-start\n2. cd electron-quick-start\n3. npm install && npm start\n```\n这种方式对初学者比较友好，你只需要3步就能完成项目的创建及启动\n\n### 三、主进程及渲染进程\n前言：electron的本质是一个chromium\n#### 1.主进程\n    入口：main.js\n只有一个，electron将nodejs结合起来，提供了操作访问和操作本地资源的API，这些API原本是在浏览器中不存在的，比如：磁盘、文件访问等，同时它管理着渲染进程窗口的创建和销毁；\n    \n#### 2.渲染进程\n    入口：render.js\nElectron本质是浏览器，它的界面是用html展示的，渲染进程是负责渲染html的，它可以有多个，比如：\n```$xslt\n//main.js\nconst {BrowserWindow} = require('electron');\nconst window1 = new BrowserWindow({width: 200, height: 200})\nconst window2 = new BrowserWindow({width: 200, height: 200})\n\nwindow1.loadURL('https://baidu.com');\nwindow2.loadURL(`file://${__dirname}/index.html`)\n```\n这两个窗口一个加载的是外部url，一个是本地的文件，两者是相互独立的进程，如果window1出现崩溃的话，window2是不受影响的；\n\n#### 3.任务管理器的展示\n\n","slug":"electron开发入门","published":1,"date":"2020-03-25T13:35:53.385Z","updated":"2020-03-25T13:35:53.385Z","title":"electron开发入门","_id":"ck85lu6sf00014s1z02214v4n","comments":1,"layout":"post","photos":[],"link":"","content":"<img src=\"../images/electron_background.png\" width=\"640px\">\n\n<p>Electron：主进程<br>3个新的 Helper 应用程序变体<br>1.Electron Helper(GPU)：用于 GPU 进程<br>2.Electron Helper(Renderer).app：用于渲染器<br>3.Electron Helper(Plugin).app：用于插件</p>\n<h3 id=\"四、main-js详解\"><a href=\"#四、main-js详解\" class=\"headerlink\" title=\"四、main.js详解\"></a>四、main.js详解</h3><h3 id=\"打包\"><a href=\"#打包\" class=\"headerlink\" title=\"打包\"></a>打包</h3><hr>\n<p>title: electron开发入门<br>date: 2020-03-16 10:24:42<br>tags:</p>\n<hr>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><p>1.安装node.js，<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<pre><code>1. 安装完毕后执行:node -v 查看node版本 \n\n2. node会同时帮你安装npm包管理工具，你也可以使用yarn来管理包，执行npm -v查看npm的版本\n\n注：npm和yarn的区别：npm是目录树包管理方式，yarn是平级包管理方式)</code></pre><p>2.安装electron</p>\n<pre><code>npm install -g electron\n\n -g：全局，没有权限的话前面加sudo</code></pre><h3 id=\"二、创建项目\"><a href=\"#二、创建项目\" class=\"headerlink\" title=\"二、创建项目\"></a>二、创建项目</h3><p>方式一：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. mkdir demo</span><br><span class=\"line\">2. cd demo</span><br><span class=\"line\">3. npm init</span><br><span class=\"line\">4. npm install electron</span><br></pre></td></tr></table></figure>\n<h5 id=\"关键步骤：\"><a href=\"#关键步骤：\" class=\"headerlink\" title=\"关键步骤：\"></a>关键步骤：</h5><ol>\n<li>npm init，执行这个命令后会在项目的根目录创建一个package.json，这个是项目的配置文件，包括项目的名称、版本、脚本、依赖、构建脚本；</li>\n<li>npm install electron执行这个命令后会在自动在devDependencies中添加electron的依赖；</li>\n</ol>\n<p>这种方式需要你自己手动创建index.html，main.js和render.js等脚本</p>\n<p>方式二：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. git clone https:&#x2F;&#x2F;github.com&#x2F;electron&#x2F;electron-quick-start</span><br><span class=\"line\">2. cd electron-quick-start</span><br><span class=\"line\">3. npm install &amp;&amp; npm start</span><br></pre></td></tr></table></figure>\n<p>这种方式对初学者比较友好，你只需要3步就能完成项目的创建及启动</p>\n<h3 id=\"三、主进程及渲染进程\"><a href=\"#三、主进程及渲染进程\" class=\"headerlink\" title=\"三、主进程及渲染进程\"></a>三、主进程及渲染进程</h3><p>前言：electron的本质是一个chromium</p>\n<h4 id=\"1-主进程\"><a href=\"#1-主进程\" class=\"headerlink\" title=\"1.主进程\"></a>1.主进程</h4><pre><code>入口：main.js</code></pre><p>只有一个，electron将nodejs结合起来，提供了操作访问和操作本地资源的API，这些API原本是在浏览器中不存在的，比如：磁盘、文件访问等，同时它管理着渲染进程窗口的创建和销毁；</p>\n<h4 id=\"2-渲染进程\"><a href=\"#2-渲染进程\" class=\"headerlink\" title=\"2.渲染进程\"></a>2.渲染进程</h4><pre><code>入口：render.js</code></pre><p>Electron本质是浏览器，它的界面是用html展示的，渲染进程是负责渲染html的，它可以有多个，比如：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;main.js</span><br><span class=\"line\">const &#123;BrowserWindow&#125; &#x3D; require(&#39;electron&#39;);</span><br><span class=\"line\">const window1 &#x3D; new BrowserWindow(&#123;width: 200, height: 200&#125;)</span><br><span class=\"line\">const window2 &#x3D; new BrowserWindow(&#123;width: 200, height: 200&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">window1.loadURL(&#39;https:&#x2F;&#x2F;baidu.com&#39;);</span><br><span class=\"line\">window2.loadURL(&#96;file:&#x2F;&#x2F;$&#123;__dirname&#125;&#x2F;index.html&#96;)</span><br></pre></td></tr></table></figure>\n<p>这两个窗口一个加载的是外部url，一个是本地的文件，两者是相互独立的进程，如果window1出现崩溃的话，window2是不受影响的；</p>\n<h4 id=\"3-任务管理器的展示\"><a href=\"#3-任务管理器的展示\" class=\"headerlink\" title=\"3.任务管理器的展示\"></a>3.任务管理器的展示</h4>","site":{"data":{}},"excerpt":"","more":"<img src=\"../images/electron_background.png\" width=\"640px\">\n\n<p>Electron：主进程<br>3个新的 Helper 应用程序变体<br>1.Electron Helper(GPU)：用于 GPU 进程<br>2.Electron Helper(Renderer).app：用于渲染器<br>3.Electron Helper(Plugin).app：用于插件</p>\n<h3 id=\"四、main-js详解\"><a href=\"#四、main-js详解\" class=\"headerlink\" title=\"四、main.js详解\"></a>四、main.js详解</h3><h3 id=\"打包\"><a href=\"#打包\" class=\"headerlink\" title=\"打包\"></a>打包</h3><hr>\n<p>title: electron开发入门<br>date: 2020-03-16 10:24:42<br>tags:</p>\n<hr>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><p>1.安装node.js，<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<pre><code>1. 安装完毕后执行:node -v 查看node版本 \n\n2. node会同时帮你安装npm包管理工具，你也可以使用yarn来管理包，执行npm -v查看npm的版本\n\n注：npm和yarn的区别：npm是目录树包管理方式，yarn是平级包管理方式)</code></pre><p>2.安装electron</p>\n<pre><code>npm install -g electron\n\n -g：全局，没有权限的话前面加sudo</code></pre><h3 id=\"二、创建项目\"><a href=\"#二、创建项目\" class=\"headerlink\" title=\"二、创建项目\"></a>二、创建项目</h3><p>方式一：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. mkdir demo</span><br><span class=\"line\">2. cd demo</span><br><span class=\"line\">3. npm init</span><br><span class=\"line\">4. npm install electron</span><br></pre></td></tr></table></figure>\n<h5 id=\"关键步骤：\"><a href=\"#关键步骤：\" class=\"headerlink\" title=\"关键步骤：\"></a>关键步骤：</h5><ol>\n<li>npm init，执行这个命令后会在项目的根目录创建一个package.json，这个是项目的配置文件，包括项目的名称、版本、脚本、依赖、构建脚本；</li>\n<li>npm install electron执行这个命令后会在自动在devDependencies中添加electron的依赖；</li>\n</ol>\n<p>这种方式需要你自己手动创建index.html，main.js和render.js等脚本</p>\n<p>方式二：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. git clone https:&#x2F;&#x2F;github.com&#x2F;electron&#x2F;electron-quick-start</span><br><span class=\"line\">2. cd electron-quick-start</span><br><span class=\"line\">3. npm install &amp;&amp; npm start</span><br></pre></td></tr></table></figure>\n<p>这种方式对初学者比较友好，你只需要3步就能完成项目的创建及启动</p>\n<h3 id=\"三、主进程及渲染进程\"><a href=\"#三、主进程及渲染进程\" class=\"headerlink\" title=\"三、主进程及渲染进程\"></a>三、主进程及渲染进程</h3><p>前言：electron的本质是一个chromium</p>\n<h4 id=\"1-主进程\"><a href=\"#1-主进程\" class=\"headerlink\" title=\"1.主进程\"></a>1.主进程</h4><pre><code>入口：main.js</code></pre><p>只有一个，electron将nodejs结合起来，提供了操作访问和操作本地资源的API，这些API原本是在浏览器中不存在的，比如：磁盘、文件访问等，同时它管理着渲染进程窗口的创建和销毁；</p>\n<h4 id=\"2-渲染进程\"><a href=\"#2-渲染进程\" class=\"headerlink\" title=\"2.渲染进程\"></a>2.渲染进程</h4><pre><code>入口：render.js</code></pre><p>Electron本质是浏览器，它的界面是用html展示的，渲染进程是负责渲染html的，它可以有多个，比如：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;main.js</span><br><span class=\"line\">const &#123;BrowserWindow&#125; &#x3D; require(&#39;electron&#39;);</span><br><span class=\"line\">const window1 &#x3D; new BrowserWindow(&#123;width: 200, height: 200&#125;)</span><br><span class=\"line\">const window2 &#x3D; new BrowserWindow(&#123;width: 200, height: 200&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">window1.loadURL(&#39;https:&#x2F;&#x2F;baidu.com&#39;);</span><br><span class=\"line\">window2.loadURL(&#96;file:&#x2F;&#x2F;$&#123;__dirname&#125;&#x2F;index.html&#96;)</span><br></pre></td></tr></table></figure>\n<p>这两个窗口一个加载的是外部url，一个是本地的文件，两者是相互独立的进程，如果window1出现崩溃的话，window2是不受影响的；</p>\n<h4 id=\"3-任务管理器的展示\"><a href=\"#3-任务管理器的展示\" class=\"headerlink\" title=\"3.任务管理器的展示\"></a>3.任务管理器的展示</h4>"},{"title":"node入坑","date":"2020-03-25T03:25:59.000Z","_content":"方式1：\n```\nchildProcess = exec('adb logcat | grep \"sqsdk\"');\n childProcess.stdout.on(\"data\", (data) => {\n            console.log(`${data}`);\n        });\n```\n 到达了maxbuffer便不会输出\n \n 方式2：\n 执行脚本文件：不支持多个平台\n \n 方式3：\n 执行spawn子进程，发现会多出来很多日志\n子进程需要关闭父进程来关闭掉\n\n\n```$xslt\nlet result = str.search(/sqsdk/);\n正则匹配到的位置：1032\n\n03-25 11:51:20.793  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>getRecentlyServerData serverData:[recentlyTcpServerProfile = [ sIP=123.125.102.86, sPort=443, pIP=null, pPort=0, protocol=tcp, type=recently ],timeStamp = 0],apnKey:02:00:00:00:00:00\n03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>start getCurrentApn \n03-25 11:51:20.793  1344  1744 E WifiService: enforceCanAccessScanResults: hiding ssid and bssidUID 10368 has no location permission\n03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>end getCurrentApn key = 02:00:00:00:00:00\n03-25 11:51:20.793  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>load 20002_apnisps_for_channel_session\n03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>get current apn optimum server list, apnKey is 02:00:00:00:00:00, ispKey isother\n03-25 11:51:20.795  8773  8773 D sqsdk-SqTrackActionManager: sq trackAction event:SqTrackAction{event='open_game', name='打开游戏'}\n03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>get optimum server list, key is other\n03-25 11:51:20.795  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>load 20002_optservers_for_channel_session\n```\n","source":"_posts/node入坑.md","raw":"---\ntitle: node入坑\ndate: 2020-03-25 11:25:59\ntags:\n---\n方式1：\n```\nchildProcess = exec('adb logcat | grep \"sqsdk\"');\n childProcess.stdout.on(\"data\", (data) => {\n            console.log(`${data}`);\n        });\n```\n 到达了maxbuffer便不会输出\n \n 方式2：\n 执行脚本文件：不支持多个平台\n \n 方式3：\n 执行spawn子进程，发现会多出来很多日志\n子进程需要关闭父进程来关闭掉\n\n\n```$xslt\nlet result = str.search(/sqsdk/);\n正则匹配到的位置：1032\n\n03-25 11:51:20.793  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>getRecentlyServerData serverData:[recentlyTcpServerProfile = [ sIP=123.125.102.86, sPort=443, pIP=null, pPort=0, protocol=tcp, type=recently ],timeStamp = 0],apnKey:02:00:00:00:00:00\n03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>start getCurrentApn \n03-25 11:51:20.793  1344  1744 E WifiService: enforceCanAccessScanResults: hiding ssid and bssidUID 10368 has no location permission\n03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>end getCurrentApn key = 02:00:00:00:00:00\n03-25 11:51:20.793  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>load 20002_apnisps_for_channel_session\n03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>get current apn optimum server list, apnKey is 02:00:00:00:00:00, ispKey isother\n03-25 11:51:20.795  8773  8773 D sqsdk-SqTrackActionManager: sq trackAction event:SqTrackAction{event='open_game', name='打开游戏'}\n03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>get optimum server list, key is other\n03-25 11:51:20.795  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_=>load 20002_optservers_for_channel_session\n```\n","slug":"node入坑","published":1,"updated":"2020-03-25T03:54:26.614Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck874crvd00007c1z0hvuhs00","content":"<p>方式1：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">childProcess &#x3D; exec(&#39;adb logcat | grep &quot;sqsdk&quot;&#39;);</span><br><span class=\"line\"> childProcess.stdout.on(&quot;data&quot;, (data) &#x3D;&gt; &#123;</span><br><span class=\"line\">            console.log(&#96;$&#123;data&#125;&#96;);</span><br><span class=\"line\">        &#125;);</span><br></pre></td></tr></table></figure>\n<p> 到达了maxbuffer便不会输出</p>\n<p> 方式2：<br> 执行脚本文件：不支持多个平台</p>\n<p> 方式3：<br> 执行spawn子进程，发现会多出来很多日志<br>子进程需要关闭父进程来关闭掉</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let result &#x3D; str.search(&#x2F;sqsdk&#x2F;);</span><br><span class=\"line\">正则匹配到的位置：1032</span><br><span class=\"line\"></span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;getRecentlyServerData serverData:[recentlyTcpServerProfile &#x3D; [ sIP&#x3D;123.125.102.86, sPort&#x3D;443, pIP&#x3D;null, pPort&#x3D;0, protocol&#x3D;tcp, type&#x3D;recently ],timeStamp &#x3D; 0],apnKey:02:00:00:00:00:00</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;start getCurrentApn </span><br><span class=\"line\">03-25 11:51:20.793  1344  1744 E WifiService: enforceCanAccessScanResults: hiding ssid and bssidUID 10368 has no location permission</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;end getCurrentApn key &#x3D; 02:00:00:00:00:00</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;load 20002_apnisps_for_channel_session</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;get current apn optimum server list, apnKey is 02:00:00:00:00:00, ispKey isother</span><br><span class=\"line\">03-25 11:51:20.795  8773  8773 D sqsdk-SqTrackActionManager: sq trackAction event:SqTrackAction&#123;event&#x3D;&#39;open_game&#39;, name&#x3D;&#39;打开游戏&#39;&#125;</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;get optimum server list, key is other</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;load 20002_optservers_for_channel_session</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>方式1：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">childProcess &#x3D; exec(&#39;adb logcat | grep &quot;sqsdk&quot;&#39;);</span><br><span class=\"line\"> childProcess.stdout.on(&quot;data&quot;, (data) &#x3D;&gt; &#123;</span><br><span class=\"line\">            console.log(&#96;$&#123;data&#125;&#96;);</span><br><span class=\"line\">        &#125;);</span><br></pre></td></tr></table></figure>\n<p> 到达了maxbuffer便不会输出</p>\n<p> 方式2：<br> 执行脚本文件：不支持多个平台</p>\n<p> 方式3：<br> 执行spawn子进程，发现会多出来很多日志<br>子进程需要关闭父进程来关闭掉</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let result &#x3D; str.search(&#x2F;sqsdk&#x2F;);</span><br><span class=\"line\">正则匹配到的位置：1032</span><br><span class=\"line\"></span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;getRecentlyServerData serverData:[recentlyTcpServerProfile &#x3D; [ sIP&#x3D;123.125.102.86, sPort&#x3D;443, pIP&#x3D;null, pPort&#x3D;0, protocol&#x3D;tcp, type&#x3D;recently ],timeStamp &#x3D; 0],apnKey:02:00:00:00:00:00</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;start getCurrentApn </span><br><span class=\"line\">03-25 11:51:20.793  1344  1744 E WifiService: enforceCanAccessScanResults: hiding ssid and bssidUID 10368 has no location permission</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 D IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;end getCurrentApn key &#x3D; 02:00:00:00:00:00</span><br><span class=\"line\">03-25 11:51:20.793  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;load 20002_apnisps_for_channel_session</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;get current apn optimum server list, apnKey is 02:00:00:00:00:00, ispKey isother</span><br><span class=\"line\">03-25 11:51:20.795  8773  8773 D sqsdk-SqTrackActionManager: sq trackAction event:SqTrackAction&#123;event&#x3D;&#39;open_game&#39;, name&#x3D;&#39;打开游戏&#39;&#125;</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 V IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;get optimum server list, key is other</span><br><span class=\"line\">03-25 11:51:20.795  8773  8820 I IIpInfoManager(MiLinkSDK)(misdk): SessionManagerForSimpleChannel_&#x3D;&gt;load 20002_optservers_for_channel_session</span><br></pre></td></tr></table></figure>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}